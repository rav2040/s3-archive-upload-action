"use strict";var vO=Object.create;var xc=Object.defineProperty;var PO=Object.getOwnPropertyDescriptor;var OO=Object.getOwnPropertyNames;var IO=Object.getPrototypeOf,DO=Object.prototype.hasOwnProperty;var Fe=(t,e)=>()=>(t&&(e=t(t=0)),e);var S=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),So=(t,e)=>{for(var r in e)xc(t,r,{get:e[r],enumerable:!0})},lE=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of OO(e))!DO.call(t,s)&&s!==r&&xc(t,s,{get:()=>e[s],enumerable:!(n=PO(e,s))||n.enumerable});return t};var Gt=(t,e,r)=>(r=t!=null?vO(IO(t)):{},lE(e||!t||!t.__esModule?xc(r,"default",{value:t,enumerable:!0}):r,t)),wo=t=>lE(xc({},"__esModule",{value:!0}),t);var Cc=S(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.toCommandProperties=bo.toCommandValue=void 0;function BO(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}bo.toCommandValue=BO;function MO(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}bo.toCommandProperties=MO});var mE=S(Kt=>{"use strict";var LO=Kt&&Kt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),FO=Kt&&Kt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UO=Kt&&Kt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&LO(e,t,r);return FO(e,t),e};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.issue=Kt.issueCommand=void 0;var zO=UO(require("os")),fE=Cc();function hE(t,e,r){let n=new Xu(t,e,r);process.stdout.write(n.toString()+zO.EOL)}Kt.issueCommand=hE;function $O(t,e=""){hE(t,{},e)}Kt.issue=$O;var uE="::",Xu=class{constructor(e,r,n){e||(e="missing.command"),this.command=e,this.properties=r,this.message=n}toString(){let e=uE+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let s=this.properties[n];s&&(r?r=!1:e+=",",e+=`${n}=${HO(s)}`)}}return e+=`${uE}${qO(this.message)}`,e}};function qO(t){return fE.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function HO(t){return fE.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function Zi(){return Sc>wc.length-16&&(pE.default.randomFillSync(wc),Sc=0),wc.slice(Sc,Sc+=16)}var pE,wc,Sc,Qu=Fe(()=>{pE=Gt(require("crypto")),wc=new Uint8Array(256),Sc=wc.length});var yE,gE=Fe(()=>{yE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function jO(t){return typeof t=="string"&&yE.test(t)}var kn,Ji=Fe(()=>{gE();kn=jO});function GO(t,e=0){let r=(tt[t[e+0]]+tt[t[e+1]]+tt[t[e+2]]+tt[t[e+3]]+"-"+tt[t[e+4]]+tt[t[e+5]]+"-"+tt[t[e+6]]+tt[t[e+7]]+"-"+tt[t[e+8]]+tt[t[e+9]]+"-"+tt[t[e+10]]+tt[t[e+11]]+tt[t[e+12]]+tt[t[e+13]]+tt[t[e+14]]+tt[t[e+15]]).toLowerCase();if(!kn(r))throw TypeError("Stringified UUID is invalid");return r}var tt,Tn,ea=Fe(()=>{Ji();tt=[];for(let t=0;t<256;++t)tt.push((t+256).toString(16).substr(1));Tn=GO});function KO(t,e,r){let n=e&&r||0,s=e||new Array(16);t=t||{};let o=t.node||EE,i=t.clockseq!==void 0?t.clockseq:Zu;if(o==null||i==null){let u=t.random||(t.rng||Zi)();o==null&&(o=EE=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),i==null&&(i=Zu=(u[6]<<8|u[7])&16383)}let a=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:ef+1,d=a-Ju+(c-ef)/1e4;if(d<0&&t.clockseq===void 0&&(i=i+1&16383),(d<0||a>Ju)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Ju=a,ef=c,Zu=i,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;s[n++]=l>>>24&255,s[n++]=l>>>16&255,s[n++]=l>>>8&255,s[n++]=l&255;let f=a/4294967296*1e4&268435455;s[n++]=f>>>8&255,s[n++]=f&255,s[n++]=f>>>24&15|16,s[n++]=f>>>16&255,s[n++]=i>>>8|128,s[n++]=i&255;for(let u=0;u<6;++u)s[n+u]=o[u];return e||Tn(s)}var EE,Zu,Ju,ef,xE,CE=Fe(()=>{Qu();ea();Ju=0,ef=0;xE=KO});function VO(t){if(!kn(t))throw TypeError("Invalid UUID");let e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}var bc,tf=Fe(()=>{Ji();bc=VO});function WO(t){t=unescape(encodeURIComponent(t));let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}function _c(t,e,r){function n(s,o,i,a){if(typeof s=="string"&&(s=WO(s)),typeof o=="string"&&(o=bc(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+s.length);if(c.set(o),c.set(s,o.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,i){a=a||0;for(let d=0;d<16;++d)i[a+d]=c[d];return i}return Tn(c)}try{n.name=t}catch{}return n.DNS=YO,n.URL=XO,n}var YO,XO,rf=Fe(()=>{ea();tf();YO="6ba7b810-9dad-11d1-80b4-00c04fd430c8",XO="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function QO(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),SE.default.createHash("md5").update(t).digest()}var SE,wE,bE=Fe(()=>{SE=Gt(require("crypto"));wE=QO});var ZO,_E,RE=Fe(()=>{rf();bE();ZO=_c("v3",48,wE),_E=ZO});function JO(t,e,r){t=t||{};let n=t.random||(t.rng||Zi)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(let s=0;s<16;++s)e[r+s]=n[s];return e}return Tn(n)}var Rc,AE=Fe(()=>{Qu();ea();Rc=JO});function eI(t){return Array.isArray(t)?t=Buffer.from(t):typeof t=="string"&&(t=Buffer.from(t,"utf8")),kE.default.createHash("sha1").update(t).digest()}var kE,TE,NE=Fe(()=>{kE=Gt(require("crypto"));TE=eI});var tI,vE,PE=Fe(()=>{rf();NE();tI=_c("v5",80,TE),vE=tI});var OE,IE=Fe(()=>{OE="00000000-0000-0000-0000-000000000000"});function rI(t){if(!kn(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var DE,BE=Fe(()=>{Ji();DE=rI});var ME={};So(ME,{NIL:()=>OE,parse:()=>bc,stringify:()=>Tn,v1:()=>xE,v3:()=>_E,v4:()=>Rc,v5:()=>vE,validate:()=>kn,version:()=>DE});var nf=Fe(()=>{CE();RE();AE();PE();IE();BE();Ji();ea();tf()});var zE=S(Vt=>{"use strict";var nI=Vt&&Vt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),sI=Vt&&Vt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),FE=Vt&&Vt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&nI(e,t,r);return sI(e,t),e};Object.defineProperty(Vt,"__esModule",{value:!0});Vt.prepareKeyValueMessage=Vt.issueFileCommand=void 0;var LE=FE(require("fs")),sf=FE(require("os")),oI=(nf(),wo(ME)),UE=Cc();function iI(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!LE.existsSync(r))throw new Error(`Missing file at path: ${r}`);LE.appendFileSync(r,`${UE.toCommandValue(e)}${sf.EOL}`,{encoding:"utf8"})}Vt.issueFileCommand=iI;function aI(t,e){let r=`ghadelimiter_${oI.v4()}`,n=UE.toCommandValue(e);if(t.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${t}<<${r}${sf.EOL}${n}${sf.EOL}${r}`}Vt.prepareKeyValueMessage=aI});var qE=S(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.checkBypass=_o.getProxyUrl=void 0;function cI(t){let e=t.protocol==="https:";if($E(t))return;let r=(()=>e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}_o.getProxyUrl=cI;function $E(t){if(!t.hostname)return!1;let e=t.hostname;if(dI(e))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;t.port?n=Number(t.port):t.protocol==="http:"?n=80:t.protocol==="https:"&&(n=443);let s=[t.hostname.toUpperCase()];typeof n=="number"&&s.push(`${s[0]}:${n}`);for(let o of r.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(o==="*"||s.some(i=>i===o||i.endsWith(`.${o}`)||o.startsWith(".")&&i.endsWith(`${o}`)))return!0;return!1}_o.checkBypass=$E;function dI(t){let e=t.toLowerCase();return e==="localhost"||e.startsWith("127.")||e.startsWith("[::1]")||e.startsWith("[0:0:0:0:0:0:0:1]")}});var KE=S(Ro=>{"use strict";var GG=require("net"),lI=require("tls"),of=require("http"),HE=require("https"),uI=require("events"),KG=require("assert"),fI=require("util");Ro.httpOverHttp=hI;Ro.httpsOverHttp=mI;Ro.httpOverHttps=pI;Ro.httpsOverHttps=yI;function hI(t){var e=new Yr(t);return e.request=of.request,e}function mI(t){var e=new Yr(t);return e.request=of.request,e.createSocket=jE,e.defaultPort=443,e}function pI(t){var e=new Yr(t);return e.request=HE.request,e}function yI(t){var e=new Yr(t);return e.request=HE.request,e.createSocket=jE,e.defaultPort=443,e}function Yr(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||of.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(n,s,o,i){for(var a=GE(s,o,i),c=0,d=e.requests.length;c<d;++c){var l=e.requests[c];if(l.host===a.host&&l.port===a.port){e.requests.splice(c,1),l.request.onSocket(n);return}}n.destroy(),e.removeSocket(n)})}fI.inherits(Yr,uI.EventEmitter);Yr.prototype.addRequest=function(e,r,n,s){var o=this,i=af({request:e},o.options,GE(r,n,s));if(o.sockets.length>=this.maxSockets){o.requests.push(i);return}o.createSocket(i,function(a){a.on("free",c),a.on("close",d),a.on("agentRemove",d),e.onSocket(a);function c(){o.emit("free",a,i)}function d(l){o.removeSocket(a),a.removeListener("free",c),a.removeListener("close",d),a.removeListener("agentRemove",d)}})};Yr.prototype.createSocket=function(e,r){var n=this,s={};n.sockets.push(s);var o=af({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(o.localAddress=e.localAddress),o.proxyAuth&&(o.headers=o.headers||{},o.headers["Proxy-Authorization"]="Basic "+new Buffer(o.proxyAuth).toString("base64")),Nn("making CONNECT request");var i=n.request(o);i.useChunkedEncodingByDefault=!1,i.once("response",a),i.once("upgrade",c),i.once("connect",d),i.once("error",l),i.end();function a(f){f.upgrade=!0}function c(f,u,g){process.nextTick(function(){d(f,u,g)})}function d(f,u,g){if(i.removeAllListeners(),u.removeAllListeners(),f.statusCode!==200){Nn("tunneling socket could not be established, statusCode=%d",f.statusCode),u.destroy();var y=new Error("tunneling socket could not be established, statusCode="+f.statusCode);y.code="ECONNRESET",e.request.emit("error",y),n.removeSocket(s);return}if(g.length>0){Nn("got illegal response body from proxy"),u.destroy();var y=new Error("got illegal response body from proxy");y.code="ECONNRESET",e.request.emit("error",y),n.removeSocket(s);return}return Nn("tunneling connection has established"),n.sockets[n.sockets.indexOf(s)]=u,r(u)}function l(f){i.removeAllListeners(),Nn(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var u=new Error("tunneling socket could not be established, cause="+f.message);u.code="ECONNRESET",e.request.emit("error",u),n.removeSocket(s)}};Yr.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(s){n.request.onSocket(s)})}};function jE(t,e){var r=this;Yr.prototype.createSocket.call(r,t,function(n){var s=t.request.getHeader("host"),o=af({},r.options,{socket:n,servername:s?s.replace(/:.*$/,""):t.host}),i=lI.connect(0,o);r.sockets[r.sockets.indexOf(n)]=i,e(i)})}function GE(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function af(t){for(var e=1,r=arguments.length;e<r;++e){var n=arguments[e];if(typeof n=="object")for(var s=Object.keys(n),o=0,i=s.length;o<i;++o){var a=s[o];n[a]!==void 0&&(t[a]=n[a])}}return t}var Nn;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Nn=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:Nn=function(){};Ro.debug=Nn});var WE=S((WG,VE)=>{VE.exports=KE()});var XE=S(pe=>{"use strict";var gI=pe&&pe.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),EI=pe&&pe.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),vc=pe&&pe.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&gI(e,t,r);return EI(e,t),e},je=pe&&pe.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(pe,"__esModule",{value:!0});pe.HttpClient=pe.isHttps=pe.HttpClientResponse=pe.HttpClientError=pe.getProxyUrl=pe.MediaTypes=pe.Headers=pe.HttpCodes=void 0;var Ac=vc(require("http")),cf=vc(require("https")),YE=vc(qE()),kc=vc(WE()),ur;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(ur=pe.HttpCodes||(pe.HttpCodes={}));var Et;(function(t){t.Accept="accept",t.ContentType="content-type"})(Et=pe.Headers||(pe.Headers={}));var vn;(function(t){t.ApplicationJson="application/json"})(vn=pe.MediaTypes||(pe.MediaTypes={}));function xI(t){let e=YE.getProxyUrl(new URL(t));return e?e.href:""}pe.getProxyUrl=xI;var CI=[ur.MovedPermanently,ur.ResourceMoved,ur.SeeOther,ur.TemporaryRedirect,ur.PermanentRedirect],SI=[ur.BadGateway,ur.ServiceUnavailable,ur.GatewayTimeout],wI=["OPTIONS","GET","DELETE","HEAD"],bI=10,_I=5,Ao=class extends Error{constructor(e,r){super(e),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,Ao.prototype)}};pe.HttpClientError=Ao;var Nc=class{constructor(e){this.message=e}readBody(){return je(this,void 0,void 0,function*(){return new Promise(e=>je(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{e(r.toString())})}))})}};pe.HttpClientResponse=Nc;function RI(t){return new URL(t).protocol==="https:"}pe.isHttps=RI;var df=class{constructor(e,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(e,r){return je(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,r||{})})}get(e,r){return je(this,void 0,void 0,function*(){return this.request("GET",e,null,r||{})})}del(e,r){return je(this,void 0,void 0,function*(){return this.request("DELETE",e,null,r||{})})}post(e,r,n){return je(this,void 0,void 0,function*(){return this.request("POST",e,r,n||{})})}patch(e,r,n){return je(this,void 0,void 0,function*(){return this.request("PATCH",e,r,n||{})})}put(e,r,n){return je(this,void 0,void 0,function*(){return this.request("PUT",e,r,n||{})})}head(e,r){return je(this,void 0,void 0,function*(){return this.request("HEAD",e,null,r||{})})}sendStream(e,r,n,s){return je(this,void 0,void 0,function*(){return this.request(e,r,n,s)})}getJson(e,r={}){return je(this,void 0,void 0,function*(){r[Et.Accept]=this._getExistingOrDefaultHeader(r,Et.Accept,vn.ApplicationJson);let n=yield this.get(e,r);return this._processResponse(n,this.requestOptions)})}postJson(e,r,n={}){return je(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[Et.Accept]=this._getExistingOrDefaultHeader(n,Et.Accept,vn.ApplicationJson),n[Et.ContentType]=this._getExistingOrDefaultHeader(n,Et.ContentType,vn.ApplicationJson);let o=yield this.post(e,s,n);return this._processResponse(o,this.requestOptions)})}putJson(e,r,n={}){return je(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[Et.Accept]=this._getExistingOrDefaultHeader(n,Et.Accept,vn.ApplicationJson),n[Et.ContentType]=this._getExistingOrDefaultHeader(n,Et.ContentType,vn.ApplicationJson);let o=yield this.put(e,s,n);return this._processResponse(o,this.requestOptions)})}patchJson(e,r,n={}){return je(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[Et.Accept]=this._getExistingOrDefaultHeader(n,Et.Accept,vn.ApplicationJson),n[Et.ContentType]=this._getExistingOrDefaultHeader(n,Et.ContentType,vn.ApplicationJson);let o=yield this.patch(e,s,n);return this._processResponse(o,this.requestOptions)})}request(e,r,n,s){return je(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let o=new URL(r),i=this._prepareRequest(e,o,s),a=this._allowRetries&&wI.includes(e)?this._maxRetries+1:1,c=0,d;do{if(d=yield this.requestRaw(i,n),d&&d.message&&d.message.statusCode===ur.Unauthorized){let f;for(let u of this.handlers)if(u.canHandleAuthentication(d)){f=u;break}return f?f.handleAuthentication(this,i,n):d}let l=this._maxRedirects;for(;d.message.statusCode&&CI.includes(d.message.statusCode)&&this._allowRedirects&&l>0;){let f=d.message.headers.location;if(!f)break;let u=new URL(f);if(o.protocol==="https:"&&o.protocol!==u.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),u.hostname!==o.hostname)for(let g in s)g.toLowerCase()==="authorization"&&delete s[g];i=this._prepareRequest(e,u,s),d=yield this.requestRaw(i,n),l--}if(!d.message.statusCode||!SI.includes(d.message.statusCode))return d;c+=1,c<a&&(yield d.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return je(this,void 0,void 0,function*(){return new Promise((n,s)=>{function o(i,a){i?s(i):a?n(a):s(new Error("Unknown error"))}this.requestRawWithCallback(e,r,o)})})}requestRawWithCallback(e,r,n){typeof r=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let s=!1;function o(c,d){s||(s=!0,n(c,d))}let i=e.httpModule.request(e.options,c=>{let d=new Nc(c);o(void 0,d)}),a;i.on("socket",c=>{a=c}),i.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),o(new Error(`Request timeout: ${e.options.path}`))}),i.on("error",function(c){o(c)}),r&&typeof r=="string"&&i.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){i.end()}),r.pipe(i)):i.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,n){let s={};s.parsedUrl=r;let o=s.parsedUrl.protocol==="https:";s.httpModule=o?cf:Ac;let i=o?443:80;if(s.options={},s.options.host=s.parsedUrl.hostname,s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):i,s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||""),s.options.method=e,s.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(s.options.headers["user-agent"]=this.userAgent),s.options.agent=this._getAgent(s.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(s.options);return s}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Tc(this.requestOptions.headers),Tc(e||{})):Tc(e||{})}_getExistingOrDefaultHeader(e,r,n){let s;return this.requestOptions&&this.requestOptions.headers&&(s=Tc(this.requestOptions.headers)[r]),e[r]||s||n}_getAgent(e){let r,n=YE.getProxyUrl(e),s=n&&n.hostname;if(this._keepAlive&&s&&(r=this._proxyAgent),this._keepAlive&&!s&&(r=this._agent),r)return r;let o=e.protocol==="https:",i=100;if(this.requestOptions&&(i=this.requestOptions.maxSockets||Ac.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:i,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,d=n.protocol==="https:";o?c=d?kc.httpsOverHttps:kc.httpsOverHttp:c=d?kc.httpOverHttps:kc.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:i};r=o?new cf.Agent(a):new Ac.Agent(a),this._agent=r}return r||(r=o?cf.globalAgent:Ac.globalAgent),o&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){return je(this,void 0,void 0,function*(){e=Math.min(bI,e);let r=_I*Math.pow(2,e);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(e,r){return je(this,void 0,void 0,function*(){return new Promise((n,s)=>je(this,void 0,void 0,function*(){let o=e.message.statusCode||0,i={statusCode:o,result:null,headers:{}};o===ur.NotFound&&n(i);function a(l,f){if(typeof f=="string"){let u=new Date(f);if(!isNaN(u.valueOf()))return u}return f}let c,d;try{d=yield e.readBody(),d&&d.length>0&&(r&&r.deserializeDates?c=JSON.parse(d,a):c=JSON.parse(d),i.result=c),i.headers=e.message.headers}catch{}if(o>299){let l;c&&c.message?l=c.message:d&&d.length>0?l=d:l=`Failed request: (${o})`;let f=new Ao(l,o);f.result=i.result,s(f)}else n(i)}))})}};pe.HttpClient=df;var Tc=t=>Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{})});var QE=S(xr=>{"use strict";var hf=xr&&xr.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(xr,"__esModule",{value:!0});xr.PersonalAccessTokenCredentialHandler=xr.BearerCredentialHandler=xr.BasicCredentialHandler=void 0;var lf=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return hf(this,void 0,void 0,function*(){throw new Error("not implemented")})}};xr.BasicCredentialHandler=lf;var uf=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return hf(this,void 0,void 0,function*(){throw new Error("not implemented")})}};xr.BearerCredentialHandler=uf;var ff=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return hf(this,void 0,void 0,function*(){throw new Error("not implemented")})}};xr.PersonalAccessTokenCredentialHandler=ff});var ex=S(ko=>{"use strict";var ZE=ko&&ko.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(ko,"__esModule",{value:!0});ko.OidcClient=void 0;var AI=XE(),kI=QE(),JE=mf(),Pn=class{static createHttpClient(e=!0,r=10){let n={allowRetries:e,maxRetries:r};return new AI.HttpClient("actions/oidc-client",[new kI.BearerCredentialHandler(Pn.getRequestToken())],n)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return ZE(this,void 0,void 0,function*(){let o=(r=(yield Pn.createHttpClient().getJson(e).catch(i=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${i.statusCode}
 
        Error Message: ${i.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!o)throw new Error("Response json body do not have ID Token field");return o})}static getIDToken(e){return ZE(this,void 0,void 0,function*(){try{let r=Pn.getIDTokenUrl();if(e){let s=encodeURIComponent(e);r=`${r}&audience=${s}`}JE.debug(`ID token url is ${r}`);let n=yield Pn.getCall(r);return JE.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};ko.OidcClient=Pn});var Ef=S(wt=>{"use strict";var pf=wt&&wt.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(wt,"__esModule",{value:!0});wt.summary=wt.markdownSummary=wt.SUMMARY_DOCS_URL=wt.SUMMARY_ENV_VAR=void 0;var TI=require("os"),yf=require("fs"),{access:NI,appendFile:vI,writeFile:PI}=yf.promises;wt.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";wt.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var gf=class{constructor(){this._buffer=""}filePath(){return pf(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[wt.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${wt.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield NI(e,yf.constants.R_OK|yf.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,r,n={}){let s=Object.entries(n).map(([o,i])=>` ${o}="${i}"`).join("");return r?`<${e}${s}>${r}</${e}>`:`<${e}${s}>`}write(e){return pf(this,void 0,void 0,function*(){let r=!!(e!=null&&e.overwrite),n=yield this.filePath();return yield(r?PI:vI)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return pf(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,r=!1){return this._buffer+=e,r?this.addEOL():this}addEOL(){return this.addRaw(TI.EOL)}addCodeBlock(e,r){let n=Object.assign({},r&&{lang:r}),s=this.wrap("pre",this.wrap("code",e),n);return this.addRaw(s).addEOL()}addList(e,r=!1){let n=r?"ol":"ul",s=e.map(i=>this.wrap("li",i)).join(""),o=this.wrap(n,s);return this.addRaw(o).addEOL()}addTable(e){let r=e.map(s=>{let o=s.map(i=>{if(typeof i=="string")return this.wrap("td",i);let{header:a,data:c,colspan:d,rowspan:l}=i,f=a?"th":"td",u=Object.assign(Object.assign({},d&&{colspan:d}),l&&{rowspan:l});return this.wrap(f,c,u)}).join("");return this.wrap("tr",o)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(e,r){let n=this.wrap("details",this.wrap("summary",e)+r);return this.addRaw(n).addEOL()}addImage(e,r,n){let{width:s,height:o}=n||{},i=Object.assign(Object.assign({},s&&{width:s}),o&&{height:o}),a=this.wrap("img",null,Object.assign({src:e,alt:r},i));return this.addRaw(a).addEOL()}addHeading(e,r){let n=`h${r}`,s=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",o=this.wrap(s,e);return this.addRaw(o).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,r){let n=Object.assign({},r&&{cite:r}),s=this.wrap("blockquote",e,n);return this.addRaw(s).addEOL()}addLink(e,r){let n=this.wrap("a",e,{href:r});return this.addRaw(n).addEOL()}},tx=new gf;wt.markdownSummary=tx;wt.summary=tx});var rx=S(bt=>{"use strict";var OI=bt&&bt.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),II=bt&&bt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),DI=bt&&bt.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&OI(e,t,r);return II(e,t),e};Object.defineProperty(bt,"__esModule",{value:!0});bt.toPlatformPath=bt.toWin32Path=bt.toPosixPath=void 0;var BI=DI(require("path"));function MI(t){return t.replace(/[\\]/g,"/")}bt.toPosixPath=MI;function LI(t){return t.replace(/[/]/g,"\\")}bt.toWin32Path=LI;function FI(t){return t.replace(/[/\\]/g,BI.sep)}bt.toPlatformPath=FI});var mf=S(U=>{"use strict";var UI=U&&U.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),zI=U&&U.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),nx=U&&U.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&UI(e,t,r);return zI(e,t),e},sx=U&&U.__awaiter||function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(U,"__esModule",{value:!0});U.getIDToken=U.getState=U.saveState=U.group=U.endGroup=U.startGroup=U.info=U.notice=U.warning=U.error=U.debug=U.isDebug=U.setFailed=U.setCommandEcho=U.setOutput=U.getBooleanInput=U.getMultilineInput=U.getInput=U.addPath=U.setSecret=U.exportVariable=U.ExitCode=void 0;var Wt=mE(),Ms=zE(),To=Cc(),ox=nx(require("os")),$I=nx(require("path")),qI=ex(),ix;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(ix=U.ExitCode||(U.ExitCode={}));function HI(t,e){let r=To.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||"")return Ms.issueFileCommand("ENV",Ms.prepareKeyValueMessage(t,e));Wt.issueCommand("set-env",{name:t},r)}U.exportVariable=HI;function jI(t){Wt.issueCommand("add-mask",{},t)}U.setSecret=jI;function GI(t){process.env.GITHUB_PATH||""?Ms.issueFileCommand("PATH",t):Wt.issueCommand("add-path",{},t),process.env.PATH=`${t}${$I.delimiter}${process.env.PATH}`}U.addPath=GI;function xf(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}U.getInput=xf;function KI(t,e){let r=xf(t,e).split(`
`).filter(n=>n!=="");return e&&e.trimWhitespace===!1?r:r.map(n=>n.trim())}U.getMultilineInput=KI;function VI(t,e){let r=["true","True","TRUE"],n=["false","False","FALSE"],s=xf(t,e);if(r.includes(s))return!0;if(n.includes(s))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}U.getBooleanInput=VI;function WI(t,e){if(process.env.GITHUB_OUTPUT||"")return Ms.issueFileCommand("OUTPUT",Ms.prepareKeyValueMessage(t,e));process.stdout.write(ox.EOL),Wt.issueCommand("set-output",{name:t},To.toCommandValue(e))}U.setOutput=WI;function YI(t){Wt.issue("echo",t?"on":"off")}U.setCommandEcho=YI;function XI(t){process.exitCode=ix.Failure,ax(t)}U.setFailed=XI;function QI(){return process.env.RUNNER_DEBUG==="1"}U.isDebug=QI;function ZI(t){Wt.issueCommand("debug",{},t)}U.debug=ZI;function ax(t,e={}){Wt.issueCommand("error",To.toCommandProperties(e),t instanceof Error?t.toString():t)}U.error=ax;function JI(t,e={}){Wt.issueCommand("warning",To.toCommandProperties(e),t instanceof Error?t.toString():t)}U.warning=JI;function eD(t,e={}){Wt.issueCommand("notice",To.toCommandProperties(e),t instanceof Error?t.toString():t)}U.notice=eD;function tD(t){process.stdout.write(t+ox.EOL)}U.info=tD;function cx(t){Wt.issue("group",t)}U.startGroup=cx;function dx(){Wt.issue("endgroup")}U.endGroup=dx;function rD(t,e){return sx(this,void 0,void 0,function*(){cx(t);let r;try{r=yield e()}finally{dx()}return r})}U.group=rD;function nD(t,e){if(process.env.GITHUB_STATE||"")return Ms.issueFileCommand("STATE",Ms.prepareKeyValueMessage(t,e));Wt.issueCommand("save-state",{name:t},To.toCommandValue(e))}U.saveState=nD;function sD(t){return process.env[`STATE_${t}`]||""}U.getState=sD;function oD(t){return sx(this,void 0,void 0,function*(){return yield qI.OidcClient.getIDToken(t)})}U.getIDToken=oD;var iD=Ef();Object.defineProperty(U,"summary",{enumerable:!0,get:function(){return iD.summary}});var aD=Ef();Object.defineProperty(U,"markdownSummary",{enumerable:!0,get:function(){return aD.markdownSummary}});var Cf=rx();Object.defineProperty(U,"toPosixPath",{enumerable:!0,get:function(){return Cf.toPosixPath}});Object.defineProperty(U,"toWin32Path",{enumerable:!0,get:function(){return Cf.toWin32Path}});Object.defineProperty(U,"toPlatformPath",{enumerable:!0,get:function(){return Cf.toPlatformPath}})});var Nf=S(Qr=>{"use strict";var Nx=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",UD=Nx+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",vx="["+Nx+"]["+UD+"]*",zD=new RegExp("^"+vx+"$"),$D=function(t,e){let r=[],n=e.exec(t);for(;n;){let s=[];s.startIndex=e.lastIndex-n[0].length;let o=n.length;for(let i=0;i<o;i++)s.push(n[i]);r.push(s),n=e.exec(t)}return r},qD=function(t){let e=zD.exec(t);return!(e===null||typeof e>"u")};Qr.isExist=function(t){return typeof t<"u"};Qr.isEmptyObject=function(t){return Object.keys(t).length===0};Qr.merge=function(t,e,r){if(e){let n=Object.keys(e),s=n.length;for(let o=0;o<s;o++)r==="strict"?t[n[o]]=[e[n[o]]]:t[n[o]]=e[n[o]]}};Qr.getValue=function(t){return Qr.isExist(t)?t:""};Qr.isName=qD;Qr.getAllMatches=$D;Qr.nameRegexp=vx});var Pf=S(Bx=>{"use strict";var vf=Nf(),HD={allowBooleanAttributes:!1,unpairedTags:[]};Bx.validate=function(t,e){e=Object.assign({},HD,e);let r=[],n=!1,s=!1;t[0]==="\uFEFF"&&(t=t.substr(1));for(let o=0;o<t.length;o++)if(t[o]==="<"&&t[o+1]==="?"){if(o+=2,o=Ox(t,o),o.err)return o}else if(t[o]==="<"){let i=o;if(o++,t[o]==="!"){o=Ix(t,o);continue}else{let a=!1;t[o]==="/"&&(a=!0,o++);let c="";for(;o<t.length&&t[o]!==">"&&t[o]!==" "&&t[o]!=="	"&&t[o]!==`
`&&t[o]!=="\r";o++)c+=t[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!QD(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",$e("InvalidTag",f,Rt(t,o))}let d=KD(t,o);if(d===!1)return $e("InvalidAttr","Attributes for '"+c+"' have open quote.",Rt(t,o));let l=d.value;if(o=d.index,l[l.length-1]==="/"){let f=o-l.length;l=l.substring(0,l.length-1);let u=Dx(l,e);if(u===!0)n=!0;else return $e(u.err.code,u.err.msg,Rt(t,f+u.err.line))}else if(a)if(d.tagClosed){if(l.trim().length>0)return $e("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",Rt(t,i));{let f=r.pop();if(c!==f.tagName){let u=Rt(t,f.tagStartPos);return $e("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+u.line+", col "+u.col+") instead of closing tag '"+c+"'.",Rt(t,i))}r.length==0&&(s=!0)}}else return $e("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",Rt(t,o));else{let f=Dx(l,e);if(f!==!0)return $e(f.err.code,f.err.msg,Rt(t,o-l.length+f.err.line));if(s===!0)return $e("InvalidXml","Multiple possible root nodes found.",Rt(t,o));e.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(o++;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="!"){o++,o=Ix(t,o);continue}else if(t[o+1]==="?"){if(o=Ox(t,++o),o.err)return o}else break;else if(t[o]==="&"){let f=YD(t,o);if(f==-1)return $e("InvalidChar","char '&' is not expected.",Rt(t,o));o=f}else if(s===!0&&!Px(t[o]))return $e("InvalidXml","Extra text at the end",Rt(t,o));t[o]==="<"&&o--}}else{if(Px(t[o]))continue;return $e("InvalidChar","char '"+t[o]+"' is not expected.",Rt(t,o))}if(n){if(r.length==1)return $e("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",Rt(t,r[0].tagStartPos));if(r.length>0)return $e("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return $e("InvalidXml","Start tag expected.",1);return!0};function Px(t){return t===" "||t==="	"||t===`
`||t==="\r"}function Ox(t,e){let r=e;for(;e<t.length;e++)if(t[e]=="?"||t[e]==" "){let n=t.substr(r,e-r);if(e>5&&n==="xml")return $e("InvalidXml","XML declaration allowed only at the start of the document.",Rt(t,e));if(t[e]=="?"&&t[e+1]==">"){e++;break}else continue}return e}function Ix(t,e){if(t.length>e+5&&t[e+1]==="-"&&t[e+2]==="-"){for(e+=3;e<t.length;e++)if(t[e]==="-"&&t[e+1]==="-"&&t[e+2]===">"){e+=2;break}}else if(t.length>e+8&&t[e+1]==="D"&&t[e+2]==="O"&&t[e+3]==="C"&&t[e+4]==="T"&&t[e+5]==="Y"&&t[e+6]==="P"&&t[e+7]==="E"){let r=1;for(e+=8;e<t.length;e++)if(t[e]==="<")r++;else if(t[e]===">"&&(r--,r===0))break}else if(t.length>e+9&&t[e+1]==="["&&t[e+2]==="C"&&t[e+3]==="D"&&t[e+4]==="A"&&t[e+5]==="T"&&t[e+6]==="A"&&t[e+7]==="["){for(e+=8;e<t.length;e++)if(t[e]==="]"&&t[e+1]==="]"&&t[e+2]===">"){e+=2;break}}return e}var jD='"',GD="'";function KD(t,e){let r="",n="",s=!1;for(;e<t.length;e++){if(t[e]===jD||t[e]===GD)n===""?n=t[e]:n!==t[e]||(n="");else if(t[e]===">"&&n===""){s=!0;break}r+=t[e]}return n!==""?!1:{value:r,index:e,tagClosed:s}}var VD=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function Dx(t,e){let r=vf.getAllMatches(t,VD),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return $e("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",ia(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return $e("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",ia(r[s]));if(r[s][3]===void 0&&!e.allowBooleanAttributes)return $e("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",ia(r[s]));let o=r[s][2];if(!XD(o))return $e("InvalidAttr","Attribute '"+o+"' is an invalid name.",ia(r[s]));if(!n.hasOwnProperty(o))n[o]=1;else return $e("InvalidAttr","Attribute '"+o+"' is repeated.",ia(r[s]))}return!0}function WD(t,e){let r=/\d/;for(t[e]==="x"&&(e++,r=/[\da-fA-F]/);e<t.length;e++){if(t[e]===";")return e;if(!t[e].match(r))break}return-1}function YD(t,e){if(e++,t[e]===";")return-1;if(t[e]==="#")return e++,WD(t,e);let r=0;for(;e<t.length;e++,r++)if(!(t[e].match(/\w/)&&r<20)){if(t[e]===";")break;return-1}return e}function $e(t,e,r){return{err:{code:t,msg:e,line:r.line||r,col:r.col}}}function XD(t){return vf.isName(t)}function QD(t){return vf.isName(t)}function Rt(t,e){let r=t.substring(0,e).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function ia(t){return t.startIndex+t[1].length}});var Lx=S(Of=>{var Mx={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1},ZD=function(t){return Object.assign({},Mx,t)};Of.buildOptions=ZD;Of.defaultOptions=Mx});var Ux=S((d4,Fx)=>{"use strict";var If=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,r){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:r})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,[":@"]:e[":@"]}):this.child.push({[e.tagname]:e.child})}};Fx.exports=If});var $x=S((l4,zx)=>{function JD(t,e){let r={};if(t[e+3]==="O"&&t[e+4]==="C"&&t[e+5]==="T"&&t[e+6]==="Y"&&t[e+7]==="P"&&t[e+8]==="E"){e=e+9;let n=1,s=!1,o=!1,i=!1,a="";for(;e<t.length;e++)if(t[e]==="<"&&!i){if(s&&t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="N"&&t[e+4]==="T"&&t[e+5]==="I"&&t[e+6]==="T"&&t[e+7]==="Y")e+=7,o=!0;else if(s&&t[e+1]==="!"&&t[e+2]==="E"&&t[e+3]==="L"&&t[e+4]==="E"&&t[e+5]==="M"&&t[e+6]==="E"&&t[e+7]==="N"&&t[e+8]==="T")e+=8;else if(s&&t[e+1]==="!"&&t[e+2]==="A"&&t[e+3]==="T"&&t[e+4]==="T"&&t[e+5]==="L"&&t[e+6]==="I"&&t[e+7]==="S"&&t[e+8]==="T")e+=8;else if(s&&t[e+1]==="!"&&t[e+2]==="N"&&t[e+3]==="O"&&t[e+4]==="T"&&t[e+5]==="A"&&t[e+6]==="T"&&t[e+7]==="I"&&t[e+8]==="O"&&t[e+9]==="N")e+=9;else if(t[e+1]==="!"&&t[e+2]==="-"&&t[e+3]==="-")i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(t[e]===">"){if(i?t[e-1]==="-"&&t[e-2]==="-"&&(i=!1,n--):(o&&(tB(a,r),o=!1),n--),n===0)break}else t[e]==="["?s=!0:a+=t[e];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:e}}var eB=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function tB(t,e){let r=eB.exec(t);r&&(e[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}zx.exports=JD});var Hx=S((u4,qx)=>{var rB=/^[-+]?0x[a-fA-F0-9]+$/,nB=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var sB={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function oB(t,e={}){if(e=Object.assign({},sB,e),!t||typeof t!="string")return t;let r=t.trim();if(e.skipLike!==void 0&&e.skipLike.test(r))return t;if(e.hex&&rB.test(r))return Number.parseInt(r,16);{let n=nB.exec(r);if(n){let s=n[1],o=n[2],i=iB(n[3]),a=n[4]||n[6];if(!e.leadingZeros&&o.length>0&&s&&r[2]!==".")return t;if(!e.leadingZeros&&o.length>0&&!s&&r[1]!==".")return t;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?e.eNotation?c:t:r.indexOf(".")!==-1?d==="0"&&i===""||d===i||s&&d==="-"+i?c:t:o?i===d||s+i===d?c:t:r===d||r===s+d?c:t}}else return t}}function iB(t){return t&&t.indexOf(".")!==-1&&(t=t.replace(/0+$/,""),t==="."?t="0":t[0]==="."?t="0"+t:t[t.length-1]==="."&&(t=t.substr(0,t.length-1))),t}qx.exports=oB});var Gx=S((h4,jx)=>{"use strict";var Lf=Nf(),aa=Ux(),aB=$x(),cB=Hx(),f4="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,Lf.nameRegexp),Df=class{constructor(e){this.options=e,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=dB,this.parseXml=mB,this.parseTextData=lB,this.resolveNameSpace=uB,this.buildAttributesMap=hB,this.isItStopNode=gB,this.replaceEntitiesValue=pB,this.readStopNodeData=xB,this.saveTextToParentTag=yB}};function dB(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:t[n]}}}function lB(t,e,r,n,s,o,i){if(t!==void 0&&(this.options.trimValues&&!n&&(t=t.trim()),t.length>0)){i||(t=this.replaceEntitiesValue(t));let a=this.options.tagValueProcessor(e,t,r,s,o);return a==null?t:typeof a!=typeof t||a!==t?a:this.options.trimValues?Mf(t,this.options.parseTagValue,this.options.numberParseOptions):t.trim()===t?Mf(t,this.options.parseTagValue,this.options.numberParseOptions):t}}function uB(t){if(this.options.removeNSPrefix){let e=t.split(":"),r=t.charAt(0)==="/"?"/":"";if(e[0]==="xmlns")return"";e.length===2&&(t=r+e[1])}return t}var fB=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function hB(t,e){if(!this.options.ignoreAttributes&&typeof t=="string"){let r=Lf.getAllMatches(t,fB),n=r.length,s={};for(let o=0;o<n;o++){let i=this.resolveNameSpace(r[o][1]),a=r[o][4],c=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let d=this.options.attributeValueProcessor(i,a,e);d==null?s[c]=a:typeof d!=typeof a||d!==a?s[c]=d:s[c]=Mf(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[c]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=s,o}return s}}var mB=function(t){t=t.replace(/\r\n?/g,`
`);let e=new aa("!xml"),r=e,n="",s="";for(let o=0;o<t.length;o++)if(t[o]==="<")if(t[o+1]==="/"){let a=Us(t,">",o,"Closing Tag is not closed."),c=t.substring(o+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s)),s=s.substr(0,s.lastIndexOf(".")),r=this.tagsNodeStack.pop(),n="",o=a}else if(t[o+1]==="?"){let a=Bf(t,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new aa(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s)),r.addChild(c)}o=a.closeIndex+1}else if(t.substr(o+1,3)==="!--"){let a=Us(t,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let c=t.substring(o+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=a}else if(t.substr(o+1,2)==="!D"){let a=aB(t,o);this.docTypeEntities=a.entities,o=a.i}else if(t.substr(o+1,2)==="!["){let a=Us(t,"]]>",o,"CDATA is not closed.")-2,c=t.substring(o+9,a);if(n=this.saveTextToParentTag(n,r,s),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,s,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}o=a+2}else{let a=Bf(t,o,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,l=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1)),c!==e.tagname&&(s+=s?"."+c:c);let u=r;if(u&&this.options.unpairedTags.indexOf(u.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,s,c)){let g="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)o=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=a.closeIndex;else{let w=this.readStopNodeData(t,c,f+1);if(!w)throw new Error(`Unexpected end of ${c}`);o=w.i,g=w.tagContent}let y=new aa(c);c!==d&&l&&(y[":@"]=this.buildAttributesMap(d,s)),g&&(g=this.parseTextData(g,c,s,!0,l,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),y.add(this.options.textNodeName,g),r.addChild(y)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let g=new aa(c);c!==d&&l&&(g[":@"]=this.buildAttributesMap(d,s)),s=s.substr(0,s.lastIndexOf(".")),r.addChild(g)}else{let g=new aa(c);this.tagsNodeStack.push(r),c!==d&&l&&(g[":@"]=this.buildAttributesMap(d,s)),r.addChild(g),r=g}n="",o=f}}else n+=t[o];return e.child},pB=function(t){if(this.options.processEntities){for(let e in this.docTypeEntities){let r=this.docTypeEntities[e];t=t.replace(r.regx,r.val)}for(let e in this.lastEntities){let r=this.lastEntities[e];t=t.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let e in this.htmlEntities){let r=this.htmlEntities[e];t=t.replace(r.regex,r.val)}t=t.replace(this.ampEntity.regex,this.ampEntity.val)}return t};function yB(t,e,r,n){return t&&(n===void 0&&(n=Object.keys(e.child).length===0),t=this.parseTextData(t,e.tagname,r,!1,e[":@"]?Object.keys(e[":@"]).length!==0:!1,n),t!==void 0&&t!==""&&e.add(this.options.textNodeName,t),t=""),t}function gB(t,e,r){let n="*."+r;for(let s in t){let o=t[s];if(n===o||e===o)return!0}return!1}function EB(t,e,r=">"){let n,s="";for(let o=e;o<t.length;o++){let i=t[o];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(t[o+1]===r[1])return{data:s,index:o}}else return{data:s,index:o};else i==="	"&&(i=" ");s+=i}}function Us(t,e,r,n){let s=t.indexOf(e,r);if(s===-1)throw new Error(n);return s+e.length-1}function Bf(t,e,r,n=">"){let s=EB(t,e+1,n);if(!s)return;let o=s.data,i=s.index,a=o.search(/\s/),c=o,d=!0;if(a!==-1&&(c=o.substr(0,a).replace(/\s\s*$/,""),o=o.substr(a+1)),r){let l=c.indexOf(":");l!==-1&&(c=c.substr(l+1),d=c!==s.data.substr(l+1))}return{tagName:c,tagExp:o,closeIndex:i,attrExpPresent:d}}function xB(t,e,r){let n=r,s=1;for(;r<t.length;r++)if(t[r]==="<")if(t[r+1]==="/"){let o=Us(t,">",r,`${e} is not closed`);if(t.substring(r+2,o).trim()===e&&(s--,s===0))return{tagContent:t.substring(n,r),i:o};r=o}else if(t[r+1]==="?")r=Us(t,"?>",r+1,"StopNode is not closed.");else if(t.substr(r+1,3)==="!--")r=Us(t,"-->",r+3,"StopNode is not closed.");else if(t.substr(r+1,2)==="![")r=Us(t,"]]>",r,"StopNode is not closed.")-2;else{let o=Bf(t,r,">");o&&((o&&o.tagName)===e&&o.tagExp[o.tagExp.length-1]!=="/"&&s++,r=o.closeIndex)}}function Mf(t,e,r){if(e&&typeof t=="string"){let n=t.trim();return n==="true"?!0:n==="false"?!1:cB(t,r)}else return Lf.isExist(t)?t:""}jx.exports=Df});var Wx=S(Vx=>{"use strict";function CB(t,e){return Kx(t,e)}function Kx(t,e,r){let n,s={};for(let o=0;o<t.length;o++){let i=t[o],a=SB(i),c="";if(r===void 0?c=a:c=r+"."+a,a===e.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let d=Kx(i[a],e,c),l=bB(d,e);i[":@"]?wB(d,i[":@"],c,e):Object.keys(d).length===1&&d[e.textNodeName]!==void 0&&!e.alwaysCreateTextNode?d=d[e.textNodeName]:Object.keys(d).length===0&&(e.alwaysCreateTextNode?d[e.textNodeName]="":d=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(d)):e.isArray(a,c,l)?s[a]=[d]:s[a]=d}}}return typeof n=="string"?n.length>0&&(s[e.textNodeName]=n):n!==void 0&&(s[e.textNodeName]=n),s}function SB(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function wB(t,e,r,n){if(e){let s=Object.keys(e),o=s.length;for(let i=0;i<o;i++){let a=s[i];n.isArray(a,r+"."+a,!0,!0)?t[a]=[e[a]]:t[a]=e[a]}}}function bB(t,e){let r=Object.keys(t).length;return!!(r===0||r===1&&t[e.textNodeName])}Vx.prettify=CB});var Xx=S((p4,Yx)=>{var{buildOptions:_B}=Lx(),RB=Gx(),{prettify:AB}=Wx(),kB=Pf(),Ff=class{constructor(e){this.externalEntities={},this.options=_B(e)}parse(e,r){if(typeof e!="string")if(e.toString)e=e.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let o=kB.validate(e,r);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let n=new RB(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(e);return this.options.preserveOrder||s===void 0?s:AB(s,this.options)}addEntity(e,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(e.indexOf("&")!==-1||e.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[e]=r}};Yx.exports=Ff});var tC=S((y4,eC)=>{var TB=`
`;function NB(t,e){let r="";return e.format&&e.indentBy.length>0&&(r=TB),Zx(t,e,"",r)}function Zx(t,e,r,n){let s="",o=!1;for(let i=0;i<t.length;i++){let a=t[i],c=vB(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===e.textNodeName){let y=a[c];PB(d,e)||(y=e.tagValueProcessor(c,y),y=Jx(y,e)),o&&(s+=n),s+=y,o=!1;continue}else if(c===e.cdataPropName){o&&(s+=n),s+=`<![CDATA[${a[c][0][e.textNodeName]}]]>`,o=!1;continue}else if(c===e.commentPropName){s+=n+`<!--${a[c][0][e.textNodeName]}-->`,o=!0;continue}else if(c[0]==="?"){let y=Qx(a[":@"],e),w=c==="?xml"?"":n,R=a[c][0][e.textNodeName];R=R.length!==0?" "+R:"",s+=w+`<${c}${R}${y}?>`,o=!0;continue}let l=n;l!==""&&(l+=e.indentBy);let f=Qx(a[":@"],e),u=n+`<${c}${f}`,g=Zx(a[c],e,d,l);e.unpairedTags.indexOf(c)!==-1?e.suppressUnpairedNode?s+=u+">":s+=u+"/>":(!g||g.length===0)&&e.suppressEmptyNode?s+=u+"/>":g&&g.endsWith(">")?s+=u+`>${g}${n}</${c}>`:(s+=u+">",g&&n!==""&&(g.includes("/>")||g.includes("</"))?s+=n+e.indentBy+g+n:s+=g,s+=`</${c}>`),o=!0}return s}function vB(t){let e=Object.keys(t);for(let r=0;r<e.length;r++){let n=e[r];if(n!==":@")return n}}function Qx(t,e){let r="";if(t&&!e.ignoreAttributes)for(let n in t){let s=e.attributeValueProcessor(n,t[n]);s=Jx(s,e),s===!0&&e.suppressBooleanAttributes?r+=` ${n.substr(e.attributeNamePrefix.length)}`:r+=` ${n.substr(e.attributeNamePrefix.length)}="${s}"`}return r}function PB(t,e){t=t.substr(0,t.length-e.textNodeName.length-1);let r=t.substr(t.lastIndexOf(".")+1);for(let n in e.stopNodes)if(e.stopNodes[n]===t||e.stopNodes[n]==="*."+r)return!0;return!1}function Jx(t,e){if(t&&t.length>0&&e.processEntities)for(let r=0;r<e.entities.length;r++){let n=e.entities[r];t=t.replace(n.regex,n.val)}return t}eC.exports=NB});var nC=S((g4,rC)=>{"use strict";var OB=tC(),IB={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(t,e){return e},attributeValueProcessor:function(t,e){return e},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function Mn(t){this.options=Object.assign({},IB,t),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=MB),this.processTextOrObjNode=DB,this.options.format?(this.indentate=BB,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Mn.prototype.build=function(t){return this.options.preserveOrder?OB(t,this.options):(Array.isArray(t)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(t={[this.options.arrayNodeName]:t}),this.j2x(t,0).val)};Mn.prototype.j2x=function(t,e){let r="",n="";for(let s in t)if(!(typeof t[s]>"u"))if(t[s]===null)s[0]==="?"?n+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+s+"/"+this.tagEndChar;else if(t[s]instanceof Date)n+=this.buildTextValNode(t[s],s,"",e);else if(typeof t[s]!="object"){let o=this.isAttribute(s);if(o)r+=this.buildAttrPairStr(o,""+t[s]);else if(s===this.options.textNodeName){let i=this.options.tagValueProcessor(s,""+t[s]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(t[s],s,"",e)}else if(Array.isArray(t[s])){let o=t[s].length;for(let i=0;i<o;i++){let a=t[s][i];typeof a>"u"||(a===null?s[0]==="?"?n+=this.indentate(e)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(e)+"<"+s+"/"+this.tagEndChar:typeof a=="object"?n+=this.processTextOrObjNode(a,s,e):n+=this.buildTextValNode(a,s,"",e))}}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let o=Object.keys(t[s]),i=o.length;for(let a=0;a<i;a++)r+=this.buildAttrPairStr(o[a],""+t[s][o[a]])}else n+=this.processTextOrObjNode(t[s],s,e);return{attrStr:r,val:n}};Mn.prototype.buildAttrPairStr=function(t,e){return e=this.options.attributeValueProcessor(t,""+e),e=this.replaceEntitiesValue(e),this.options.suppressBooleanAttributes&&e==="true"?" "+t:" "+t+'="'+e+'"'};function DB(t,e,r){let n=this.j2x(t,r+1);return t[this.options.textNodeName]!==void 0&&Object.keys(t).length===1?this.buildTextValNode(t[this.options.textNodeName],e,n.attrStr,r):this.buildObjectNode(n.val,e,n.attrStr,r)}Mn.prototype.buildObjectNode=function(t,e,r,n){if(t==="")return e[0]==="?"?this.indentate(n)+"<"+e+r+"?"+this.tagEndChar:this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar;{let s="</"+e+this.tagEndChar,o="";return e[0]==="?"&&(o="?",s=""),r&&t.indexOf("<")===-1?this.indentate(n)+"<"+e+r+o+">"+t+s:this.options.commentPropName!==!1&&e===this.options.commentPropName&&o.length===0?this.indentate(n)+`<!--${t}-->`+this.newLine:this.indentate(n)+"<"+e+r+o+this.tagEndChar+t+this.indentate(n)+s}};Mn.prototype.closeTag=function(t){let e="";return this.options.unpairedTags.indexOf(t)!==-1?this.options.suppressUnpairedNode||(e="/"):this.options.suppressEmptyNode?e="/":e=`></${t}`,e};Mn.prototype.buildTextValNode=function(t,e,r,n){if(this.options.cdataPropName!==!1&&e===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${t}]]>`+this.newLine;if(this.options.commentPropName!==!1&&e===this.options.commentPropName)return this.indentate(n)+`<!--${t}-->`+this.newLine;if(e[0]==="?")return this.indentate(n)+"<"+e+r+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(e,t);return s=this.replaceEntitiesValue(s),s===""?this.indentate(n)+"<"+e+r+this.closeTag(e)+this.tagEndChar:this.indentate(n)+"<"+e+r+">"+s+"</"+e+this.tagEndChar}};Mn.prototype.replaceEntitiesValue=function(t){if(t&&t.length>0&&this.options.processEntities)for(let e=0;e<this.options.entities.length;e++){let r=this.options.entities[e];t=t.replace(r.regex,r.val)}return t};function BB(t){return this.options.indentBy.repeat(t)}function MB(t){return t.startsWith(this.options.attributeNamePrefix)?t.substr(this.attrPrefixLen):!1}rC.exports=Mn});var Uf=S((E4,sC)=>{"use strict";var LB=Pf(),FB=Xx(),UB=nC();sC.exports={XMLParser:FB,XMLValidator:LB,XMLBuilder:UB}});var Gf={};So(Gf,{__assign:()=>Hf,__asyncDelegator:()=>E1,__asyncGenerator:()=>g1,__asyncValues:()=>x1,__await:()=>fa,__awaiter:()=>u1,__classPrivateFieldGet:()=>b1,__classPrivateFieldSet:()=>_1,__createBinding:()=>h1,__decorate:()=>c1,__exportStar:()=>m1,__extends:()=>i1,__generator:()=>f1,__importDefault:()=>w1,__importStar:()=>S1,__makeTemplateObject:()=>C1,__metadata:()=>l1,__param:()=>d1,__read:()=>zC,__rest:()=>a1,__spread:()=>p1,__spreadArrays:()=>y1,__values:()=>jf});function i1(t,e){qf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function a1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function c1(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function d1(t,e){return function(r,n){e(r,n,t)}}function l1(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function u1(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}function f1(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(l){d=[6,l],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function h1(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function m1(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function jf(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zC(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function p1(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(zC(arguments[e]));return t}function y1(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function fa(t){return this instanceof fa?(this.v=t,this):new fa(t)}function g1(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(u){n[u]&&(s[u]=function(g){return new Promise(function(y,w){o.push([u,g,y,w])>1||a(u,g)})})}function a(u,g){try{c(n[u](g))}catch(y){f(o[0][3],y)}}function c(u){u.value instanceof fa?Promise.resolve(u.value.v).then(d,l):f(o[0][2],u)}function d(u){a("next",u)}function l(u){a("throw",u)}function f(u,g){u(g),o.shift(),o.length&&a(o[0][0],o[0][1])}}function E1(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=t[s]?function(i){return(r=!r)?{value:fa(t[s](i)),done:s==="return"}:o?o(i):i}:o}}function x1(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof jf=="function"?jf(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(i){return new Promise(function(a,c){i=t[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},i)}}function C1(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function S1(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function w1(t){return t&&t.__esModule?t:{default:t}}function b1(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function _1(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var qf,Hf,Kf=Fe(()=>{qf=function(t,e){return qf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},qf(t,e)};Hf=function(){return Hf=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Hf.apply(this,arguments)}});var $C,qC,HC=Fe(()=>{$C=t=>{let e=[];for(let r=0,n=t.length;r<n;r++){let s=t.charCodeAt(r);if(s<128)e.push(s);else if(s<2048)e.push(s>>6|192,s&63|128);else if(r+1<t.length&&(s&64512)===55296&&(t.charCodeAt(r+1)&64512)===56320){let o=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023);e.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else e.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(e)},qC=t=>{let e="";for(let r=0,n=t.length;r<n;r++){let s=t[r];if(s<128)e+=String.fromCharCode(s);else if(192<=s&&s<224){let o=t[++r];e+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){let i="%"+[s,t[++r],t[++r],t[++r]].map(a=>a.toString(16)).join("%");e+=decodeURIComponent(i)}else e+=String.fromCharCode((s&15)<<12|(t[++r]&63)<<6|t[++r]&63)}return e}});function jC(t){return new TextEncoder().encode(t)}function GC(t){return new TextDecoder("utf-8").decode(t)}var KC=Fe(()=>{});var VC={};So(VC,{fromUtf8:()=>R1,toUtf8:()=>A1});var R1,A1,WC=Fe(()=>{HC();KC();R1=t=>typeof TextEncoder=="function"?jC(t):$C(t),A1=t=>typeof TextDecoder=="function"?GC(t):qC(t)});var YC=S($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.convertToBuffer=void 0;var k1=(WC(),wo(VC)),T1=typeof Buffer<"u"&&Buffer.from?function(t){return Buffer.from(t,"utf8")}:k1.fromUtf8;function N1(t){return t instanceof Uint8Array?t:typeof t=="string"?T1(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t)}$c.convertToBuffer=N1});var XC=S(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.isEmptyData=void 0;function v1(t){return typeof t=="string"?t.length===0:t.byteLength===0}qc.isEmptyData=v1});var QC=S(Hc=>{"use strict";Object.defineProperty(Hc,"__esModule",{value:!0});Hc.numToUint8=void 0;function P1(t){return new Uint8Array([(t&4278190080)>>24,(t&16711680)>>16,(t&65280)>>8,t&255])}Hc.numToUint8=P1});var ZC=S(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.uint32ArrayFrom=void 0;function O1(t){if(!Uint32Array.from){for(var e=new Uint32Array(t.length),r=0;r<t.length;)e[r]=t[r],r+=1;return e}return Uint32Array.from(t)}jc.uint32ArrayFrom=O1});var ha=S(br=>{"use strict";Object.defineProperty(br,"__esModule",{value:!0});br.uint32ArrayFrom=br.numToUint8=br.isEmptyData=br.convertToBuffer=void 0;var I1=YC();Object.defineProperty(br,"convertToBuffer",{enumerable:!0,get:function(){return I1.convertToBuffer}});var D1=XC();Object.defineProperty(br,"isEmptyData",{enumerable:!0,get:function(){return D1.isEmptyData}});var B1=QC();Object.defineProperty(br,"numToUint8",{enumerable:!0,get:function(){return B1.numToUint8}});var M1=ZC();Object.defineProperty(br,"uint32ArrayFrom",{enumerable:!0,get:function(){return M1.uint32ArrayFrom}})});var tS=S(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.AwsCrc32=void 0;var JC=(Kf(),wo(Gf)),Vf=ha(),eS=ma(),L1=function(){function t(){this.crc32=new eS.Crc32}return t.prototype.update=function(e){(0,Vf.isEmptyData)(e)||this.crc32.update((0,Vf.convertToBuffer)(e))},t.prototype.digest=function(){return JC.__awaiter(this,void 0,void 0,function(){return JC.__generator(this,function(e){return[2,(0,Vf.numToUint8)(this.crc32.digest())]})})},t.prototype.reset=function(){this.crc32=new eS.Crc32},t}();Gc.AwsCrc32=L1});var ma=S(Fn=>{"use strict";Object.defineProperty(Fn,"__esModule",{value:!0});Fn.AwsCrc32=Fn.Crc32=Fn.crc32=void 0;var F1=(Kf(),wo(Gf)),U1=ha();function z1(t){return new rS().update(t).digest()}Fn.crc32=z1;var rS=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var s=F1.__values(e),o=s.next();!o.done;o=s.next()){var i=o.value;this.checksum=this.checksum>>>8^q1[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();Fn.Crc32=rS;var $1=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],q1=(0,U1.uint32ArrayFrom)($1),H1=tS();Object.defineProperty(Fn,"AwsCrc32",{enumerable:!0,get:function(){return H1.AwsCrc32}})});var Qf={};So(Qf,{__assign:()=>Yf,__asyncDelegator:()=>rM,__asyncGenerator:()=>tM,__asyncValues:()=>nM,__await:()=>pa,__awaiter:()=>Y1,__classPrivateFieldGet:()=>aM,__classPrivateFieldSet:()=>cM,__createBinding:()=>Q1,__decorate:()=>K1,__exportStar:()=>Z1,__extends:()=>j1,__generator:()=>X1,__importDefault:()=>iM,__importStar:()=>oM,__makeTemplateObject:()=>sM,__metadata:()=>W1,__param:()=>V1,__read:()=>nS,__rest:()=>G1,__spread:()=>J1,__spreadArrays:()=>eM,__values:()=>Xf});function j1(t,e){Wf(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function G1(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function K1(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function V1(t,e){return function(r,n){e(r,n,t)}}function W1(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Y1(t,e,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(t,e||[])).next())})}function X1(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(l){d=[6,l],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function Q1(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function Z1(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function Xf(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function nS(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],i;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function J1(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nS(arguments[e]));return t}function eM(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function pa(t){return this instanceof pa?(this.v=t,this):new pa(t)}function tM(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(u){n[u]&&(s[u]=function(g){return new Promise(function(y,w){o.push([u,g,y,w])>1||a(u,g)})})}function a(u,g){try{c(n[u](g))}catch(y){f(o[0][3],y)}}function c(u){u.value instanceof pa?Promise.resolve(u.value.v).then(d,l):f(o[0][2],u)}function d(u){a("next",u)}function l(u){a("throw",u)}function f(u,g){u(g),o.shift(),o.length&&a(o[0][0],o[0][1])}}function rM(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=t[s]?function(i){return(r=!r)?{value:pa(t[s](i)),done:s==="return"}:o?o(i):i}:o}}function nM(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Xf=="function"?Xf(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(i){return new Promise(function(a,c){i=t[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},i)}}function sM(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function oM(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function iM(t){return t&&t.__esModule?t:{default:t}}function aM(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function cM(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}var Wf,Yf,Zf=Fe(()=>{Wf=function(t,e){return Wf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Wf(t,e)};Yf=function(){return Yf=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Yf.apply(this,arguments)}});var iS=S(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.AwsCrc32c=void 0;var sS=(Zf(),wo(Qf)),Jf=ha(),oS=eh(),dM=function(){function t(){this.crc32c=new oS.Crc32c}return t.prototype.update=function(e){(0,Jf.isEmptyData)(e)||this.crc32c.update((0,Jf.convertToBuffer)(e))},t.prototype.digest=function(){return sS.__awaiter(this,void 0,void 0,function(){return sS.__generator(this,function(e){return[2,(0,Jf.numToUint8)(this.crc32c.digest())]})})},t.prototype.reset=function(){this.crc32c=new oS.Crc32c},t}();Kc.AwsCrc32c=dM});var eh=S(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.AwsCrc32c=Un.Crc32c=Un.crc32c=void 0;var lM=(Zf(),wo(Qf)),uM=ha();function fM(t){return new aS().update(t).digest()}Un.crc32c=fM;var aS=function(){function t(){this.checksum=4294967295}return t.prototype.update=function(e){var r,n;try{for(var s=lM.__values(e),o=s.next();!o.done;o=s.next()){var i=o.value;this.checksum=this.checksum>>>8^mM[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},t.prototype.digest=function(){return(this.checksum^4294967295)>>>0},t}();Un.Crc32c=aS;var hM=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],mM=(0,uM.uint32ArrayFrom)(hM),pM=iS();Object.defineProperty(Un,"AwsCrc32c",{enumerable:!0,get:function(){return pM.AwsCrc32c}})});var xi=S(($ce,aA)=>{"use strict";var iA=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);aA.exports=t=>t?Object.keys(t).map(e=>[iA.has(e)?iA.get(e):e,t[e]]).reduce((e,r)=>(e[r[0]]=r[1],e),Object.create(null)):{}});var pl=S((qce,gA)=>{"use strict";var cA=typeof process=="object"&&process?process:{stdout:null,stderr:null},U3=require("events"),dA=require("stream"),z3=require("string_decoder"),lA=z3.StringDecoder,cn=Symbol("EOF"),dn=Symbol("maybeEmitEnd"),ps=Symbol("emittedEnd"),dl=Symbol("emittingEnd"),Ha=Symbol("emittedError"),ll=Symbol("closed"),uA=Symbol("read"),ul=Symbol("flush"),fA=Symbol("flushChunk"),vt=Symbol("encoding"),ln=Symbol("decoder"),fl=Symbol("flowing"),ja=Symbol("paused"),Ci=Symbol("resume"),De=Symbol("buffer"),Lr=Symbol("pipes"),Ze=Symbol("bufferLength"),Am=Symbol("bufferPush"),km=Symbol("bufferShift"),it=Symbol("objectMode"),Be=Symbol("destroyed"),Tm=Symbol("error"),Nm=Symbol("emitData"),hA=Symbol("emitEnd"),vm=Symbol("emitEnd2"),un=Symbol("async"),Pm=Symbol("abort"),hl=Symbol("aborted"),Js=Symbol("signal"),Ga=t=>Promise.resolve().then(t),yA=global._MP_NO_ITERATOR_SYMBOLS_!=="1",mA=yA&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),pA=yA&&Symbol.iterator||Symbol("iterator not implemented"),$3=t=>t==="end"||t==="finish"||t==="prefinish",q3=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,H3=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),ml=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[Ci](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Om=class extends ml{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=s=>r.emit("error",s),e.on("error",this.proxyErrors)}},Ka=class extends dA{constructor(e){super(),this[fl]=!1,this[ja]=!1,this[Lr]=[],this[De]=[],this[it]=e&&e.objectMode||!1,this[it]?this[vt]=null:this[vt]=e&&e.encoding||null,this[vt]==="buffer"&&(this[vt]=null),this[un]=e&&!!e.async||!1,this[ln]=this[vt]?new lA(this[vt]):null,this[cn]=!1,this[ps]=!1,this[dl]=!1,this[ll]=!1,this[Ha]=null,this.writable=!0,this.readable=!0,this[Ze]=0,this[Be]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[De]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Lr]}),this[Js]=e&&e.signal,this[hl]=!1,this[Js]&&(this[Js].addEventListener("abort",()=>this[Pm]()),this[Js].aborted&&this[Pm]())}get bufferLength(){return this[Ze]}get encoding(){return this[vt]}set encoding(e){if(this[it])throw new Error("cannot set encoding in objectMode");if(this[vt]&&e!==this[vt]&&(this[ln]&&this[ln].lastNeed||this[Ze]))throw new Error("cannot change encoding");this[vt]!==e&&(this[ln]=e?new lA(e):null,this[De].length&&(this[De]=this[De].map(r=>this[ln].write(r)))),this[vt]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[it]}set objectMode(e){this[it]=this[it]||!!e}get async(){return this[un]}set async(e){this[un]=this[un]||!!e}[Pm](){this[hl]=!0,this.emit("abort",this[Js].reason),this.destroy(this[Js].reason)}get aborted(){return this[hl]}set aborted(e){}write(e,r,n){if(this[hl])return!1;if(this[cn])throw new Error("write after end");if(this[Be])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let s=this[un]?Ga:o=>o();return!this[it]&&!Buffer.isBuffer(e)&&(H3(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):q3(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[it]?(this.flowing&&this[Ze]!==0&&this[ul](!0),this.flowing?this.emit("data",e):this[Am](e),this[Ze]!==0&&this.emit("readable"),n&&s(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[vt]&&!this[ln].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[vt]&&(e=this[ln].write(e)),this.flowing&&this[Ze]!==0&&this[ul](!0),this.flowing?this.emit("data",e):this[Am](e),this[Ze]!==0&&this.emit("readable"),n&&s(n),this.flowing):(this[Ze]!==0&&this.emit("readable"),n&&s(n),this.flowing)}read(e){if(this[Be])return null;if(this[Ze]===0||e===0||e>this[Ze])return this[dn](),null;this[it]&&(e=null),this[De].length>1&&!this[it]&&(this.encoding?this[De]=[this[De].join("")]:this[De]=[Buffer.concat(this[De],this[Ze])]);let r=this[uA](e||null,this[De][0]);return this[dn](),r}[uA](e,r){return e===r.length||e===null?this[km]():(this[De][0]=r.slice(e),r=r.slice(0,e),this[Ze]-=e),this.emit("data",r),!this[De].length&&!this[cn]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[cn]=!0,this.writable=!1,(this.flowing||!this[ja])&&this[dn](),this}[Ci](){this[Be]||(this[ja]=!1,this[fl]=!0,this.emit("resume"),this[De].length?this[ul]():this[cn]?this[dn]():this.emit("drain"))}resume(){return this[Ci]()}pause(){this[fl]=!1,this[ja]=!0}get destroyed(){return this[Be]}get flowing(){return this[fl]}get paused(){return this[ja]}[Am](e){this[it]?this[Ze]+=1:this[Ze]+=e.length,this[De].push(e)}[km](){return this[it]?this[Ze]-=1:this[Ze]-=this[De][0].length,this[De].shift()}[ul](e){do;while(this[fA](this[km]())&&this[De].length);!e&&!this[De].length&&!this[cn]&&this.emit("drain")}[fA](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[Be])return;let n=this[ps];return r=r||{},e===cA.stdout||e===cA.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[Lr].push(r.proxyErrors?new Om(this,e,r):new ml(this,e,r)),this[un]?Ga(()=>this[Ci]()):this[Ci]()),e}unpipe(e){let r=this[Lr].find(n=>n.dest===e);r&&(this[Lr].splice(this[Lr].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this[Lr].length&&!this.flowing?this[Ci]():e==="readable"&&this[Ze]!==0?super.emit("readable"):$3(e)&&this[ps]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Ha]&&(this[un]?Ga(()=>r.call(this,this[Ha])):r.call(this,this[Ha])),n}get emittedEnd(){return this[ps]}[dn](){!this[dl]&&!this[ps]&&!this[Be]&&this[De].length===0&&this[cn]&&(this[dl]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[ll]&&this.emit("close"),this[dl]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==Be&&this[Be])return;if(e==="data")return!this[it]&&!r?!1:this[un]?Ga(()=>this[Nm](r)):this[Nm](r);if(e==="end")return this[hA]();if(e==="close"){if(this[ll]=!0,!this[ps]&&!this[Be])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[Ha]=r,super.emit(Tm,r);let o=!this[Js]||this.listeners("error").length?super.emit("error",r):!1;return this[dn](),o}else if(e==="resume"){let o=super.emit("resume");return this[dn](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let s=super.emit(e,r,...n);return this[dn](),s}[Nm](e){for(let n of this[Lr])n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[dn](),r}[hA](){this[ps]||(this[ps]=!0,this.readable=!1,this[un]?Ga(()=>this[vm]()):this[vm]())}[vm](){if(this[ln]){let r=this[ln].end();if(r){for(let n of this[Lr])n.dest.write(r);super.emit("data",r)}}for(let r of this[Lr])r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[it]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[it]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[it]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[it]?Promise.reject(new Error("cannot concat in objectMode")):this[vt]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(Be,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[mA](){let e=!1,r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();let s=this.read();if(s!==null)return Promise.resolve({done:!1,value:s});if(this[cn])return r();let o=null,i=null,a=f=>{this.removeListener("data",c),this.removeListener("end",d),this.removeListener(Be,l),r(),i(f)},c=f=>{this.removeListener("error",a),this.removeListener("end",d),this.removeListener(Be,l),this.pause(),o({value:f,done:!!this[cn]})},d=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener(Be,l),r(),o({done:!0})},l=()=>a(new Error("stream destroyed"));return new Promise((f,u)=>{i=u,o=f,this.once(Be,l),this.once("error",a),this.once("end",d),this.once("data",c)})},throw:r,return:r,[mA](){return this}}}[pA](){let e=!1,r=()=>(this.pause(),this.removeListener(Tm,r),this.removeListener(Be,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();let s=this.read();return s===null?r():{value:s}};return this.once("end",r),this.once(Tm,r),this.once(Be,r),{next:n,throw:r,return:r,[pA](){return this}}}destroy(e){return this[Be]?(e?this.emit("error",e):this.emit(Be),this):(this[Be]=!0,this[De].length=0,this[Ze]=0,typeof this.close=="function"&&!this[ll]&&this.close(),e?this.emit("error",e):this.emit(Be),this)}static isStream(e){return!!e&&(e instanceof Ka||e instanceof dA||e instanceof U3&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};gA.exports=Ka});var xA=S((Hce,EA)=>{var j3=require("zlib").constants||{ZLIB_VERNUM:4736};EA.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},j3))});var Fm=S((jce,TA)=>{"use strict";var CA=typeof process=="object"&&process?process:{stdout:null,stderr:null},G3=require("events"),SA=require("stream"),wA=require("string_decoder").StringDecoder,fn=Symbol("EOF"),hn=Symbol("maybeEmitEnd"),ys=Symbol("emittedEnd"),yl=Symbol("emittingEnd"),Va=Symbol("emittedError"),gl=Symbol("closed"),bA=Symbol("read"),El=Symbol("flush"),_A=Symbol("flushChunk"),Pt=Symbol("encoding"),mn=Symbol("decoder"),xl=Symbol("flowing"),Wa=Symbol("paused"),Si=Symbol("resume"),Je=Symbol("bufferLength"),Im=Symbol("bufferPush"),Dm=Symbol("bufferShift"),ut=Symbol("objectMode"),ft=Symbol("destroyed"),Bm=Symbol("emitData"),RA=Symbol("emitEnd"),Mm=Symbol("emitEnd2"),pn=Symbol("async"),Ya=t=>Promise.resolve().then(t),AA=global._MP_NO_ITERATOR_SYMBOLS_!=="1",K3=AA&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),V3=AA&&Symbol.iterator||Symbol("iterator not implemented"),W3=t=>t==="end"||t==="finish"||t==="prefinish",Y3=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,X3=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Cl=class{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[Si](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Lm=class extends Cl{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=s=>r.emit("error",s),e.on("error",this.proxyErrors)}};TA.exports=class kA extends SA{constructor(e){super(),this[xl]=!1,this[Wa]=!1,this.pipes=[],this.buffer=[],this[ut]=e&&e.objectMode||!1,this[ut]?this[Pt]=null:this[Pt]=e&&e.encoding||null,this[Pt]==="buffer"&&(this[Pt]=null),this[pn]=e&&!!e.async||!1,this[mn]=this[Pt]?new wA(this[Pt]):null,this[fn]=!1,this[ys]=!1,this[yl]=!1,this[gl]=!1,this[Va]=null,this.writable=!0,this.readable=!0,this[Je]=0,this[ft]=!1}get bufferLength(){return this[Je]}get encoding(){return this[Pt]}set encoding(e){if(this[ut])throw new Error("cannot set encoding in objectMode");if(this[Pt]&&e!==this[Pt]&&(this[mn]&&this[mn].lastNeed||this[Je]))throw new Error("cannot change encoding");this[Pt]!==e&&(this[mn]=e?new wA(e):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[mn].write(r)))),this[Pt]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[ut]}set objectMode(e){this[ut]=this[ut]||!!e}get async(){return this[pn]}set async(e){this[pn]=this[pn]||!!e}write(e,r,n){if(this[fn])throw new Error("write after end");if(this[ft])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let s=this[pn]?Ya:o=>o();return!this[ut]&&!Buffer.isBuffer(e)&&(X3(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Y3(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[ut]?(this.flowing&&this[Je]!==0&&this[El](!0),this.flowing?this.emit("data",e):this[Im](e),this[Je]!==0&&this.emit("readable"),n&&s(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[Pt]&&!this[mn].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[Pt]&&(e=this[mn].write(e)),this.flowing&&this[Je]!==0&&this[El](!0),this.flowing?this.emit("data",e):this[Im](e),this[Je]!==0&&this.emit("readable"),n&&s(n),this.flowing):(this[Je]!==0&&this.emit("readable"),n&&s(n),this.flowing)}read(e){if(this[ft])return null;if(this[Je]===0||e===0||e>this[Je])return this[hn](),null;this[ut]&&(e=null),this.buffer.length>1&&!this[ut]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[Je])]);let r=this[bA](e||null,this.buffer[0]);return this[hn](),r}[bA](e,r){return e===r.length||e===null?this[Dm]():(this.buffer[0]=r.slice(e),r=r.slice(0,e),this[Je]-=e),this.emit("data",r),!this.buffer.length&&!this[fn]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[fn]=!0,this.writable=!1,(this.flowing||!this[Wa])&&this[hn](),this}[Si](){this[ft]||(this[Wa]=!1,this[xl]=!0,this.emit("resume"),this.buffer.length?this[El]():this[fn]?this[hn]():this.emit("drain"))}resume(){return this[Si]()}pause(){this[xl]=!1,this[Wa]=!0}get destroyed(){return this[ft]}get flowing(){return this[xl]}get paused(){return this[Wa]}[Im](e){this[ut]?this[Je]+=1:this[Je]+=e.length,this.buffer.push(e)}[Dm](){return this.buffer.length&&(this[ut]?this[Je]-=1:this[Je]-=this.buffer[0].length),this.buffer.shift()}[El](e){do;while(this[_A](this[Dm]()));!e&&!this.buffer.length&&!this[fn]&&this.emit("drain")}[_A](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,r){if(this[ft])return;let n=this[ys];return r=r||{},e===CA.stdout||e===CA.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this.pipes.push(r.proxyErrors?new Lm(this,e,r):new Cl(this,e,r)),this[pn]?Ya(()=>this[Si]()):this[Si]()),e}unpipe(e){let r=this.pipes.find(n=>n.dest===e);r&&(this.pipes.splice(this.pipes.indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){let n=super.on(e,r);return e==="data"&&!this.pipes.length&&!this.flowing?this[Si]():e==="readable"&&this[Je]!==0?super.emit("readable"):W3(e)&&this[ys]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Va]&&(this[pn]?Ya(()=>r.call(this,this[Va])):r.call(this,this[Va])),n}get emittedEnd(){return this[ys]}[hn](){!this[yl]&&!this[ys]&&!this[ft]&&this.buffer.length===0&&this[fn]&&(this[yl]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[gl]&&this.emit("close"),this[yl]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==ft&&this[ft])return;if(e==="data")return r?this[pn]?Ya(()=>this[Bm](r)):this[Bm](r):!1;if(e==="end")return this[RA]();if(e==="close"){if(this[gl]=!0,!this[ys]&&!this[ft])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[Va]=r;let o=super.emit("error",r);return this[hn](),o}else if(e==="resume"){let o=super.emit("resume");return this[hn](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let s=super.emit(e,r,...n);return this[hn](),s}[Bm](e){for(let n of this.pipes)n.dest.write(e)===!1&&this.pause();let r=super.emit("data",e);return this[hn](),r}[RA](){this[ys]||(this[ys]=!0,this.readable=!1,this[pn]?Ya(()=>this[Mm]()):this[Mm]())}[Mm](){if(this[mn]){let r=this[mn].end();if(r){for(let n of this.pipes)n.dest.write(r);super.emit("data",r)}}for(let r of this.pipes)r.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[ut]||(e.dataLength=0);let r=this.promise();return this.on("data",n=>{e.push(n),this[ut]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[ut]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[ut]?Promise.reject(new Error("cannot concat in objectMode")):this[Pt]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(ft,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[K3](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[fn])return Promise.resolve({done:!0});let n=null,s=null,o=d=>{this.removeListener("data",i),this.removeListener("end",a),s(d)},i=d=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:d,done:!!this[fn]})},a=()=>{this.removeListener("error",o),this.removeListener("data",i),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((d,l)=>{s=l,n=d,this.once(ft,c),this.once("error",o),this.once("end",a),this.once("data",i)})}}}[V3](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(e){return this[ft]?(e?this.emit("error",e):this.emit(ft),this):(this[ft]=!0,this.buffer.length=0,this[Je]=0,typeof this.close=="function"&&!this[gl]&&this.close(),e?this.emit("error",e):this.emit(ft),this)}static isStream(e){return!!e&&(e instanceof kA||e instanceof SA||e instanceof G3&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var ep=S(Ut=>{"use strict";var Hm=require("assert"),gs=require("buffer").Buffer,PA=require("zlib"),eo=Ut.constants=xA(),Q3=Fm(),NA=gs.concat,to=Symbol("_superWrite"),bi=class extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},Z3=Symbol("opts"),Xa=Symbol("flushFlag"),vA=Symbol("finishFlushFlag"),Jm=Symbol("fullFlushFlag"),Se=Symbol("handle"),Sl=Symbol("onError"),wi=Symbol("sawError"),Um=Symbol("level"),zm=Symbol("strategy"),$m=Symbol("ended"),Gce=Symbol("_defaultFullFlush"),wl=class extends Q3{constructor(e,r){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e),this[wi]=!1,this[$m]=!1,this[Z3]=e,this[Xa]=e.flush,this[vA]=e.finishFlush;try{this[Se]=new PA[r](e)}catch(n){throw new bi(n)}this[Sl]=n=>{this[wi]||(this[wi]=!0,this.close(),this.emit("error",n))},this[Se].on("error",n=>this[Sl](new bi(n))),this.once("end",()=>this.close)}close(){this[Se]&&(this[Se].close(),this[Se]=null,this.emit("close"))}reset(){if(!this[wi])return Hm(this[Se],"zlib binding closed"),this[Se].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[Jm]),this.write(Object.assign(gs.alloc(0),{[Xa]:e})))}end(e,r,n){return e&&this.write(e,r),this.flush(this[vA]),this[$m]=!0,super.end(null,null,n)}get ended(){return this[$m]}write(e,r,n){if(typeof r=="function"&&(n=r,r="utf8"),typeof e=="string"&&(e=gs.from(e,r)),this[wi])return;Hm(this[Se],"zlib binding closed");let s=this[Se]._handle,o=s.close;s.close=()=>{};let i=this[Se].close;this[Se].close=()=>{},gs.concat=d=>d;let a;try{let d=typeof e[Xa]=="number"?e[Xa]:this[Xa];a=this[Se]._processChunk(e,d),gs.concat=NA}catch(d){gs.concat=NA,this[Sl](new bi(d))}finally{this[Se]&&(this[Se]._handle=s,s.close=o,this[Se].close=i,this[Se].removeAllListeners("error"))}this[Se]&&this[Se].on("error",d=>this[Sl](new bi(d)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[to](gs.from(a[0]));for(let d=1;d<a.length;d++)c=this[to](a[d])}else c=this[to](gs.from(a));return n&&n(),c}[to](e){return super.write(e)}},yn=class extends wl{constructor(e,r){e=e||{},e.flush=e.flush||eo.Z_NO_FLUSH,e.finishFlush=e.finishFlush||eo.Z_FINISH,super(e,r),this[Jm]=eo.Z_FULL_FLUSH,this[Um]=e.level,this[zm]=e.strategy}params(e,r){if(!this[wi]){if(!this[Se])throw new Error("cannot switch params when binding is closed");if(!this[Se].params)throw new Error("not supported in this implementation");if(this[Um]!==e||this[zm]!==r){this.flush(eo.Z_SYNC_FLUSH),Hm(this[Se],"zlib binding closed");let n=this[Se].flush;this[Se].flush=(s,o)=>{this.flush(s),o()};try{this[Se].params(e,r)}finally{this[Se].flush=n}this[Se]&&(this[Um]=e,this[zm]=r)}}}},jm=class extends yn{constructor(e){super(e,"Deflate")}},Gm=class extends yn{constructor(e){super(e,"Inflate")}},qm=Symbol("_portable"),Km=class extends yn{constructor(e){super(e,"Gzip"),this[qm]=e&&!!e.portable}[to](e){return this[qm]?(this[qm]=!1,e[9]=255,super[to](e)):super[to](e)}},Vm=class extends yn{constructor(e){super(e,"Gunzip")}},Wm=class extends yn{constructor(e){super(e,"DeflateRaw")}},Ym=class extends yn{constructor(e){super(e,"InflateRaw")}},Xm=class extends yn{constructor(e){super(e,"Unzip")}},bl=class extends wl{constructor(e,r){e=e||{},e.flush=e.flush||eo.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||eo.BROTLI_OPERATION_FINISH,super(e,r),this[Jm]=eo.BROTLI_OPERATION_FLUSH}},Qm=class extends bl{constructor(e){super(e,"BrotliCompress")}},Zm=class extends bl{constructor(e){super(e,"BrotliDecompress")}};Ut.Deflate=jm;Ut.Inflate=Gm;Ut.Gzip=Km;Ut.Gunzip=Vm;Ut.DeflateRaw=Wm;Ut.InflateRaw=Ym;Ut.Unzip=Xm;typeof PA.BrotliCompress=="function"?(Ut.BrotliCompress=Qm,Ut.BrotliDecompress=Zm):Ut.BrotliCompress=Ut.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var _i=S((Wce,OA)=>{var J3=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;OA.exports=J3!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")});var _l=S((Xce,IA)=>{"use strict";var eU=pl(),tp=_i(),rp=Symbol("slurp");IA.exports=class extends eU{constructor(e,r,n){switch(super(),this.pause(),this.extended=r,this.globalExtended=n,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=tp(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=tp(e.linkpath),this.uname=e.uname,this.gname=e.gname,r&&this[rp](r),n&&this[rp](n,!0)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,s=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,s-r),this.ignore?!0:n>=r?super.write(e):super.write(e.slice(0,n))}[rp](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?tp(e[n]):e[n])}}});var np=S(Rl=>{"use strict";Rl.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);Rl.code=new Map(Array.from(Rl.name).map(t=>[t[1],t[0]]))});var LA=S((Zce,MA)=>{"use strict";var tU=(t,e)=>{if(Number.isSafeInteger(t))t<0?nU(t,e):rU(t,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},rU=(t,e)=>{e[0]=128;for(var r=e.length;r>1;r--)e[r-1]=t&255,t=Math.floor(t/256)},nU=(t,e)=>{e[0]=255;var r=!1;t=t*-1;for(var n=e.length;n>1;n--){var s=t&255;t=Math.floor(t/256),r?e[n-1]=DA(s):s===0?e[n-1]=0:(r=!0,e[n-1]=BA(s))}},sU=t=>{let e=t[0],r=e===128?iU(t.slice(1,t.length)):e===255?oU(t):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},oU=t=>{for(var e=t.length,r=0,n=!1,s=e-1;s>-1;s--){var o=t[s],i;n?i=DA(o):o===0?i=o:(n=!0,i=BA(o)),i!==0&&(r-=i*Math.pow(256,e-s-1))}return r},iU=t=>{for(var e=t.length,r=0,n=e-1;n>-1;n--){var s=t[n];s!==0&&(r+=s*Math.pow(256,e-n-1))}return r},DA=t=>(255^t)&255,BA=t=>(255^t)+1&255;MA.exports={encode:tU,parse:sU}});var Ai=S((Jce,UA)=>{"use strict";var sp=np(),Ri=require("path").posix,FA=LA(),op=Symbol("slurp"),zt=Symbol("type"),cp=class{constructor(e,r,n,s){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[zt]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,r||0,n,s):e&&this.set(e)}decode(e,r,n,s){if(r||(r=0),!e||!(e.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=ro(e,r,100),this.mode=Es(e,r+100,8),this.uid=Es(e,r+108,8),this.gid=Es(e,r+116,8),this.size=Es(e,r+124,12),this.mtime=ip(e,r+136,12),this.cksum=Es(e,r+148,12),this[op](n),this[op](s,!0),this[zt]=ro(e,r+156,1),this[zt]===""&&(this[zt]="0"),this[zt]==="0"&&this.path.slice(-1)==="/"&&(this[zt]="5"),this[zt]==="5"&&(this.size=0),this.linkpath=ro(e,r+157,100),e.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=ro(e,r+265,32),this.gname=ro(e,r+297,32),this.devmaj=Es(e,r+329,8),this.devmin=Es(e,r+337,8),e[r+475]!==0){let i=ro(e,r+345,155);this.path=i+"/"+this.path}else{let i=ro(e,r+345,130);i&&(this.path=i+"/"+this.path),this.atime=ip(e,r+476,12),this.ctime=ip(e,r+488,12)}let o=8*32;for(let i=r;i<r+148;i++)o+=e[i];for(let i=r+156;i<r+512;i++)o+=e[i];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[op](e,r){for(let n in e)e[n]!==null&&e[n]!==void 0&&!(r&&n==="path")&&(this[n]=e[n])}encode(e,r){if(e||(e=this.block=Buffer.alloc(512),r=0),r||(r=0),!(e.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,s=aU(this.path||"",n),o=s[0],i=s[1];this.needPax=s[2],this.needPax=no(e,r,100,o)||this.needPax,this.needPax=xs(e,r+100,8,this.mode)||this.needPax,this.needPax=xs(e,r+108,8,this.uid)||this.needPax,this.needPax=xs(e,r+116,8,this.gid)||this.needPax,this.needPax=xs(e,r+124,12,this.size)||this.needPax,this.needPax=ap(e,r+136,12,this.mtime)||this.needPax,e[r+156]=this[zt].charCodeAt(0),this.needPax=no(e,r+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",r+257,8),this.needPax=no(e,r+265,32,this.uname)||this.needPax,this.needPax=no(e,r+297,32,this.gname)||this.needPax,this.needPax=xs(e,r+329,8,this.devmaj)||this.needPax,this.needPax=xs(e,r+337,8,this.devmin)||this.needPax,this.needPax=no(e,r+345,n,i)||this.needPax,e[r+475]!==0?this.needPax=no(e,r+345,155,i)||this.needPax:(this.needPax=no(e,r+345,130,i)||this.needPax,this.needPax=ap(e,r+476,12,this.atime)||this.needPax,this.needPax=ap(e,r+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=r;c<r+148;c++)a+=e[c];for(let c=r+156;c<r+512;c++)a+=e[c];return this.cksum=a,xs(e,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let r in e)e[r]!==null&&e[r]!==void 0&&(this[r]=e[r])}get type(){return sp.name.get(this[zt])||this[zt]}get typeKey(){return this[zt]}set type(e){sp.code.has(e)?this[zt]=sp.code.get(e):this[zt]=e}},aU=(t,e)=>{let n=t,s="",o,i=Ri.parse(t).root||".";if(Buffer.byteLength(n)<100)o=[n,s,!1];else{s=Ri.dirname(n),n=Ri.basename(n);do Buffer.byteLength(n)<=100&&Buffer.byteLength(s)<=e?o=[n,s,!1]:Buffer.byteLength(n)>100&&Buffer.byteLength(s)<=e?o=[n.slice(0,100-1),s,!0]:(n=Ri.join(Ri.basename(s),n),s=Ri.dirname(s));while(s!==i&&!o);o||(o=[t.slice(0,100-1),"",!0])}return o},ro=(t,e,r)=>t.slice(e,e+r).toString("utf8").replace(/\0.*/,""),ip=(t,e,r)=>cU(Es(t,e,r)),cU=t=>t===null?null:new Date(t*1e3),Es=(t,e,r)=>t[e]&128?FA.parse(t.slice(e,e+r)):lU(t,e,r),dU=t=>isNaN(t)?null:t,lU=(t,e,r)=>dU(parseInt(t.slice(e,e+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),uU={12:8589934591,8:2097151},xs=(t,e,r,n)=>n===null?!1:n>uU[r]||n<0?(FA.encode(n,t.slice(e,e+r)),!0):(fU(t,e,r,n),!1),fU=(t,e,r,n)=>t.write(hU(n,r),e,r,"ascii"),hU=(t,e)=>mU(Math.floor(t).toString(8),e),mU=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0",ap=(t,e,r,n)=>n===null?!1:xs(t,e,r,n.getTime()/1e3),pU=new Array(156).join("\0"),no=(t,e,r,n)=>n===null?!1:(t.write(n+pU,e,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);UA.exports=cp});var Al=S((ede,zA)=>{"use strict";var yU=Ai(),gU=require("path"),Qa=class{constructor(e,r){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=r||!1}encode(){let e=this.encodeBody();if(e==="")return null;let r=Buffer.byteLength(e),n=512*Math.ceil(1+r/512),s=Buffer.allocUnsafe(n);for(let o=0;o<512;o++)s[o]=0;new yU({path:("PaxHeader/"+gU.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(s),s.write(e,512,r,"utf8");for(let o=r+512;o<s.length;o++)s[o]=0;return s}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let r=this[e]instanceof Date?this[e].getTime()/1e3:this[e],n=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+r+`
`,s=Buffer.byteLength(n),o=Math.floor(Math.log(s)/Math.log(10))+1;return s+o>=Math.pow(10,o)&&(o+=1),o+s+n}};Qa.parse=(t,e,r)=>new Qa(EU(xU(t),e),r);var EU=(t,e)=>e?Object.keys(t).reduce((r,n)=>(r[n]=t[n],r),e):t,xU=t=>t.replace(/\n$/,"").split(`
`).reduce(CU,Object.create(null)),CU=(t,e)=>{let r=parseInt(e,10);if(r!==Buffer.byteLength(e)+1)return t;e=e.slice((r+" ").length);let n=e.split("="),s=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!s)return t;let o=n.join("=");return t[s]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(s)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,t};zA.exports=Qa});var ki=S((tde,$A)=>{$A.exports=t=>{let e=t.length-1,r=-1;for(;e>-1&&t.charAt(e)==="/";)r=e,e--;return r===-1?t:t.slice(0,r)}});var kl=S((rde,qA)=>{"use strict";qA.exports=t=>class extends t{warn(e,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||e,n.tarCode=e,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${e}: ${r}`),n))}}});var lp=S((sde,HA)=>{"use strict";var Tl=["|","<",">","?",":"],dp=Tl.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),SU=new Map(Tl.map((t,e)=>[t,dp[e]])),wU=new Map(dp.map((t,e)=>[t,Tl[e]]));HA.exports={encode:t=>Tl.reduce((e,r)=>e.split(r).join(SU.get(r)),t),decode:t=>dp.reduce((e,r)=>e.split(r).join(wU.get(r)),t)}});var up=S((ode,GA)=>{var{isAbsolute:bU,parse:jA}=require("path").win32;GA.exports=t=>{let e="",r=jA(t);for(;bU(t)||r.root;){let n=t.charAt(0)==="/"&&t.slice(0,4)!=="//?/"?"/":r.root;t=t.slice(n.length),e+=n,r=jA(t)}return[e,t]}});var VA=S((ide,KA)=>{"use strict";KA.exports=(t,e,r)=>(t&=4095,r&&(t=(t|384)&-19),e&&(t&256&&(t|=64),t&32&&(t|=8),t&4&&(t|=1)),t)});var Sp=S((dde,ak)=>{"use strict";var ek=pl(),tk=Al(),rk=Ai(),Ur=require("fs"),WA=require("path"),Fr=_i(),_U=ki(),nk=(t,e)=>e?(t=Fr(t).replace(/^\.(\/|$)/,""),_U(e)+"/"+t):Fr(t),RU=16*1024*1024,YA=Symbol("process"),XA=Symbol("file"),QA=Symbol("directory"),hp=Symbol("symlink"),ZA=Symbol("hardlink"),Za=Symbol("header"),Nl=Symbol("read"),mp=Symbol("lstat"),vl=Symbol("onlstat"),pp=Symbol("onread"),yp=Symbol("onreadlink"),gp=Symbol("openfile"),Ep=Symbol("onopenfile"),Cs=Symbol("close"),Pl=Symbol("mode"),xp=Symbol("awaitDrain"),fp=Symbol("ondrain"),zr=Symbol("prefix"),JA=Symbol("hadError"),sk=kl(),AU=lp(),ok=up(),ik=VA(),Ol=sk(class extends ek{constructor(e,r){if(r=r||{},super(r),typeof e!="string")throw new TypeError("path is required");this.path=Fr(e),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||RU,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=Fr(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?Fr(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[s,o]=ok(this.path);s&&(this.path=o,n=s)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=AU.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=Fr(r.absolute||WA.resolve(this.cwd,e)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[vl](this.statCache.get(this.absolute)):this[mp]()}emit(e,...r){return e==="error"&&(this[JA]=!0),super.emit(e,...r)}[mp](){Ur.lstat(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[vl](r)})}[vl](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=TU(e),this.emit("stat",e),this[YA]()}[YA](){switch(this.type){case"File":return this[XA]();case"Directory":return this[QA]();case"SymbolicLink":return this[hp]();default:return this.end()}}[Pl](e){return ik(e,this.type==="Directory",this.portable)}[zr](e){return nk(e,this.prefix)}[Za](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new rk({path:this[zr](this.path),linkpath:this.type==="Link"?this[zr](this.linkpath):this.linkpath,mode:this[Pl](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new tk({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[zr](this.path),linkpath:this.type==="Link"?this[zr](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[QA](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[Za](),this.end()}[hp](){Ur.readlink(this.absolute,(e,r)=>{if(e)return this.emit("error",e);this[yp](r)})}[yp](e){this.linkpath=Fr(e),this[Za](),this.end()}[ZA](e){this.type="Link",this.linkpath=Fr(WA.relative(this.cwd,e)),this.stat.size=0,this[Za](),this.end()}[XA](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let r=this.linkCache.get(e);if(r.indexOf(this.cwd)===0)return this[ZA](r)}this.linkCache.set(e,this.absolute)}if(this[Za](),this.stat.size===0)return this.end();this[gp]()}[gp](){Ur.open(this.absolute,"r",(e,r)=>{if(e)return this.emit("error",e);this[Ep](r)})}[Ep](e){if(this.fd=e,this[JA])return this[Cs]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[Nl]()}[Nl](){let{fd:e,buf:r,offset:n,length:s,pos:o}=this;Ur.read(e,r,n,s,o,(i,a)=>{if(i)return this[Cs](()=>this.emit("error",i));this[pp](a)})}[Cs](e){Ur.close(this.fd,e)}[pp](e){if(e<=0&&this.remain>0){let s=new Error("encountered unexpected EOF");return s.path=this.absolute,s.syscall="read",s.code="EOF",this[Cs](()=>this.emit("error",s))}if(e>this.remain){let s=new Error("did not encounter expected EOF");return s.path=this.absolute,s.syscall="read",s.code="EOF",this[Cs](()=>this.emit("error",s))}if(e===this.remain)for(let s=e;s<this.length&&e<this.blockRemain;s++)this.buf[s+this.offset]=0,e++,this.remain++;let r=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(r)?this[fp]():this[xp](()=>this[fp]())}[xp](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[fp](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[Cs](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[Nl]()}}),Cp=class extends Ol{[mp](){this[vl](Ur.lstatSync(this.absolute))}[hp](){this[yp](Ur.readlinkSync(this.absolute))}[gp](){this[Ep](Ur.openSync(this.absolute,"r"))}[Nl](){let e=!0;try{let{fd:r,buf:n,offset:s,length:o,pos:i}=this,a=Ur.readSync(r,n,s,o,i);this[pp](a),e=!1}finally{if(e)try{this[Cs](()=>{})}catch{}}}[xp](e){e()}[Cs](e){Ur.closeSync(this.fd),e()}},kU=sk(class extends ek{constructor(e,r){r=r||{},super(r),this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=Fr(e.path),this.mode=this[Pl](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:r.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=Fr(e.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[s,o]=ok(this.path);s&&(this.path=o,n=s)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new rk({path:this[zr](this.path),linkpath:this.type==="Link"?this[zr](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new tk({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[zr](this.path),linkpath:this.type==="Link"?this[zr](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[zr](e){return nk(e,this.prefix)}[Pl](e){return ik(e,this.type==="Directory",this.portable)}write(e){let r=e.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});Ol.Sync=Cp;Ol.Tar=kU;var TU=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";ak.exports=Ol});var dk=S((lde,ck)=>{"use strict";ck.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var wp=S((ude,lk)=>{"use strict";lk.exports=de;de.Node=so;de.create=de;function de(t){var e=this;if(e instanceof de||(e=new de),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(s){e.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)e.push(arguments[r]);return e}de.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,r=t.prev;return e&&(e.prev=r),r&&(r.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=r),t.list.length--,t.next=null,t.prev=null,t.list=null,e};de.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};de.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};de.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)vU(this,arguments[t]);return this.length};de.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)PU(this,arguments[t]);return this.length};de.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};de.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};de.prototype.forEach=function(t,e){e=e||this;for(var r=this.head,n=0;r!==null;n++)t.call(e,r.value,n,this),r=r.next};de.prototype.forEachReverse=function(t,e){e=e||this;for(var r=this.tail,n=this.length-1;r!==null;n--)t.call(e,r.value,n,this),r=r.prev};de.prototype.get=function(t){for(var e=0,r=this.head;r!==null&&e<t;e++)r=r.next;if(e===t&&r!==null)return r.value};de.prototype.getReverse=function(t){for(var e=0,r=this.tail;r!==null&&e<t;e++)r=r.prev;if(e===t&&r!==null)return r.value};de.prototype.map=function(t,e){e=e||this;for(var r=new de,n=this.head;n!==null;)r.push(t.call(e,n.value,this)),n=n.next;return r};de.prototype.mapReverse=function(t,e){e=e||this;for(var r=new de,n=this.tail;n!==null;)r.push(t.call(e,n.value,this)),n=n.prev;return r};de.prototype.reduce=function(t,e){var r,n=this.head;if(arguments.length>1)r=e;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=t(r,n.value,s),n=n.next;return r};de.prototype.reduceReverse=function(t,e){var r,n=this.tail;if(arguments.length>1)r=e;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=t(r,n.value,s),n=n.prev;return r};de.prototype.toArray=function(){for(var t=new Array(this.length),e=0,r=this.head;r!==null;e++)t[e]=r.value,r=r.next;return t};de.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,r=this.tail;r!==null;e++)t[e]=r.value,r=r.prev;return t};de.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new de;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(;s!==null&&n<e;n++,s=s.next)r.push(s.value);return r};de.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var r=new de;if(e<t||e<0)return r;t<0&&(t=0),e>this.length&&(e=this.length);for(var n=this.length,s=this.tail;s!==null&&n>e;n--)s=s.prev;for(;s!==null&&n>t;n--,s=s.prev)r.push(s.value);return r};de.prototype.splice=function(t,e,...r){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,s=this.head;s!==null&&n<t;n++)s=s.next;for(var o=[],n=0;s&&n<e;n++)o.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=NU(this,s,r[n]);return o};de.prototype.reverse=function(){for(var t=this.head,e=this.tail,r=t;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=e,this.tail=t,this};function NU(t,e,r){var n=e===t.head?new so(r,null,e,t):new so(r,e,e.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function vU(t,e){t.tail=new so(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function PU(t,e){t.head=new so(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function so(t,e,r,n){if(!(this instanceof so))return new so(t,e,r,n);this.list=n,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{dk()(de)}catch{}});var $l=S((hde,gk)=>{"use strict";var Ul=class{constructor(e,r){this.path=e||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},OU=pl(),IU=ep(),DU=_l(),Pp=Sp(),BU=Pp.Sync,MU=Pp.Tar,LU=wp(),uk=Buffer.alloc(1024),Bl=Symbol("onStat"),Il=Symbol("ended"),$r=Symbol("queue"),Ti=Symbol("current"),oo=Symbol("process"),Dl=Symbol("processing"),fk=Symbol("processJob"),qr=Symbol("jobs"),bp=Symbol("jobDone"),Ml=Symbol("addFSEntry"),hk=Symbol("addTarEntry"),kp=Symbol("stat"),Tp=Symbol("readdir"),Ll=Symbol("onreaddir"),Fl=Symbol("pipe"),mk=Symbol("entry"),_p=Symbol("entryOpt"),Np=Symbol("writeEntryClass"),yk=Symbol("write"),Rp=Symbol("ondrain"),zl=require("fs"),pk=require("path"),FU=kl(),Ap=_i(),Op=FU(class extends OU{constructor(e){super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=Ap(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[Np]=Pp,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip?(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new IU.Gzip(e.gzip),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[Rp]()),this.on("resume",r=>this.zip.resume())):this.on("drain",this[Rp]),this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:r=>!0,this[$r]=new LU,this[qr]=0,this.jobs=+e.jobs||4,this[Dl]=!1,this[Il]=!1}[yk](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[Il]=!0,this[oo](),this}write(e){if(this[Il])throw new Error("write after end");return e instanceof DU?this[hk](e):this[Ml](e),this.flowing}[hk](e){let r=Ap(pk.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let n=new Ul(e.path,r,!1);n.entry=new MU(e,this[_p](n)),n.entry.on("end",s=>this[bp](n)),this[qr]+=1,this[$r].push(n)}this[oo]()}[Ml](e){let r=Ap(pk.resolve(this.cwd,e));this[$r].push(new Ul(e,r)),this[oo]()}[kp](e){e.pending=!0,this[qr]+=1;let r=this.follow?"stat":"lstat";zl[r](e.absolute,(n,s)=>{e.pending=!1,this[qr]-=1,n?this.emit("error",n):this[Bl](e,s)})}[Bl](e,r){this.statCache.set(e.absolute,r),e.stat=r,this.filter(e.path,r)||(e.ignore=!0),this[oo]()}[Tp](e){e.pending=!0,this[qr]+=1,zl.readdir(e.absolute,(r,n)=>{if(e.pending=!1,this[qr]-=1,r)return this.emit("error",r);this[Ll](e,n)})}[Ll](e,r){this.readdirCache.set(e.absolute,r),e.readdir=r,this[oo]()}[oo](){if(!this[Dl]){this[Dl]=!0;for(let e=this[$r].head;e!==null&&this[qr]<this.jobs;e=e.next)if(this[fk](e.value),e.value.ignore){let r=e.next;this[$r].removeNode(e),e.next=r}this[Dl]=!1,this[Il]&&!this[$r].length&&this[qr]===0&&(this.zip?this.zip.end(uk):(super.write(uk),super.end()))}}get[Ti](){return this[$r]&&this[$r].head&&this[$r].head.value}[bp](e){this[$r].shift(),this[qr]-=1,this[oo]()}[fk](e){if(!e.pending){if(e.entry){e===this[Ti]&&!e.piped&&this[Fl](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Bl](e,this.statCache.get(e.absolute)):this[kp](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[Ll](e,this.readdirCache.get(e.absolute)):this[Tp](e),!e.readdir))){if(e.entry=this[mk](e),!e.entry){e.ignore=!0;return}e===this[Ti]&&!e.piped&&this[Fl](e)}}}[_p](e){return{onwarn:(r,n,s)=>this.warn(r,n,s),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[mk](e){this[qr]+=1;try{return new this[Np](e.path,this[_p](e)).on("end",()=>this[bp](e)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[Rp](){this[Ti]&&this[Ti].entry&&this[Ti].entry.resume()}[Fl](e){e.piped=!0,e.readdir&&e.readdir.forEach(s=>{let o=e.path,i=o==="./"?"":o.replace(/\/*$/,"/");this[Ml](i+s)});let r=e.entry,n=this.zip;n?r.on("data",s=>{n.write(s)||r.pause()}):r.on("data",s=>{super.write(s)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),vp=class extends Op{constructor(e){super(e),this[Np]=BU}pause(){}resume(){}[kp](e){let r=this.follow?"statSync":"lstatSync";this[Bl](e,zl[r](e.absolute))}[Tp](e,r){this[Ll](e,zl.readdirSync(e.absolute))}[Fl](e){let r=e.entry,n=this.zip;e.readdir&&e.readdir.forEach(s=>{let o=e.path,i=o==="./"?"":o.replace(/\/*$/,"/");this[Ml](i+s)}),n?r.on("data",s=>{n.write(s)}):r.on("data",s=>{super[yk](s)})}};Op.Sync=vp;gk.exports=Op});var Mi=S(ec=>{"use strict";var UU=Fm(),zU=require("events").EventEmitter,Ot=require("fs"),Bp=Ot.writev;if(!Bp){let t=process.binding("fs"),e=t.FSReqWrap||t.FSReqCallback;Bp=(r,n,s,o)=>{let i=(c,d)=>o(c,d,n),a=new e;a.oncomplete=i,t.writeBuffers(r,n,s,a)}}var Di=Symbol("_autoClose"),pr=Symbol("_close"),Ja=Symbol("_ended"),Ee=Symbol("_fd"),Ek=Symbol("_finished"),ws=Symbol("_flags"),Ip=Symbol("_flush"),Mp=Symbol("_handleChunk"),Lp=Symbol("_makeBuf"),Kl=Symbol("_mode"),ql=Symbol("_needDrain"),Oi=Symbol("_onerror"),Bi=Symbol("_onopen"),Dp=Symbol("_onread"),vi=Symbol("_onwrite"),bs=Symbol("_open"),gn=Symbol("_path"),io=Symbol("_pos"),Hr=Symbol("_queue"),Pi=Symbol("_read"),xk=Symbol("_readSize"),Ss=Symbol("_reading"),Hl=Symbol("_remain"),Ck=Symbol("_size"),jl=Symbol("_write"),Ni=Symbol("_writing"),Gl=Symbol("_defaultFlag"),Ii=Symbol("_errored"),Vl=class extends UU{constructor(e,r){if(r=r||{},super(r),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[Ii]=!1,this[Ee]=typeof r.fd=="number"?r.fd:null,this[gn]=e,this[xk]=r.readSize||16*1024*1024,this[Ss]=!1,this[Ck]=typeof r.size=="number"?r.size:1/0,this[Hl]=this[Ck],this[Di]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[Ee]=="number"?this[Pi]():this[bs]()}get fd(){return this[Ee]}get path(){return this[gn]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[bs](){Ot.open(this[gn],"r",(e,r)=>this[Bi](e,r))}[Bi](e,r){e?this[Oi](e):(this[Ee]=r,this.emit("open",r),this[Pi]())}[Lp](){return Buffer.allocUnsafe(Math.min(this[xk],this[Hl]))}[Pi](){if(!this[Ss]){this[Ss]=!0;let e=this[Lp]();if(e.length===0)return process.nextTick(()=>this[Dp](null,0,e));Ot.read(this[Ee],e,0,e.length,null,(r,n,s)=>this[Dp](r,n,s))}}[Dp](e,r,n){this[Ss]=!1,e?this[Oi](e):this[Mp](r,n)&&this[Pi]()}[pr](){if(this[Di]&&typeof this[Ee]=="number"){let e=this[Ee];this[Ee]=null,Ot.close(e,r=>r?this.emit("error",r):this.emit("close"))}}[Oi](e){this[Ss]=!0,this[pr](),this.emit("error",e)}[Mp](e,r){let n=!1;return this[Hl]-=e,e>0&&(n=super.write(e<r.length?r.slice(0,e):r)),(e===0||this[Hl]<=0)&&(n=!1,this[pr](),super.end()),n}emit(e,r){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[Ee]=="number"&&this[Pi]();break;case"error":return this[Ii]?void 0:(this[Ii]=!0,super.emit(e,r));default:return super.emit(e,r)}}},Fp=class extends Vl{[bs](){let e=!0;try{this[Bi](null,Ot.openSync(this[gn],"r")),e=!1}finally{e&&this[pr]()}}[Pi](){let e=!0;try{if(!this[Ss]){this[Ss]=!0;do{let r=this[Lp](),n=r.length===0?0:Ot.readSync(this[Ee],r,0,r.length,null);if(!this[Mp](n,r))break}while(!0);this[Ss]=!1}e=!1}finally{e&&this[pr]()}}[pr](){if(this[Di]&&typeof this[Ee]=="number"){let e=this[Ee];this[Ee]=null,Ot.closeSync(e),this.emit("close")}}},Wl=class extends zU{constructor(e,r){r=r||{},super(r),this.readable=!1,this.writable=!0,this[Ii]=!1,this[Ni]=!1,this[Ja]=!1,this[ql]=!1,this[Hr]=[],this[gn]=e,this[Ee]=typeof r.fd=="number"?r.fd:null,this[Kl]=r.mode===void 0?438:r.mode,this[io]=typeof r.start=="number"?r.start:null,this[Di]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[io]!==null?"r+":"w";this[Gl]=r.flags===void 0,this[ws]=this[Gl]?n:r.flags,this[Ee]===null&&this[bs]()}emit(e,r){if(e==="error"){if(this[Ii])return;this[Ii]=!0}return super.emit(e,r)}get fd(){return this[Ee]}get path(){return this[gn]}[Oi](e){this[pr](),this[Ni]=!0,this.emit("error",e)}[bs](){Ot.open(this[gn],this[ws],this[Kl],(e,r)=>this[Bi](e,r))}[Bi](e,r){this[Gl]&&this[ws]==="r+"&&e&&e.code==="ENOENT"?(this[ws]="w",this[bs]()):e?this[Oi](e):(this[Ee]=r,this.emit("open",r),this[Ip]())}end(e,r){return e&&this.write(e,r),this[Ja]=!0,!this[Ni]&&!this[Hr].length&&typeof this[Ee]=="number"&&this[vi](null,0),this}write(e,r){return typeof e=="string"&&(e=Buffer.from(e,r)),this[Ja]?(this.emit("error",new Error("write() after end()")),!1):this[Ee]===null||this[Ni]||this[Hr].length?(this[Hr].push(e),this[ql]=!0,!1):(this[Ni]=!0,this[jl](e),!0)}[jl](e){Ot.write(this[Ee],e,0,e.length,this[io],(r,n)=>this[vi](r,n))}[vi](e,r){e?this[Oi](e):(this[io]!==null&&(this[io]+=r),this[Hr].length?this[Ip]():(this[Ni]=!1,this[Ja]&&!this[Ek]?(this[Ek]=!0,this[pr](),this.emit("finish")):this[ql]&&(this[ql]=!1,this.emit("drain"))))}[Ip](){if(this[Hr].length===0)this[Ja]&&this[vi](null,0);else if(this[Hr].length===1)this[jl](this[Hr].pop());else{let e=this[Hr];this[Hr]=[],Bp(this[Ee],e,this[io],(r,n)=>this[vi](r,n))}}[pr](){if(this[Di]&&typeof this[Ee]=="number"){let e=this[Ee];this[Ee]=null,Ot.close(e,r=>r?this.emit("error",r):this.emit("close"))}}},Up=class extends Wl{[bs](){let e;if(this[Gl]&&this[ws]==="r+")try{e=Ot.openSync(this[gn],this[ws],this[Kl])}catch(r){if(r.code==="ENOENT")return this[ws]="w",this[bs]();throw r}else e=Ot.openSync(this[gn],this[ws],this[Kl]);this[Bi](null,e)}[pr](){if(this[Di]&&typeof this[Ee]=="number"){let e=this[Ee];this[Ee]=null,Ot.closeSync(e),this.emit("close")}}[jl](e){let r=!0;try{this[vi](null,Ot.writeSync(this[Ee],e,0,e.length,this[io])),r=!1}finally{if(r)try{this[pr]()}catch{}}}};ec.ReadStream=Vl;ec.ReadStreamSync=Fp;ec.WriteStream=Wl;ec.WriteStreamSync=Up});var tu=S((yde,Tk)=>{"use strict";var $U=kl(),qU=Ai(),HU=require("events"),jU=wp(),GU=1024*1024,KU=_l(),Sk=Al(),VU=ep(),{nextTick:WU}=require("process"),zp=Buffer.from([31,139]),sr=Symbol("state"),ao=Symbol("writeEntry"),En=Symbol("readEntry"),$p=Symbol("nextEntry"),wk=Symbol("processEntry"),or=Symbol("extendedHeader"),tc=Symbol("globalExtendedHeader"),_s=Symbol("meta"),bk=Symbol("emitMeta"),Ae=Symbol("buffer"),xn=Symbol("queue"),co=Symbol("ended"),_k=Symbol("emittedEnd"),lo=Symbol("emit"),It=Symbol("unzip"),Yl=Symbol("consumeChunk"),Xl=Symbol("consumeChunkSub"),qp=Symbol("consumeBody"),Rk=Symbol("consumeMeta"),Ak=Symbol("consumeHeader"),Ql=Symbol("consuming"),Hp=Symbol("bufferConcat"),jp=Symbol("maybeEnd"),rc=Symbol("writing"),Rs=Symbol("aborted"),Zl=Symbol("onDone"),uo=Symbol("sawValidEntry"),Jl=Symbol("sawNullBlock"),eu=Symbol("sawEOF"),kk=Symbol("closeStream"),YU=t=>!0;Tk.exports=$U(class extends HU{constructor(e){e=e||{},super(e),this.file=e.file||"",this[uo]=null,this.on(Zl,r=>{(this[sr]==="begin"||this[uo]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(Zl,e.ondone):this.on(Zl,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||GU,this.filter=typeof e.filter=="function"?e.filter:YU,this.writable=!0,this.readable=!1,this[xn]=new jU,this[Ae]=null,this[En]=null,this[ao]=null,this[sr]="begin",this[_s]="",this[or]=null,this[tc]=null,this[co]=!1,this[It]=null,this[Rs]=!1,this[Jl]=!1,this[eu]=!1,this.on("end",()=>this[kk]()),typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[Ak](e,r){this[uo]===null&&(this[uo]=!1);let n;try{n=new qU(e,r,this[or],this[tc])}catch(s){return this.warn("TAR_ENTRY_INVALID",s)}if(n.nullBlock)this[Jl]?(this[eu]=!0,this[sr]==="begin"&&(this[sr]="header"),this[lo]("eof")):(this[Jl]=!0,this[lo]("nullBlock"));else if(this[Jl]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let s=n.type;if(/^(Symbolic)?Link$/.test(s)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(s)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let o=this[ao]=new KU(n,this[or],this[tc]);if(!this[uo])if(o.remain){let i=()=>{o.invalid||(this[uo]=!0)};o.on("end",i)}else this[uo]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[lo]("ignoredEntry",o),this[sr]="ignore",o.resume()):o.size>0&&(this[_s]="",o.on("data",i=>this[_s]+=i),this[sr]="meta"):(this[or]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[lo]("ignoredEntry",o),this[sr]=o.remain?"ignore":"header",o.resume()):(o.remain?this[sr]="body":(this[sr]="header",o.end()),this[En]?this[xn].push(o):(this[xn].push(o),this[$p]())))}}}[kk](){WU(()=>this.emit("close"))}[wk](e){let r=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[En]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",n=>this[$p]()),r=!1)):(this[En]=null,r=!1),r}[$p](){do;while(this[wk](this[xn].shift()));if(!this[xn].length){let e=this[En];!e||e.flowing||e.size===e.remain?this[rc]||this.emit("drain"):e.once("drain",n=>this.emit("drain"))}}[qp](e,r){let n=this[ao],s=n.blockRemain,o=s>=e.length&&r===0?e:e.slice(r,r+s);return n.write(o),n.blockRemain||(this[sr]="header",this[ao]=null,n.end()),o.length}[Rk](e,r){let n=this[ao],s=this[qp](e,r);return this[ao]||this[bk](n),s}[lo](e,r,n){!this[xn].length&&!this[En]?this.emit(e,r,n):this[xn].push([e,r,n])}[bk](e){switch(this[lo]("meta",this[_s]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[or]=Sk.parse(this[_s],this[or],!1);break;case"GlobalExtendedHeader":this[tc]=Sk.parse(this[_s],this[tc],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[or]=this[or]||Object.create(null),this[or].path=this[_s].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[or]=this[or]||Object.create(null),this[or].linkpath=this[_s].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[Rs]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[Rs])return;if(this[It]===null&&e){if(this[Ae]&&(e=Buffer.concat([this[Ae],e]),this[Ae]=null),e.length<zp.length)return this[Ae]=e,!0;for(let n=0;this[It]===null&&n<zp.length;n++)e[n]!==zp[n]&&(this[It]=!1);if(this[It]===null){let n=this[co];this[co]=!1,this[It]=new VU.Unzip,this[It].on("data",o=>this[Yl](o)),this[It].on("error",o=>this.abort(o)),this[It].on("end",o=>{this[co]=!0,this[Yl]()}),this[rc]=!0;let s=this[It][n?"end":"write"](e);return this[rc]=!1,s}}this[rc]=!0,this[It]?this[It].write(e):this[Yl](e),this[rc]=!1;let r=this[xn].length?!1:this[En]?this[En].flowing:!0;return!r&&!this[xn].length&&this[En].once("drain",n=>this.emit("drain")),r}[Hp](e){e&&!this[Rs]&&(this[Ae]=this[Ae]?Buffer.concat([this[Ae],e]):e)}[jp](){if(this[co]&&!this[_k]&&!this[Rs]&&!this[Ql]){this[_k]=!0;let e=this[ao];if(e&&e.blockRemain){let r=this[Ae]?this[Ae].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${r} available)`,{entry:e}),this[Ae]&&e.write(this[Ae]),e.end()}this[lo](Zl)}}[Yl](e){if(this[Ql])this[Hp](e);else if(!e&&!this[Ae])this[jp]();else{if(this[Ql]=!0,this[Ae]){this[Hp](e);let r=this[Ae];this[Ae]=null,this[Xl](r)}else this[Xl](e);for(;this[Ae]&&this[Ae].length>=512&&!this[Rs]&&!this[eu];){let r=this[Ae];this[Ae]=null,this[Xl](r)}this[Ql]=!1}(!this[Ae]||this[co])&&this[jp]()}[Xl](e){let r=0,n=e.length;for(;r+512<=n&&!this[Rs]&&!this[eu];)switch(this[sr]){case"begin":case"header":this[Ak](e,r),r+=512;break;case"ignore":case"body":r+=this[qp](e,r);break;case"meta":r+=this[Rk](e,r);break;default:throw new Error("invalid state: "+this[sr])}r<n&&(this[Ae]?this[Ae]=Buffer.concat([e.slice(r),this[Ae]]):this[Ae]=e.slice(r))}end(e){this[Rs]||(this[It]?this[It].end(e):(this[co]=!0,this.write(e)))}})});var ru=S((gde,Ok)=>{"use strict";var XU=xi(),vk=tu(),Li=require("fs"),QU=Mi(),Nk=require("path"),Gp=ki();Ok.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=XU(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&JU(n,e),n.noResume||ZU(n),n.file&&n.sync?e2(n):n.file?t2(n,r):Pk(n)};var ZU=t=>{let e=t.onentry;t.onentry=e?r=>{e(r),r.resume()}:r=>r.resume()},JU=(t,e)=>{let r=new Map(e.map(o=>[Gp(o),!0])),n=t.filter,s=(o,i)=>{let a=i||Nk.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):s(Nk.dirname(o),a);return r.set(o,c),c};t.filter=n?(o,i)=>n(o,i)&&s(Gp(o)):o=>s(Gp(o))},e2=t=>{let e=Pk(t),r=t.file,n=!0,s;try{let o=Li.statSync(r),i=t.maxReadSize||16*1024*1024;if(o.size<i)e.end(Li.readFileSync(r));else{let a=0,c=Buffer.allocUnsafe(i);for(s=Li.openSync(r,"r");a<o.size;){let d=Li.readSync(s,c,0,i,a);a+=d,e.write(c.slice(0,d))}e.end()}n=!1}finally{if(n&&s)try{Li.closeSync(s)}catch{}}},t2=(t,e)=>{let r=new vk(t),n=t.maxReadSize||16*1024*1024,s=t.file,o=new Promise((i,a)=>{r.on("error",a),r.on("end",i),Li.stat(s,(c,d)=>{if(c)a(c);else{let l=new QU.ReadStream(s,{readSize:n,size:d.size});l.on("error",a),l.pipe(r)}})});return e?o.then(e,e):o},Pk=t=>new vk(t)});var Fk=S((Ede,Lk)=>{"use strict";var r2=xi(),nu=$l(),Ik=Mi(),Dk=ru(),Bk=require("path");Lk.exports=(t,e,r)=>{if(typeof e=="function"&&(r=e),Array.isArray(t)&&(e=t,t={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let n=r2(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?n2(n,e):n.file?s2(n,e,r):n.sync?o2(n,e):i2(n,e)};var n2=(t,e)=>{let r=new nu.Sync(t),n=new Ik.WriteStreamSync(t.file,{mode:t.mode||438});r.pipe(n),Mk(r,e)},s2=(t,e,r)=>{let n=new nu(t),s=new Ik.WriteStream(t.file,{mode:t.mode||438});n.pipe(s);let o=new Promise((i,a)=>{s.on("error",a),s.on("close",i),n.on("error",a)});return Kp(n,e),r?o.then(r,r):o},Mk=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?Dk({file:Bk.resolve(t.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},Kp=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return Dk({file:Bk.resolve(t.cwd,r.slice(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>Kp(t,e));t.add(r)}t.end()},o2=(t,e)=>{let r=new nu.Sync(t);return Mk(r,e),r},i2=(t,e)=>{let r=new nu(t);return Kp(r,e),r}});var Vp=S((xde,Gk)=>{"use strict";var a2=xi(),Uk=$l(),$t=require("fs"),zk=Mi(),$k=ru(),qk=require("path"),Hk=Ai();Gk.exports=(t,e,r)=>{let n=a2(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),n.sync?c2(n,e):l2(n,e,r)};var c2=(t,e)=>{let r=new Uk.Sync(t),n=!0,s,o;try{try{s=$t.openSync(t.file,"r+")}catch(c){if(c.code==="ENOENT")s=$t.openSync(t.file,"w+");else throw c}let i=$t.fstatSync(s),a=Buffer.alloc(512);e:for(o=0;o<i.size;o+=512){for(let l=0,f=0;l<512;l+=f){if(f=$t.readSync(s,a,l,a.length-l,o+l),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!f)break e}let c=new Hk(a);if(!c.cksumValid)break;let d=512*Math.ceil(c.size/512);if(o+d+512>i.size)break;o+=d,t.mtimeCache&&t.mtimeCache.set(c.path,c.mtime)}n=!1,d2(t,r,o,s,e)}finally{if(n)try{$t.closeSync(s)}catch{}}},d2=(t,e,r,n,s)=>{let o=new zk.WriteStreamSync(t.file,{fd:n,start:r});e.pipe(o),u2(e,s)},l2=(t,e,r)=>{e=Array.from(e);let n=new Uk(t),s=(i,a,c)=>{let d=(y,w)=>{y?$t.close(i,R=>c(y)):c(null,w)},l=0;if(a===0)return d(null,0);let f=0,u=Buffer.alloc(512),g=(y,w)=>{if(y)return d(y);if(f+=w,f<512&&w)return $t.read(i,u,f,u.length-f,l+f,g);if(l===0&&u[0]===31&&u[1]===139)return d(new Error("cannot append to compressed archives"));if(f<512)return d(null,l);let R=new Hk(u);if(!R.cksumValid)return d(null,l);let B=512*Math.ceil(R.size/512);if(l+B+512>a||(l+=B+512,l>=a))return d(null,l);t.mtimeCache&&t.mtimeCache.set(R.path,R.mtime),f=0,$t.read(i,u,0,512,l,g)};$t.read(i,u,0,512,l,g)},o=new Promise((i,a)=>{n.on("error",a);let c="r+",d=(l,f)=>{if(l&&l.code==="ENOENT"&&c==="r+")return c="w+",$t.open(t.file,c,d);if(l)return a(l);$t.fstat(f,(u,g)=>{if(u)return $t.close(f,()=>a(u));s(f,g.size,(y,w)=>{if(y)return a(y);let R=new zk.WriteStream(t.file,{fd:f,start:w});n.pipe(R),R.on("error",a),R.on("close",i),jk(n,e)})})};$t.open(t.file,c,d)});return r?o.then(r,r):o},u2=(t,e)=>{e.forEach(r=>{r.charAt(0)==="@"?$k({file:qk.resolve(t.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>t.add(n)}):t.add(r)}),t.end()},jk=(t,e)=>{for(;e.length;){let r=e.shift();if(r.charAt(0)==="@")return $k({file:qk.resolve(t.cwd,r.slice(1)),noResume:!0,onentry:n=>t.add(n)}).then(n=>jk(t,e));t.add(r)}t.end()}});var Vk=S((Cde,Kk)=>{"use strict";var f2=xi(),h2=Vp();Kk.exports=(t,e,r)=>{let n=f2(t);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),m2(n),h2(n,e,r)};var m2=t=>{let e=t.filter;t.mtimeCache||(t.mtimeCache=new Map),t.filter=e?(r,n)=>e(r,n)&&!(t.mtimeCache.get(r)>n.mtime):(r,n)=>!(t.mtimeCache.get(r)>n.mtime)}});var Xk=S((Sde,Yk)=>{var{promisify:Wk}=require("util"),As=require("fs"),p2=t=>{if(!t)t={mode:511,fs:As};else if(typeof t=="object")t={mode:511,fs:As,...t};else if(typeof t=="number")t={mode:t,fs:As};else if(typeof t=="string")t={mode:parseInt(t,8),fs:As};else throw new TypeError("invalid options argument");return t.mkdir=t.mkdir||t.fs.mkdir||As.mkdir,t.mkdirAsync=Wk(t.mkdir),t.stat=t.stat||t.fs.stat||As.stat,t.statAsync=Wk(t.stat),t.statSync=t.statSync||t.fs.statSync||As.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||As.mkdirSync,t};Yk.exports=p2});var Zk=S((wde,Qk)=>{var y2=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:g2,parse:E2}=require("path"),x2=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=g2(t),y2==="win32"){let e=/[*|"<>?:]/,{root:r}=E2(t);if(e.test(t.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t};Qk.exports=x2});var nT=S((bde,rT)=>{var{dirname:Jk}=require("path"),eT=(t,e,r=void 0)=>r===e?Promise.resolve():t.statAsync(e).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?eT(t,Jk(e),e):void 0),tT=(t,e,r=void 0)=>{if(r!==e)try{return t.statSync(e).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?tT(t,Jk(e),e):void 0}};rT.exports={findMade:eT,findMadeSync:tT}});var Xp=S((_de,oT)=>{var{dirname:sT}=require("path"),Wp=(t,e,r)=>{e.recursive=!1;let n=sT(t);return n===t?e.mkdirAsync(t,e).catch(s=>{if(s.code!=="EISDIR")throw s}):e.mkdirAsync(t,e).then(()=>r||t,s=>{if(s.code==="ENOENT")return Wp(n,e).then(o=>Wp(t,e,o));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;return e.statAsync(t).then(o=>{if(o.isDirectory())return r;throw s},()=>{throw s})})},Yp=(t,e,r)=>{let n=sT(t);if(e.recursive=!1,n===t)try{return e.mkdirSync(t,e)}catch(s){if(s.code!=="EISDIR")throw s;return}try{return e.mkdirSync(t,e),r||t}catch(s){if(s.code==="ENOENT")return Yp(t,e,Yp(n,e,r));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;try{if(!e.statSync(t).isDirectory())throw s}catch{throw s}}};oT.exports={mkdirpManual:Wp,mkdirpManualSync:Yp}});var cT=S((Rde,aT)=>{var{dirname:iT}=require("path"),{findMade:C2,findMadeSync:S2}=nT(),{mkdirpManual:w2,mkdirpManualSync:b2}=Xp(),_2=(t,e)=>(e.recursive=!0,iT(t)===t?e.mkdirAsync(t,e):C2(e,t).then(n=>e.mkdirAsync(t,e).then(()=>n).catch(s=>{if(s.code==="ENOENT")return w2(t,e);throw s}))),R2=(t,e)=>{if(e.recursive=!0,iT(t)===t)return e.mkdirSync(t,e);let n=S2(e,t);try{return e.mkdirSync(t,e),n}catch(s){if(s.code==="ENOENT")return b2(t,e);throw s}};aT.exports={mkdirpNative:_2,mkdirpNativeSync:R2}});var fT=S((Ade,uT)=>{var dT=require("fs"),A2=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,Qp=A2.replace(/^v/,"").split("."),lT=+Qp[0]>10||+Qp[0]==10&&+Qp[1]>=12,k2=lT?t=>t.mkdir===dT.mkdir:()=>!1,T2=lT?t=>t.mkdirSync===dT.mkdirSync:()=>!1;uT.exports={useNative:k2,useNativeSync:T2}});var ET=S((kde,gT)=>{var Fi=Xk(),Ui=Zk(),{mkdirpNative:hT,mkdirpNativeSync:mT}=cT(),{mkdirpManual:pT,mkdirpManualSync:yT}=Xp(),{useNative:N2,useNativeSync:v2}=fT(),zi=(t,e)=>(t=Ui(t),e=Fi(e),N2(e)?hT(t,e):pT(t,e)),P2=(t,e)=>(t=Ui(t),e=Fi(e),v2(e)?mT(t,e):yT(t,e));zi.sync=P2;zi.native=(t,e)=>hT(Ui(t),Fi(e));zi.manual=(t,e)=>pT(Ui(t),Fi(e));zi.nativeSync=(t,e)=>mT(Ui(t),Fi(e));zi.manualSync=(t,e)=>yT(Ui(t),Fi(e));gT.exports=zi});var RT=S((Tde,_T)=>{"use strict";var ir=require("fs"),fo=require("path"),O2=ir.lchown?"lchown":"chown",I2=ir.lchownSync?"lchownSync":"chownSync",CT=ir.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),xT=(t,e,r)=>{try{return ir[I2](t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},D2=(t,e,r)=>{try{return ir.chownSync(t,e,r)}catch(n){if(n.code!=="ENOENT")throw n}},B2=CT?(t,e,r,n)=>s=>{!s||s.code!=="EISDIR"?n(s):ir.chown(t,e,r,n)}:(t,e,r,n)=>n,Zp=CT?(t,e,r)=>{try{return xT(t,e,r)}catch(n){if(n.code!=="EISDIR")throw n;D2(t,e,r)}}:(t,e,r)=>xT(t,e,r),M2=process.version,ST=(t,e,r)=>ir.readdir(t,e,r),L2=(t,e)=>ir.readdirSync(t,e);/^v4\./.test(M2)&&(ST=(t,e,r)=>ir.readdir(t,r));var su=(t,e,r,n)=>{ir[O2](t,e,r,B2(t,e,r,s=>{n(s&&s.code!=="ENOENT"?s:null)}))},wT=(t,e,r,n,s)=>{if(typeof e=="string")return ir.lstat(fo.resolve(t,e),(o,i)=>{if(o)return s(o.code!=="ENOENT"?o:null);i.name=e,wT(t,i,r,n,s)});if(e.isDirectory())Jp(fo.resolve(t,e.name),r,n,o=>{if(o)return s(o);let i=fo.resolve(t,e.name);su(i,r,n,s)});else{let o=fo.resolve(t,e.name);su(o,r,n,s)}},Jp=(t,e,r,n)=>{ST(t,{withFileTypes:!0},(s,o)=>{if(s){if(s.code==="ENOENT")return n();if(s.code!=="ENOTDIR"&&s.code!=="ENOTSUP")return n(s)}if(s||!o.length)return su(t,e,r,n);let i=o.length,a=null,c=d=>{if(!a){if(d)return n(a=d);if(--i===0)return su(t,e,r,n)}};o.forEach(d=>wT(t,d,e,r,c))})},F2=(t,e,r,n)=>{if(typeof e=="string")try{let s=ir.lstatSync(fo.resolve(t,e));s.name=e,e=s}catch(s){if(s.code==="ENOENT")return;throw s}e.isDirectory()&&bT(fo.resolve(t,e.name),r,n),Zp(fo.resolve(t,e.name),r,n)},bT=(t,e,r)=>{let n;try{n=L2(t,{withFileTypes:!0})}catch(s){if(s.code==="ENOENT")return;if(s.code==="ENOTDIR"||s.code==="ENOTSUP")return Zp(t,e,r);throw s}return n&&n.length&&n.forEach(s=>F2(t,s,e,r)),Zp(t,e,r)};_T.exports=Jp;Jp.sync=bT});var NT=S((Nde,ey)=>{"use strict";var AT=ET(),ar=require("fs"),ou=require("path"),kT=RT(),yr=_i(),iu=class extends Error{constructor(e,r){super("Cannot extract through symbolic link"),this.path=r,this.symlink=e}get name(){return"SylinkError"}},au=class extends Error{constructor(e,r){super(r+": Cannot cd into '"+e+"'"),this.path=e,this.code=r}get name(){return"CwdError"}},cu=(t,e)=>t.get(yr(e)),nc=(t,e,r)=>t.set(yr(e),r),U2=(t,e)=>{ar.stat(t,(r,n)=>{(r||!n.isDirectory())&&(r=new au(t,r&&r.code||"ENOTDIR")),e(r)})};ey.exports=(t,e,r)=>{t=yr(t);let n=e.umask,s=e.mode|448,o=(s&n)!==0,i=e.uid,a=e.gid,c=typeof i=="number"&&typeof a=="number"&&(i!==e.processUid||a!==e.processGid),d=e.preserve,l=e.unlink,f=e.cache,u=yr(e.cwd),g=(R,B)=>{R?r(R):(nc(f,t,!0),B&&c?kT(B,i,a,re=>g(re)):o?ar.chmod(t,s,r):r())};if(f&&cu(f,t)===!0)return g();if(t===u)return U2(t,g);if(d)return AT(t,{mode:s}).then(R=>g(null,R),g);let w=yr(ou.relative(u,t)).split("/");du(u,w,s,f,l,u,null,g)};var du=(t,e,r,n,s,o,i,a)=>{if(!e.length)return a(null,i);let c=e.shift(),d=yr(ou.resolve(t+"/"+c));if(cu(n,d))return du(d,e,r,n,s,o,i,a);ar.mkdir(d,r,TT(d,e,r,n,s,o,i,a))},TT=(t,e,r,n,s,o,i,a)=>c=>{c?ar.lstat(t,(d,l)=>{if(d)d.path=d.path&&yr(d.path),a(d);else if(l.isDirectory())du(t,e,r,n,s,o,i,a);else if(s)ar.unlink(t,f=>{if(f)return a(f);ar.mkdir(t,r,TT(t,e,r,n,s,o,i,a))});else{if(l.isSymbolicLink())return a(new iu(t,t+"/"+e.join("/")));a(c)}}):(i=i||t,du(t,e,r,n,s,o,i,a))},z2=t=>{let e=!1,r="ENOTDIR";try{e=ar.statSync(t).isDirectory()}catch(n){r=n.code}finally{if(!e)throw new au(t,r)}};ey.exports.sync=(t,e)=>{t=yr(t);let r=e.umask,n=e.mode|448,s=(n&r)!==0,o=e.uid,i=e.gid,a=typeof o=="number"&&typeof i=="number"&&(o!==e.processUid||i!==e.processGid),c=e.preserve,d=e.unlink,l=e.cache,f=yr(e.cwd),u=R=>{nc(l,t,!0),R&&a&&kT.sync(R,o,i),s&&ar.chmodSync(t,n)};if(l&&cu(l,t)===!0)return u();if(t===f)return z2(f),u();if(c)return u(AT.sync(t,n));let y=yr(ou.relative(f,t)).split("/"),w=null;for(let R=y.shift(),B=f;R&&(B+="/"+R);R=y.shift())if(B=yr(ou.resolve(B)),!cu(l,B))try{ar.mkdirSync(B,n),w=w||B,nc(l,B,!0)}catch{let Q=ar.lstatSync(B);if(Q.isDirectory()){nc(l,B,!0);continue}else if(d){ar.unlinkSync(B),ar.mkdirSync(B,n),w=w||B,nc(l,B,!0);continue}else if(Q.isSymbolicLink())return new iu(B,B+"/"+y.join("/"))}return u(w)}});var ry=S((vde,vT)=>{var ty=Object.create(null),{hasOwnProperty:$2}=Object.prototype;vT.exports=t=>($2.call(ty,t)||(ty[t]=t.normalize("NFKD")),ty[t])});var DT=S((Pde,IT)=>{var PT=require("assert"),q2=ry(),H2=ki(),{join:OT}=require("path"),j2=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,G2=j2==="win32";IT.exports=()=>{let t=new Map,e=new Map,r=d=>d.split("/").slice(0,-1).reduce((f,u)=>(f.length&&(u=OT(f[f.length-1],u)),f.push(u||"/"),f),[]),n=new Set,s=d=>{let l=e.get(d);if(!l)throw new Error("function does not have any path reservations");return{paths:l.paths.map(f=>t.get(f)),dirs:[...l.dirs].map(f=>t.get(f))}},o=d=>{let{paths:l,dirs:f}=s(d);return l.every(u=>u[0]===d)&&f.every(u=>u[0]instanceof Set&&u[0].has(d))},i=d=>n.has(d)||!o(d)?!1:(n.add(d),d(()=>a(d)),!0),a=d=>{if(!n.has(d))return!1;let{paths:l,dirs:f}=e.get(d),u=new Set;return l.forEach(g=>{let y=t.get(g);PT.equal(y[0],d),y.length===1?t.delete(g):(y.shift(),typeof y[0]=="function"?u.add(y[0]):y[0].forEach(w=>u.add(w)))}),f.forEach(g=>{let y=t.get(g);PT(y[0]instanceof Set),y[0].size===1&&y.length===1?t.delete(g):y[0].size===1?(y.shift(),u.add(y[0])):y[0].delete(d)}),n.delete(d),u.forEach(g=>i(g)),!0};return{check:o,reserve:(d,l)=>{d=G2?["win32 parallelization disabled"]:d.map(u=>q2(H2(OT(u))).toLowerCase());let f=new Set(d.map(u=>r(u)).reduce((u,g)=>u.concat(g)));return e.set(l,{dirs:f,paths:d}),d.forEach(u=>{let g=t.get(u);g?g.push(l):t.set(u,[l])}),f.forEach(u=>{let g=t.get(u);g?g[g.length-1]instanceof Set?g[g.length-1].add(l):g.push(new Set([l])):t.set(u,[new Set([l])])}),i(l)}}}});var LT=S((Ode,MT)=>{var K2=process.env.__FAKE_PLATFORM__||process.platform,V2=K2==="win32",W2=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:Y2,O_TRUNC:X2,O_WRONLY:Q2,UV_FS_O_FILEMAP:BT=0}=W2.constants,Z2=V2&&!!BT,J2=512*1024,ez=BT|X2|Y2|Q2;MT.exports=Z2?t=>t<J2?ez:"w":()=>"w"});var uy=S((Ide,QT)=>{"use strict";var tz=require("assert"),rz=tu(),le=require("fs"),nz=Mi(),Cn=require("path"),WT=NT(),FT=lp(),sz=DT(),oz=up(),qt=_i(),iz=ki(),az=ry(),UT=Symbol("onEntry"),oy=Symbol("checkFs"),zT=Symbol("checkFs2"),fu=Symbol("pruneCache"),iy=Symbol("isReusable"),cr=Symbol("makeFs"),ay=Symbol("file"),cy=Symbol("directory"),hu=Symbol("link"),$T=Symbol("symlink"),qT=Symbol("hardlink"),HT=Symbol("unsupported"),jT=Symbol("checkPath"),ks=Symbol("mkdir"),ht=Symbol("onError"),lu=Symbol("pending"),GT=Symbol("pend"),$i=Symbol("unpend"),ny=Symbol("ended"),sy=Symbol("maybeClose"),dy=Symbol("skip"),sc=Symbol("doChown"),oc=Symbol("uid"),ic=Symbol("gid"),ac=Symbol("checkedCwd"),YT=require("crypto"),XT=LT(),cz=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,cc=cz==="win32",dz=(t,e)=>{if(!cc)return le.unlink(t,e);let r=t+".DELETE."+YT.randomBytes(16).toString("hex");le.rename(t,r,n=>{if(n)return e(n);le.unlink(r,e)})},lz=t=>{if(!cc)return le.unlinkSync(t);let e=t+".DELETE."+YT.randomBytes(16).toString("hex");le.renameSync(t,e),le.unlinkSync(e)},KT=(t,e,r)=>t===t>>>0?t:e===e>>>0?e:r,VT=t=>az(iz(qt(t))).toLowerCase(),uz=(t,e)=>{e=VT(e);for(let r of t.keys()){let n=VT(r);(n===e||n.indexOf(e+"/")===0)&&t.delete(r)}},fz=t=>{for(let e of t.keys())t.delete(e)},dc=class extends rz{constructor(e){if(e||(e={}),e.ondone=r=>{this[ny]=!0,this[sy]()},super(e),this[ac]=!1,this.reservations=sz(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[lu]=0,this[ny]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||cc,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=qt(Cn.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",r=>this[UT](r))}warn(e,r,n={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(n.recoverable=!1),super.warn(e,r,n)}[sy](){this[ny]&&this[lu]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[jT](e){if(this.strip){let r=qt(e.path).split("/");if(r.length<this.strip)return!1;if(e.path=r.slice(this.strip).join("/"),e.type==="Link"){let n=qt(e.linkpath).split("/");if(n.length>=this.strip)e.linkpath=n.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let r=qt(e.path),n=r.split("/");if(n.includes("..")||cc&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:r}),!1;let[s,o]=oz(r);s&&(e.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${s} from absolute path`,{entry:e,path:r}))}if(Cn.isAbsolute(e.path)?e.absolute=qt(Cn.resolve(e.path)):e.absolute=qt(Cn.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:qt(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:r}=Cn.win32.parse(e.absolute);e.absolute=r+FT.encode(e.absolute.slice(r.length));let{root:n}=Cn.win32.parse(e.path);e.path=n+FT.encode(e.path.slice(n.length))}return!0}[UT](e){if(!this[jT](e))return e.resume();switch(tz.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[oy](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[HT](e)}}[ht](e,r){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:r}),this[$i](),r.resume())}[ks](e,r,n){WT(qt(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[sc](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[oc](e){return KT(this.uid,e.uid,this.processUid)}[ic](e){return KT(this.gid,e.gid,this.processGid)}[ay](e,r){let n=e.mode&4095||this.fmode,s=new nz.WriteStream(e.absolute,{flags:XT(e.size),mode:n,autoClose:!1});s.on("error",c=>{s.fd&&le.close(s.fd,()=>{}),s.write=()=>!0,this[ht](c,e),r()});let o=1,i=c=>{if(c){s.fd&&le.close(s.fd,()=>{}),this[ht](c,e),r();return}--o===0&&le.close(s.fd,d=>{d?this[ht](d,e):this[$i](),r()})};s.on("finish",c=>{let d=e.absolute,l=s.fd;if(e.mtime&&!this.noMtime){o++;let f=e.atime||new Date,u=e.mtime;le.futimes(l,f,u,g=>g?le.utimes(d,f,u,y=>i(y&&g)):i())}if(this[sc](e)){o++;let f=this[oc](e),u=this[ic](e);le.fchown(l,f,u,g=>g?le.chown(d,f,u,y=>i(y&&g)):i())}i()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",c=>{this[ht](c,e),r()}),e.pipe(a)),a.pipe(s)}[cy](e,r){let n=e.mode&4095||this.dmode;this[ks](e.absolute,n,s=>{if(s){this[ht](s,e),r();return}let o=1,i=a=>{--o===0&&(r(),this[$i](),e.resume())};e.mtime&&!this.noMtime&&(o++,le.utimes(e.absolute,e.atime||new Date,e.mtime,i)),this[sc](e)&&(o++,le.chown(e.absolute,this[oc](e),this[ic](e),i)),i()})}[HT](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[$T](e,r){this[hu](e,e.linkpath,"symlink",r)}[qT](e,r){let n=qt(Cn.resolve(this.cwd,e.linkpath));this[hu](e,n,"link",r)}[GT](){this[lu]++}[$i](){this[lu]--,this[sy]()}[dy](e){this[$i](),e.resume()}[iy](e,r){return e.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!cc}[oy](e){this[GT]();let r=[e.path];e.linkpath&&r.push(e.linkpath),this.reservations.reserve(r,n=>this[zT](e,n))}[fu](e){e.type==="SymbolicLink"?fz(this.dirCache):e.type!=="Directory"&&uz(this.dirCache,e.absolute)}[zT](e,r){this[fu](e);let n=a=>{this[fu](e),r(a)},s=()=>{this[ks](this.cwd,this.dmode,a=>{if(a){this[ht](a,e),n();return}this[ac]=!0,o()})},o=()=>{if(e.absolute!==this.cwd){let a=qt(Cn.dirname(e.absolute));if(a!==this.cwd)return this[ks](a,this.dmode,c=>{if(c){this[ht](c,e),n();return}i()})}i()},i=()=>{le.lstat(e.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>e.mtime)){this[dy](e),n();return}if(a||this[iy](e,c))return this[cr](null,e,n);if(c.isDirectory()){if(e.type==="Directory"){let d=!this.noChmod&&e.mode&&(c.mode&4095)!==e.mode,l=f=>this[cr](f,e,n);return d?le.chmod(e.absolute,e.mode,l):l()}if(e.absolute!==this.cwd)return le.rmdir(e.absolute,d=>this[cr](d,e,n))}if(e.absolute===this.cwd)return this[cr](null,e,n);dz(e.absolute,d=>this[cr](d,e,n))})};this[ac]?o():s()}[cr](e,r,n){if(e){this[ht](e,r),n();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[ay](r,n);case"Link":return this[qT](r,n);case"SymbolicLink":return this[$T](r,n);case"Directory":case"GNUDumpDir":return this[cy](r,n)}}[hu](e,r,n,s){le[n](r,e.absolute,o=>{o?this[ht](o,e):(this[$i](),e.resume()),s()})}},uu=t=>{try{return[null,t()]}catch(e){return[e,null]}},ly=class extends dc{[cr](e,r){return super[cr](e,r,()=>{})}[oy](e){if(this[fu](e),!this[ac]){let o=this[ks](this.cwd,this.dmode);if(o)return this[ht](o,e);this[ac]=!0}if(e.absolute!==this.cwd){let o=qt(Cn.dirname(e.absolute));if(o!==this.cwd){let i=this[ks](o,this.dmode);if(i)return this[ht](i,e)}}let[r,n]=uu(()=>le.lstatSync(e.absolute));if(n&&(this.keep||this.newer&&n.mtime>e.mtime))return this[dy](e);if(r||this[iy](e,n))return this[cr](null,e);if(n.isDirectory()){if(e.type==="Directory"){let i=!this.noChmod&&e.mode&&(n.mode&4095)!==e.mode,[a]=i?uu(()=>{le.chmodSync(e.absolute,e.mode)}):[];return this[cr](a,e)}let[o]=uu(()=>le.rmdirSync(e.absolute));this[cr](o,e)}let[s]=e.absolute===this.cwd?[]:uu(()=>lz(e.absolute));this[cr](s,e)}[ay](e,r){let n=e.mode&4095||this.fmode,s=a=>{let c;try{le.closeSync(o)}catch(d){c=d}(a||c)&&this[ht](a||c,e),r()},o;try{o=le.openSync(e.absolute,XT(e.size),n)}catch(a){return s(a)}let i=this.transform&&this.transform(e)||e;i!==e&&(i.on("error",a=>this[ht](a,e)),e.pipe(i)),i.on("data",a=>{try{le.writeSync(o,a,0,a.length)}catch(c){s(c)}}),i.on("end",a=>{let c=null;if(e.mtime&&!this.noMtime){let d=e.atime||new Date,l=e.mtime;try{le.futimesSync(o,d,l)}catch(f){try{le.utimesSync(e.absolute,d,l)}catch{c=f}}}if(this[sc](e)){let d=this[oc](e),l=this[ic](e);try{le.fchownSync(o,d,l)}catch(f){try{le.chownSync(e.absolute,d,l)}catch{c=c||f}}}s(c)})}[cy](e,r){let n=e.mode&4095||this.dmode,s=this[ks](e.absolute,n);if(s){this[ht](s,e),r();return}if(e.mtime&&!this.noMtime)try{le.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[sc](e))try{le.chownSync(e.absolute,this[oc](e),this[ic](e))}catch{}r(),e.resume()}[ks](e,r){try{return WT.sync(qt(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[hu](e,r,n,s){try{le[n+"Sync"](r,e.absolute),s(),e.resume()}catch(o){return this[ht](o,e)}}};dc.Sync=ly;QT.exports=dc});var rN=S((Dde,tN)=>{"use strict";var hz=xi(),mu=uy(),JT=require("fs"),eN=Mi(),ZT=require("path"),fy=ki();tN.exports=(t,e,r)=>{typeof t=="function"?(r=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(r=e,e=null),e?e=Array.from(e):e=[];let n=hz(t);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return e.length&&mz(n,e),n.file&&n.sync?pz(n):n.file?yz(n,r):n.sync?gz(n):Ez(n)};var mz=(t,e)=>{let r=new Map(e.map(o=>[fy(o),!0])),n=t.filter,s=(o,i)=>{let a=i||ZT.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):s(ZT.dirname(o),a);return r.set(o,c),c};t.filter=n?(o,i)=>n(o,i)&&s(fy(o)):o=>s(fy(o))},pz=t=>{let e=new mu.Sync(t),r=t.file,n=JT.statSync(r),s=t.maxReadSize||16*1024*1024;new eN.ReadStreamSync(r,{readSize:s,size:n.size}).pipe(e)},yz=(t,e)=>{let r=new mu(t),n=t.maxReadSize||16*1024*1024,s=t.file,o=new Promise((i,a)=>{r.on("error",a),r.on("close",i),JT.stat(s,(c,d)=>{if(c)a(c);else{let l=new eN.ReadStream(s,{readSize:n,size:d.size});l.on("error",a),l.pipe(r)}})});return e?o.then(e,e):o},gz=t=>new mu.Sync(t),Ez=t=>new mu(t)});var nN=S(Ke=>{"use strict";Ke.c=Ke.create=Fk();Ke.r=Ke.replace=Vp();Ke.t=Ke.list=ru();Ke.u=Ke.update=Vk();Ke.x=Ke.extract=rN();Ke.Pack=$l();Ke.Unpack=uy();Ke.Parse=tu();Ke.ReadEntry=_l();Ke.WriteEntry=Sp();Ke.Header=Ai();Ke.Pax=Al();Ke.types=np()});var oN=S((Mde,sN)=>{"use strict";sN.exports=(...t)=>[...new Set([].concat(...t))]});var hy=S((Lde,cN)=>{"use strict";var xz=require("stream"),iN=xz.PassThrough,Cz=Array.prototype.slice;cN.exports=Sz;function Sz(){let t=[],e=Cz.call(arguments),r=!1,n=e[e.length-1];n&&!Array.isArray(n)&&n.pipe==null?e.pop():n={};let s=n.end!==!1,o=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let i=iN(n);function a(){for(let l=0,f=arguments.length;l<f;l++)t.push(aN(arguments[l],n));return c(),this}function c(){if(r)return;r=!0;let l=t.shift();if(!l){process.nextTick(d);return}Array.isArray(l)||(l=[l]);let f=l.length+1;function u(){--f>0||(r=!1,c())}function g(y){function w(){y.removeListener("merge2UnpipeEnd",w),y.removeListener("end",w),o&&y.removeListener("error",R),u()}function R(B){i.emit("error",B)}if(y._readableState.endEmitted)return u();y.on("merge2UnpipeEnd",w),y.on("end",w),o&&y.on("error",R),y.pipe(i,{end:!1}),y.resume()}for(let y=0;y<l.length;y++)g(l[y]);u()}function d(){r=!1,i.emit("queueDrain"),s&&i.end()}return i.setMaxListeners(0),i.add=a,i.on("unpipe",function(l){l.emit("merge2UnpipeEnd")}),e.length&&a.apply(null,e),i}function aN(t,e){if(Array.isArray(t))for(let r=0,n=t.length;r<n;r++)t[r]=aN(t[r],e);else{if(!t._readableState&&t.pipe&&(t=t.pipe(iN(e))),!t._readableState||!t.pause||!t.pipe)throw new Error("Only readable stream can be merged.");t.pause()}return t}});var dN=S(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.splitWhen=qi.flatten=void 0;function wz(t){return t.reduce((e,r)=>[].concat(e,r),[])}qi.flatten=wz;function bz(t,e){let r=[[]],n=0;for(let s of t)e(s)?(n++,r[n]=[]):r[n].push(s);return r}qi.splitWhen=bz});var lN=S(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.isEnoentCodeError=void 0;function _z(t){return t.code==="ENOENT"}pu.isEnoentCodeError=_z});var uN=S(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.createDirentFromStats=void 0;var my=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function Rz(t,e){return new my(t,e)}yu.createDirentFromStats=Rz});var fN=S(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.removeLeadingDotSegment=jr.escape=jr.makeAbsolute=jr.unixify=void 0;var Az=require("path"),kz=2,Tz=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function Nz(t){return t.replace(/\\/g,"/")}jr.unixify=Nz;function vz(t,e){return Az.resolve(t,e)}jr.makeAbsolute=vz;function Pz(t){return t.replace(Tz,"\\$2")}jr.escape=Pz;function Oz(t){if(t.charAt(0)==="."){let e=t.charAt(1);if(e==="/"||e==="\\")return t.slice(kz)}return t}jr.removeLeadingDotSegment=Oz});var mN=S((qde,hN)=>{hN.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(r[2])return!0;e=e.slice(r.index+r[0].length)}return!1}});var gN=S((Hde,yN)=>{var Iz=mN(),pN={"{":"}","(":")","[":"]"},Dz=function(t){if(t[0]==="!")return!0;for(var e=0,r=-2,n=-2,s=-2,o=-2,i=-2;e<t.length;){if(t[e]==="*"||t[e+1]==="?"&&/[\].+)]/.test(t[e])||n!==-1&&t[e]==="["&&t[e+1]!=="]"&&(n<e&&(n=t.indexOf("]",e)),n>e&&(i===-1||i>n||(i=t.indexOf("\\",e),i===-1||i>n)))||s!==-1&&t[e]==="{"&&t[e+1]!=="}"&&(s=t.indexOf("}",e),s>e&&(i=t.indexOf("\\",e),i===-1||i>s))||o!==-1&&t[e]==="("&&t[e+1]==="?"&&/[:!=]/.test(t[e+2])&&t[e+3]!==")"&&(o=t.indexOf(")",e),o>e&&(i=t.indexOf("\\",e),i===-1||i>o))||r!==-1&&t[e]==="("&&t[e+1]!=="|"&&(r<e&&(r=t.indexOf("|",e)),r!==-1&&t[r+1]!==")"&&(o=t.indexOf(")",r),o>r&&(i=t.indexOf("\\",r),i===-1||i>o))))return!0;if(t[e]==="\\"){var a=t[e+1];e+=2;var c=pN[a];if(c){var d=t.indexOf(c,e);d!==-1&&(e=d+1)}if(t[e]==="!")return!0}else e++}return!1},Bz=function(t){if(t[0]==="!")return!0;for(var e=0;e<t.length;){if(/[*?{}()[\]]/.test(t[e]))return!0;if(t[e]==="\\"){var r=t[e+1];e+=2;var n=pN[r];if(n){var s=t.indexOf(n,e);s!==-1&&(e=s+1)}if(t[e]==="!")return!0}else e++}return!1};yN.exports=function(e,r){if(typeof e!="string"||e==="")return!1;if(Iz(e))return!0;var n=Dz;return r&&r.strict===!1&&(n=Bz),n(e)}});var xN=S((jde,EN)=>{"use strict";var Mz=gN(),Lz=require("path").posix.dirname,Fz=require("os").platform()==="win32",py="/",Uz=/\\/g,zz=/[\{\[].*[\}\]]$/,$z=/(^|[^\\])([\{\[]|\([^\)]+$)/,qz=/\\([\!\*\?\|\[\]\(\)\{\}])/g;EN.exports=function(e,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&Fz&&e.indexOf(py)<0&&(e=e.replace(Uz,py)),zz.test(e)&&(e+=py),e+="a";do e=Lz(e);while(Mz(e)||$z.test(e));return e.replace(qz,"$1")}});var gu=S(dr=>{"use strict";dr.isInteger=t=>typeof t=="number"?Number.isInteger(t):typeof t=="string"&&t.trim()!==""?Number.isInteger(Number(t)):!1;dr.find=(t,e)=>t.nodes.find(r=>r.type===e);dr.exceedsLimit=(t,e,r=1,n)=>n===!1||!dr.isInteger(t)||!dr.isInteger(e)?!1:(Number(e)-Number(t))/Number(r)>=n;dr.escapeNode=(t,e=0,r)=>{let n=t.nodes[e];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};dr.encloseBrace=t=>t.type!=="brace"||t.commas>>0+t.ranges>>0?!1:(t.invalid=!0,!0);dr.isInvalidBrace=t=>t.type!=="brace"?!1:t.invalid===!0||t.dollar?!0:!(t.commas>>0+t.ranges>>0)||t.open!==!0||t.close!==!0?(t.invalid=!0,!0):!1;dr.isOpenOrClose=t=>t.type==="open"||t.type==="close"?!0:t.open===!0||t.close===!0;dr.reduce=t=>t.reduce((e,r)=>(r.type==="text"&&e.push(r.value),r.type==="range"&&(r.type="text"),e),[]);dr.flatten=(...t)=>{let e=[],r=n=>{for(let s=0;s<n.length;s++){let o=n[s];Array.isArray(o)?r(o,e):o!==void 0&&e.push(o)}return e};return r(t),e}});var Eu=S((Kde,SN)=>{"use strict";var CN=gu();SN.exports=(t,e={})=>{let r=(n,s={})=>{let o=e.escapeInvalid&&CN.isInvalidBrace(s),i=n.invalid===!0&&e.escapeInvalid===!0,a="";if(n.value)return(o||i)&&CN.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=r(c);return a};return r(t)}});var bN=S((Vde,wN)=>{"use strict";wN.exports=function(t){return typeof t=="number"?t-t===0:typeof t=="string"&&t.trim()!==""?Number.isFinite?Number.isFinite(+t):isFinite(+t):!1}});var ON=S((Wde,PN)=>{"use strict";var _N=bN(),ho=(t,e,r)=>{if(_N(t)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||t===e)return String(t);if(_N(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),o=String(n.shorthand),i=String(n.capture),a=String(n.wrap),c=t+":"+e+"="+s+o+i+a;if(ho.cache.hasOwnProperty(c))return ho.cache[c].result;let d=Math.min(t,e),l=Math.max(t,e);if(Math.abs(d-l)===1){let w=t+"|"+e;return n.capture?`(${w})`:n.wrap===!1?w:`(?:${w})`}let f=vN(t)||vN(e),u={min:t,max:e,a:d,b:l},g=[],y=[];if(f&&(u.isPadded=f,u.maxLen=String(u.max).length),d<0){let w=l<0?Math.abs(l):1;y=RN(w,Math.abs(d),u,n),d=u.a=0}return l>=0&&(g=RN(d,l,u,n)),u.negatives=y,u.positives=g,u.result=Hz(y,g,n),n.capture===!0?u.result=`(${u.result})`:n.wrap!==!1&&g.length+y.length>1&&(u.result=`(?:${u.result})`),ho.cache[c]=u,u.result};function Hz(t,e,r){let n=yy(t,e,"-",!1,r)||[],s=yy(e,t,"",!1,r)||[],o=yy(t,e,"-?",!0,r)||[];return n.concat(o).concat(s).join("|")}function jz(t,e){let r=1,n=1,s=kN(t,r),o=new Set([e]);for(;t<=s&&s<=e;)o.add(s),r+=1,s=kN(t,r);for(s=TN(e+1,n)-1;t<s&&s<=e;)o.add(s),n+=1,s=TN(e+1,n)-1;return o=[...o],o.sort(Vz),o}function Gz(t,e,r){if(t===e)return{pattern:t,count:[],digits:0};let n=Kz(t,e),s=n.length,o="",i=0;for(let a=0;a<s;a++){let[c,d]=n[a];c===d?o+=c:c!=="0"||d!=="9"?o+=Wz(c,d,r):i++}return i&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[i],digits:s}}function RN(t,e,r,n){let s=jz(t,e),o=[],i=t,a;for(let c=0;c<s.length;c++){let d=s[c],l=Gz(String(i),String(d),n),f="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+NN(a.count),i=d+1;continue}r.isPadded&&(f=Yz(d,r,n)),l.string=f+l.pattern+NN(l.count),o.push(l),i=d+1,a=l}return o}function yy(t,e,r,n,s){let o=[];for(let i of t){let{string:a}=i;!n&&!AN(e,"string",a)&&o.push(r+a),n&&AN(e,"string",a)&&o.push(r+a)}return o}function Kz(t,e){let r=[];for(let n=0;n<t.length;n++)r.push([t[n],e[n]]);return r}function Vz(t,e){return t>e?1:e>t?-1:0}function AN(t,e,r){return t.some(n=>n[e]===r)}function kN(t,e){return Number(String(t).slice(0,-e)+"9".repeat(e))}function TN(t,e){return t-t%Math.pow(10,e)}function NN(t){let[e=0,r=""]=t;return r||e>1?`{${e+(r?","+r:"")}}`:""}function Wz(t,e,r){return`[${t}${e-t===1?"":"-"}${e}]`}function vN(t){return/^-?(0+)\d/.test(t)}function Yz(t,e,r){if(!e.isPadded)return t;let n=Math.abs(e.maxLen-String(t).length),s=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}ho.cache={};ho.clearCache=()=>ho.cache={};PN.exports=ho});var xy=S((Yde,zN)=>{"use strict";var Xz=require("util"),BN=ON(),IN=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),Qz=t=>e=>t===!0?Number(e):String(e),gy=t=>typeof t=="number"||typeof t=="string"&&t!=="",lc=t=>Number.isInteger(+t),Ey=t=>{let e=`${t}`,r=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++r]==="0";);return r>0},Zz=(t,e,r)=>typeof t=="string"||typeof e=="string"?!0:r.stringify===!0,Jz=(t,e,r)=>{if(e>0){let n=t[0]==="-"?"-":"";n&&(t=t.slice(1)),t=n+t.padStart(n?e-1:e,"0")}return r===!1?String(t):t},DN=(t,e)=>{let r=t[0]==="-"?"-":"";for(r&&(t=t.slice(1),e--);t.length<e;)t="0"+t;return r?"-"+t:t},e$=(t,e)=>{t.negatives.sort((i,a)=>i<a?-1:i>a?1:0),t.positives.sort((i,a)=>i<a?-1:i>a?1:0);let r=e.capture?"":"?:",n="",s="",o;return t.positives.length&&(n=t.positives.join("|")),t.negatives.length&&(s=`-(${r}${t.negatives.join("|")})`),n&&s?o=`${n}|${s}`:o=n||s,e.wrap?`(${r}${o})`:o},MN=(t,e,r,n)=>{if(r)return BN(t,e,{wrap:!1,...n});let s=String.fromCharCode(t);if(t===e)return s;let o=String.fromCharCode(e);return`[${s}-${o}]`},LN=(t,e,r)=>{if(Array.isArray(t)){let n=r.wrap===!0,s=r.capture?"":"?:";return n?`(${s}${t.join("|")})`:t.join("|")}return BN(t,e,r)},FN=(...t)=>new RangeError("Invalid range arguments: "+Xz.inspect(...t)),UN=(t,e,r)=>{if(r.strictRanges===!0)throw FN([t,e]);return[]},t$=(t,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${t}" to be a number`);return[]},r$=(t,e,r=1,n={})=>{let s=Number(t),o=Number(e);if(!Number.isInteger(s)||!Number.isInteger(o)){if(n.strictRanges===!0)throw FN([t,e]);return[]}s===0&&(s=0),o===0&&(o=0);let i=s>o,a=String(t),c=String(e),d=String(r);r=Math.max(Math.abs(r),1);let l=Ey(a)||Ey(c)||Ey(d),f=l?Math.max(a.length,c.length,d.length):0,u=l===!1&&Zz(t,e,n)===!1,g=n.transform||Qz(u);if(n.toRegex&&r===1)return MN(DN(t,f),DN(e,f),!0,n);let y={negatives:[],positives:[]},w=re=>y[re<0?"negatives":"positives"].push(Math.abs(re)),R=[],B=0;for(;i?s>=o:s<=o;)n.toRegex===!0&&r>1?w(s):R.push(Jz(g(s,B),f,u)),s=i?s-r:s+r,B++;return n.toRegex===!0?r>1?e$(y,n):LN(R,null,{wrap:!1,...n}):R},n$=(t,e,r=1,n={})=>{if(!lc(t)&&t.length>1||!lc(e)&&e.length>1)return UN(t,e,n);let s=n.transform||(u=>String.fromCharCode(u)),o=`${t}`.charCodeAt(0),i=`${e}`.charCodeAt(0),a=o>i,c=Math.min(o,i),d=Math.max(o,i);if(n.toRegex&&r===1)return MN(c,d,!1,n);let l=[],f=0;for(;a?o>=i:o<=i;)l.push(s(o,f)),o=a?o-r:o+r,f++;return n.toRegex===!0?LN(l,null,{wrap:!1,options:n}):l},xu=(t,e,r,n={})=>{if(e==null&&gy(t))return[t];if(!gy(t)||!gy(e))return UN(t,e,n);if(typeof r=="function")return xu(t,e,1,{transform:r});if(IN(r))return xu(t,e,0,r);let s={...n};return s.capture===!0&&(s.wrap=!0),r=r||s.step||1,lc(r)?lc(t)&&lc(e)?r$(t,e,r,s):n$(t,e,Math.max(Math.abs(r),1),s):r!=null&&!IN(r)?t$(r,s):xu(t,e,1,r)};zN.exports=xu});var HN=S((Xde,qN)=>{"use strict";var s$=xy(),$N=gu(),o$=(t,e={})=>{let r=(n,s={})=>{let o=$N.isInvalidBrace(s),i=n.invalid===!0&&e.escapeInvalid===!0,a=o===!0||i===!0,c=e.escapeInvalid===!0?"\\":"",d="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=$N.reduce(n.nodes),f=s$(...l,{...e,wrap:!1,toRegex:!0});if(f.length!==0)return l.length>1&&f.length>1?`(${f})`:f}if(n.nodes)for(let l of n.nodes)d+=r(l,n);return d};return r(t)};qN.exports=o$});var KN=S((Qde,GN)=>{"use strict";var i$=xy(),jN=Eu(),Hi=gu(),mo=(t="",e="",r=!1)=>{let n=[];if(t=[].concat(t),e=[].concat(e),!e.length)return t;if(!t.length)return r?Hi.flatten(e).map(s=>`{${s}}`):e;for(let s of t)if(Array.isArray(s))for(let o of s)n.push(mo(o,e,r));else for(let o of e)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?mo(s,o,r):s+o);return Hi.flatten(n)},a$=(t,e={})=>{let r=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(s,o={})=>{s.queue=[];let i=o,a=o.queue;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,a=i.queue;if(s.invalid||s.dollar){a.push(mo(a.pop(),jN(s,e)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){a.push(mo(a.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let f=Hi.reduce(s.nodes);if(Hi.exceedsLimit(...f,e.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let u=i$(...f,e);u.length===0&&(u=jN(s,e)),a.push(mo(a.pop(),u)),s.nodes=[];return}let c=Hi.encloseBrace(s),d=s.queue,l=s;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,d=l.queue;for(let f=0;f<s.nodes.length;f++){let u=s.nodes[f];if(u.type==="comma"&&s.type==="brace"){f===1&&d.push(""),d.push("");continue}if(u.type==="close"){a.push(mo(a.pop(),d,c));continue}if(u.value&&u.type!=="open"){d.push(mo(d.pop(),u.value));continue}u.nodes&&n(u,s)}return d};return Hi.flatten(n(t))};GN.exports=a$});var WN=S((Zde,VN)=>{"use strict";VN.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var JN=S((Jde,ZN)=>{"use strict";var c$=Eu(),{MAX_LENGTH:YN,CHAR_BACKSLASH:Cy,CHAR_BACKTICK:d$,CHAR_COMMA:l$,CHAR_DOT:u$,CHAR_LEFT_PARENTHESES:f$,CHAR_RIGHT_PARENTHESES:h$,CHAR_LEFT_CURLY_BRACE:m$,CHAR_RIGHT_CURLY_BRACE:p$,CHAR_LEFT_SQUARE_BRACKET:XN,CHAR_RIGHT_SQUARE_BRACKET:QN,CHAR_DOUBLE_QUOTE:y$,CHAR_SINGLE_QUOTE:g$,CHAR_NO_BREAK_SPACE:E$,CHAR_ZERO_WIDTH_NOBREAK_SPACE:x$}=WN(),C$=(t,e={})=>{if(typeof t!="string")throw new TypeError("Expected a string");let r=e||{},n=typeof r.maxLength=="number"?Math.min(YN,r.maxLength):YN;if(t.length>n)throw new SyntaxError(`Input length (${t.length}), exceeds max characters (${n})`);let s={type:"root",input:t,nodes:[]},o=[s],i=s,a=s,c=0,d=t.length,l=0,f=0,u,g={},y=()=>t[l++],w=R=>{if(R.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&R.type==="text"){a.value+=R.value;return}return i.nodes.push(R),R.parent=i,R.prev=a,a=R,R};for(w({type:"bos"});l<d;)if(i=o[o.length-1],u=y(),!(u===x$||u===E$)){if(u===Cy){w({type:"text",value:(e.keepEscaping?u:"")+y()});continue}if(u===QN){w({type:"text",value:"\\"+u});continue}if(u===XN){c++;let R=!0,B;for(;l<d&&(B=y());){if(u+=B,B===XN){c++;continue}if(B===Cy){u+=y();continue}if(B===QN&&(c--,c===0))break}w({type:"text",value:u});continue}if(u===f$){i=w({type:"paren",nodes:[]}),o.push(i),w({type:"text",value:u});continue}if(u===h$){if(i.type!=="paren"){w({type:"text",value:u});continue}i=o.pop(),w({type:"text",value:u}),i=o[o.length-1];continue}if(u===y$||u===g$||u===d$){let R=u,B;for(e.keepQuotes!==!0&&(u="");l<d&&(B=y());){if(B===Cy){u+=B+y();continue}if(B===R){e.keepQuotes===!0&&(u+=B);break}u+=B}w({type:"text",value:u});continue}if(u===m$){f++;let B={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||i.dollar===!0,depth:f,commas:0,ranges:0,nodes:[]};i=w(B),o.push(i),w({type:"open",value:u});continue}if(u===p$){if(i.type!=="brace"){w({type:"text",value:u});continue}let R="close";i=o.pop(),i.close=!0,w({type:R,value:u}),f--,i=o[o.length-1];continue}if(u===l$&&f>0){if(i.ranges>0){i.ranges=0;let R=i.nodes.shift();i.nodes=[R,{type:"text",value:c$(i)}]}w({type:"comma",value:u}),i.commas++;continue}if(u===u$&&f>0&&i.commas===0){let R=i.nodes;if(f===0||R.length===0){w({type:"text",value:u});continue}if(a.type==="dot"){if(i.range=[],a.value+=u,a.type="range",i.nodes.length!==3&&i.nodes.length!==5){i.invalid=!0,i.ranges=0,a.type="text";continue}i.ranges++,i.args=[];continue}if(a.type==="range"){R.pop();let B=R[R.length-1];B.value+=a.value+u,a=B,i.ranges--;continue}w({type:"dot",value:u});continue}w({type:"text",value:u})}do if(i=o.pop(),i.type!=="root"){i.nodes.forEach(re=>{re.nodes||(re.type==="open"&&(re.isOpen=!0),re.type==="close"&&(re.isClose=!0),re.nodes||(re.type="text"),re.invalid=!0)});let R=o[o.length-1],B=R.nodes.indexOf(i);R.nodes.splice(B,1,...i.nodes)}while(o.length>0);return w({type:"eos"}),s};ZN.exports=C$});var rv=S((ele,tv)=>{"use strict";var ev=Eu(),S$=HN(),w$=KN(),b$=JN(),Ht=(t,e={})=>{let r=[];if(Array.isArray(t))for(let n of t){let s=Ht.create(n,e);Array.isArray(s)?r.push(...s):r.push(s)}else r=[].concat(Ht.create(t,e));return e&&e.expand===!0&&e.nodupes===!0&&(r=[...new Set(r)]),r};Ht.parse=(t,e={})=>b$(t,e);Ht.stringify=(t,e={})=>ev(typeof t=="string"?Ht.parse(t,e):t,e);Ht.compile=(t,e={})=>(typeof t=="string"&&(t=Ht.parse(t,e)),S$(t,e));Ht.expand=(t,e={})=>{typeof t=="string"&&(t=Ht.parse(t,e));let r=w$(t,e);return e.noempty===!0&&(r=r.filter(Boolean)),e.nodupes===!0&&(r=[...new Set(r)]),r};Ht.create=(t,e={})=>t===""||t.length<3?[t]:e.expand!==!0?Ht.compile(t,e):Ht.expand(t,e);tv.exports=Ht});var uc=S((tle,av)=>{"use strict";var _$=require("path"),Gr="\\\\/",nv=`[^${Gr}]`,Sn="\\.",R$="\\+",A$="\\?",Cu="\\/",k$="(?=.)",sv="[^/]",Sy=`(?:${Cu}|$)`,ov=`(?:^|${Cu})`,wy=`${Sn}{1,2}${Sy}`,T$=`(?!${Sn})`,N$=`(?!${ov}${wy})`,v$=`(?!${Sn}{0,1}${Sy})`,P$=`(?!${wy})`,O$=`[^.${Cu}]`,I$=`${sv}*?`,iv={DOT_LITERAL:Sn,PLUS_LITERAL:R$,QMARK_LITERAL:A$,SLASH_LITERAL:Cu,ONE_CHAR:k$,QMARK:sv,END_ANCHOR:Sy,DOTS_SLASH:wy,NO_DOT:T$,NO_DOTS:N$,NO_DOT_SLASH:v$,NO_DOTS_SLASH:P$,QMARK_NO_DOT:O$,STAR:I$,START_ANCHOR:ov},D$={...iv,SLASH_LITERAL:`[${Gr}]`,QMARK:nv,STAR:`${nv}*?`,DOTS_SLASH:`${Sn}{1,2}(?:[${Gr}]|$)`,NO_DOT:`(?!${Sn})`,NO_DOTS:`(?!(?:^|[${Gr}])${Sn}{1,2}(?:[${Gr}]|$))`,NO_DOT_SLASH:`(?!${Sn}{0,1}(?:[${Gr}]|$))`,NO_DOTS_SLASH:`(?!${Sn}{1,2}(?:[${Gr}]|$))`,QMARK_NO_DOT:`[^.${Gr}]`,START_ANCHOR:`(?:^|[${Gr}])`,END_ANCHOR:`(?:[${Gr}]|$)`},B$={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};av.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:B$,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:_$.sep,extglobChars(t){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${t.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(t){return t===!0?D$:iv}}});var fc=S(Dt=>{"use strict";var M$=require("path"),L$=process.platform==="win32",{REGEX_BACKSLASH:F$,REGEX_REMOVE_BACKSLASH:U$,REGEX_SPECIAL_CHARS:z$,REGEX_SPECIAL_CHARS_GLOBAL:$$}=uc();Dt.isObject=t=>t!==null&&typeof t=="object"&&!Array.isArray(t);Dt.hasRegexChars=t=>z$.test(t);Dt.isRegexChar=t=>t.length===1&&Dt.hasRegexChars(t);Dt.escapeRegex=t=>t.replace($$,"\\$1");Dt.toPosixSlashes=t=>t.replace(F$,"/");Dt.removeBackslashes=t=>t.replace(U$,e=>e==="\\"?"":e);Dt.supportsLookbehinds=()=>{let t=process.version.slice(1).split(".").map(Number);return t.length===3&&t[0]>=9||t[0]===8&&t[1]>=10};Dt.isWindows=t=>t&&typeof t.windows=="boolean"?t.windows:L$===!0||M$.sep==="\\";Dt.escapeLast=(t,e,r)=>{let n=t.lastIndexOf(e,r);return n===-1?t:t[n-1]==="\\"?Dt.escapeLast(t,e,n-1):`${t.slice(0,n)}\\${t.slice(n)}`};Dt.removePrefix=(t,e={})=>{let r=t;return r.startsWith("./")&&(r=r.slice(2),e.prefix="./"),r};Dt.wrapOutput=(t,e={},r={})=>{let n=r.contains?"":"^",s=r.contains?"":"$",o=`${n}(?:${t})${s}`;return e.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var pv=S((nle,mv)=>{"use strict";var cv=fc(),{CHAR_ASTERISK:by,CHAR_AT:q$,CHAR_BACKWARD_SLASH:hc,CHAR_COMMA:H$,CHAR_DOT:_y,CHAR_EXCLAMATION_MARK:Ry,CHAR_FORWARD_SLASH:hv,CHAR_LEFT_CURLY_BRACE:Ay,CHAR_LEFT_PARENTHESES:ky,CHAR_LEFT_SQUARE_BRACKET:j$,CHAR_PLUS:G$,CHAR_QUESTION_MARK:dv,CHAR_RIGHT_CURLY_BRACE:K$,CHAR_RIGHT_PARENTHESES:lv,CHAR_RIGHT_SQUARE_BRACKET:V$}=uc(),uv=t=>t===hv||t===hc,fv=t=>{t.isPrefix!==!0&&(t.depth=t.isGlobstar?1/0:1)},W$=(t,e)=>{let r=e||{},n=t.length-1,s=r.parts===!0||r.scanToEnd===!0,o=[],i=[],a=[],c=t,d=-1,l=0,f=0,u=!1,g=!1,y=!1,w=!1,R=!1,B=!1,re=!1,Q=!1,Le=!1,X=!1,Ce=0,J,K,me={value:"",depth:0,isGlob:!1},et=()=>d>=n,T=()=>c.charCodeAt(d+1),ke=()=>(J=K,c.charCodeAt(++d));for(;d<n;){K=ke();let yt;if(K===hc){re=me.backslashes=!0,K=ke(),K===Ay&&(B=!0);continue}if(B===!0||K===Ay){for(Ce++;et()!==!0&&(K=ke());){if(K===hc){re=me.backslashes=!0,ke();continue}if(K===Ay){Ce++;continue}if(B!==!0&&K===_y&&(K=ke())===_y){if(u=me.isBrace=!0,y=me.isGlob=!0,X=!0,s===!0)continue;break}if(B!==!0&&K===H$){if(u=me.isBrace=!0,y=me.isGlob=!0,X=!0,s===!0)continue;break}if(K===K$&&(Ce--,Ce===0)){B=!1,u=me.isBrace=!0,X=!0;break}}if(s===!0)continue;break}if(K===hv){if(o.push(d),i.push(me),me={value:"",depth:0,isGlob:!1},X===!0)continue;if(J===_y&&d===l+1){l+=2;continue}f=d+1;continue}if(r.noext!==!0&&(K===G$||K===q$||K===by||K===dv||K===Ry)===!0&&T()===ky){if(y=me.isGlob=!0,w=me.isExtglob=!0,X=!0,K===Ry&&d===l&&(Le=!0),s===!0){for(;et()!==!0&&(K=ke());){if(K===hc){re=me.backslashes=!0,K=ke();continue}if(K===lv){y=me.isGlob=!0,X=!0;break}}continue}break}if(K===by){if(J===by&&(R=me.isGlobstar=!0),y=me.isGlob=!0,X=!0,s===!0)continue;break}if(K===dv){if(y=me.isGlob=!0,X=!0,s===!0)continue;break}if(K===j$){for(;et()!==!0&&(yt=ke());){if(yt===hc){re=me.backslashes=!0,ke();continue}if(yt===V$){g=me.isBracket=!0,y=me.isGlob=!0,X=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&K===Ry&&d===l){Q=me.negated=!0,l++;continue}if(r.noparen!==!0&&K===ky){if(y=me.isGlob=!0,s===!0){for(;et()!==!0&&(K=ke());){if(K===ky){re=me.backslashes=!0,K=ke();continue}if(K===lv){X=!0;break}}continue}break}if(y===!0){if(X=!0,s===!0)continue;break}}r.noext===!0&&(w=!1,y=!1);let we=c,An="",A="";l>0&&(An=c.slice(0,l),c=c.slice(l),f-=l),we&&y===!0&&f>0?(we=c.slice(0,f),A=c.slice(f)):y===!0?(we="",A=c):we=c,we&&we!==""&&we!=="/"&&we!==c&&uv(we.charCodeAt(we.length-1))&&(we=we.slice(0,-1)),r.unescape===!0&&(A&&(A=cv.removeBackslashes(A)),we&&re===!0&&(we=cv.removeBackslashes(we)));let k={prefix:An,input:t,start:l,base:we,glob:A,isBrace:u,isBracket:g,isGlob:y,isExtglob:w,isGlobstar:R,negated:Q,negatedExtglob:Le};if(r.tokens===!0&&(k.maxDepth=0,uv(K)||i.push(me),k.tokens=i),r.parts===!0||r.tokens===!0){let yt;for(let ae=0;ae<o.length;ae++){let gr=yt?yt+1:l,Er=o[ae],Bt=t.slice(gr,Er);r.tokens&&(ae===0&&l!==0?(i[ae].isPrefix=!0,i[ae].value=An):i[ae].value=Bt,fv(i[ae]),k.maxDepth+=i[ae].depth),(ae!==0||Bt!=="")&&a.push(Bt),yt=Er}if(yt&&yt+1<t.length){let ae=t.slice(yt+1);a.push(ae),r.tokens&&(i[i.length-1].value=ae,fv(i[i.length-1]),k.maxDepth+=i[i.length-1].depth)}k.slashes=o,k.parts=a}return k};mv.exports=W$});var Ev=S((sle,gv)=>{"use strict";var Su=uc(),jt=fc(),{MAX_LENGTH:wu,POSIX_REGEX_SOURCE:Y$,REGEX_NON_SPECIAL_CHARS:X$,REGEX_SPECIAL_CHARS_BACKREF:Q$,REPLACEMENTS:yv}=Su,Z$=(t,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...t,e);t.sort();let r=`[${t.join("-")}]`;try{new RegExp(r)}catch{return t.map(s=>jt.escapeRegex(s)).join("..")}return r},ji=(t,e)=>`Missing ${t}: "${e}" - use "\\\\${e}" to match literal characters`,Ty=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");t=yv[t]||t;let r={...e},n=typeof r.maxLength=="number"?Math.min(wu,r.maxLength):wu,s=t.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},i=[o],a=r.capture?"":"?:",c=jt.isWindows(e),d=Su.globChars(c),l=Su.extglobChars(d),{DOT_LITERAL:f,PLUS_LITERAL:u,SLASH_LITERAL:g,ONE_CHAR:y,DOTS_SLASH:w,NO_DOT:R,NO_DOT_SLASH:B,NO_DOTS_SLASH:re,QMARK:Q,QMARK_NO_DOT:Le,STAR:X,START_ANCHOR:Ce}=d,J=M=>`(${a}(?:(?!${Ce}${M.dot?w:f}).)*?)`,K=r.dot?"":R,me=r.dot?Q:Le,et=r.bash===!0?J(r):X;r.capture&&(et=`(${et})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let T={input:t,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};t=jt.removePrefix(t,T),s=t.length;let ke=[],we=[],An=[],A=o,k,yt=()=>T.index===s-1,ae=T.peek=(M=1)=>t[T.index+M],gr=T.advance=()=>t[++T.index]||"",Er=()=>t.slice(T.index+1),Bt=(M="",be=0)=>{T.consumed+=M,T.index+=be},pc=M=>{T.output+=M.output!=null?M.output:M.value,Bt(M.value)},TO=()=>{let M=1;for(;ae()==="!"&&(ae(2)!=="("||ae(3)==="?");)gr(),T.start++,M++;return M%2===0?!1:(T.negated=!0,T.start++,!0)},yc=M=>{T[M]++,An.push(M)},Bs=M=>{T[M]--,An.pop()},ne=M=>{if(A.type==="globstar"){let be=T.braces>0&&(M.type==="comma"||M.type==="brace"),v=M.extglob===!0||ke.length&&(M.type==="pipe"||M.type==="paren");M.type!=="slash"&&M.type!=="paren"&&!be&&!v&&(T.output=T.output.slice(0,-A.output.length),A.type="star",A.value="*",A.output=et,T.output+=A.output)}if(ke.length&&M.type!=="paren"&&(ke[ke.length-1].inner+=M.value),(M.value||M.output)&&pc(M),A&&A.type==="text"&&M.type==="text"){A.value+=M.value,A.output=(A.output||"")+M.value;return}M.prev=A,i.push(M),A=M},gc=(M,be)=>{let v={...l[be],conditions:1,inner:""};v.prev=A,v.parens=T.parens,v.output=T.output;let ee=(r.capture?"(":"")+v.open;yc("parens"),ne({type:M,value:be,output:T.output?"":y}),ne({type:"paren",extglob:!0,value:gr(),output:ee}),ke.push(v)},NO=M=>{let be=M.close+(r.capture?")":""),v;if(M.type==="negate"){let ee=et;if(M.inner&&M.inner.length>1&&M.inner.includes("/")&&(ee=J(r)),(ee!==et||yt()||/^\)+$/.test(Er()))&&(be=M.close=`)$))${ee}`),M.inner.includes("*")&&(v=Er())&&/^\.[^\\/.]+$/.test(v)){let Pe=Ty(v,{...e,fastpaths:!1}).output;be=M.close=`)${Pe})${ee})`}M.prev.type==="bos"&&(T.negatedExtglob=!0)}ne({type:"paren",extglob:!0,value:k,output:be}),Bs("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(t)){let M=!1,be=t.replace(Q$,(v,ee,Pe,gt,He,Yu)=>gt==="\\"?(M=!0,v):gt==="?"?ee?ee+gt+(He?Q.repeat(He.length):""):Yu===0?me+(He?Q.repeat(He.length):""):Q.repeat(Pe.length):gt==="."?f.repeat(Pe.length):gt==="*"?ee?ee+gt+(He?et:""):et:ee?v:`\\${v}`);return M===!0&&(r.unescape===!0?be=be.replace(/\\/g,""):be=be.replace(/\\+/g,v=>v.length%2===0?"\\\\":v?"\\":"")),be===t&&r.contains===!0?(T.output=t,T):(T.output=jt.wrapOutput(be,T,e),T)}for(;!yt();){if(k=gr(),k==="\0")continue;if(k==="\\"){let v=ae();if(v==="/"&&r.bash!==!0||v==="."||v===";")continue;if(!v){k+="\\",ne({type:"text",value:k});continue}let ee=/^\\+/.exec(Er()),Pe=0;if(ee&&ee[0].length>2&&(Pe=ee[0].length,T.index+=Pe,Pe%2!==0&&(k+="\\")),r.unescape===!0?k=gr():k+=gr(),T.brackets===0){ne({type:"text",value:k});continue}}if(T.brackets>0&&(k!=="]"||A.value==="["||A.value==="[^")){if(r.posix!==!1&&k===":"){let v=A.value.slice(1);if(v.includes("[")&&(A.posix=!0,v.includes(":"))){let ee=A.value.lastIndexOf("["),Pe=A.value.slice(0,ee),gt=A.value.slice(ee+2),He=Y$[gt];if(He){A.value=Pe+He,T.backtrack=!0,gr(),!o.output&&i.indexOf(A)===1&&(o.output=y);continue}}}(k==="["&&ae()!==":"||k==="-"&&ae()==="]")&&(k=`\\${k}`),k==="]"&&(A.value==="["||A.value==="[^")&&(k=`\\${k}`),r.posix===!0&&k==="!"&&A.value==="["&&(k="^"),A.value+=k,pc({value:k});continue}if(T.quotes===1&&k!=='"'){k=jt.escapeRegex(k),A.value+=k,pc({value:k});continue}if(k==='"'){T.quotes=T.quotes===1?0:1,r.keepQuotes===!0&&ne({type:"text",value:k});continue}if(k==="("){yc("parens"),ne({type:"paren",value:k});continue}if(k===")"){if(T.parens===0&&r.strictBrackets===!0)throw new SyntaxError(ji("opening","("));let v=ke[ke.length-1];if(v&&T.parens===v.parens+1){NO(ke.pop());continue}ne({type:"paren",value:k,output:T.parens?")":"\\)"}),Bs("parens");continue}if(k==="["){if(r.nobracket===!0||!Er().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(ji("closing","]"));k=`\\${k}`}else yc("brackets");ne({type:"bracket",value:k});continue}if(k==="]"){if(r.nobracket===!0||A&&A.type==="bracket"&&A.value.length===1){ne({type:"text",value:k,output:`\\${k}`});continue}if(T.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(ji("opening","["));ne({type:"text",value:k,output:`\\${k}`});continue}Bs("brackets");let v=A.value.slice(1);if(A.posix!==!0&&v[0]==="^"&&!v.includes("/")&&(k=`/${k}`),A.value+=k,pc({value:k}),r.literalBrackets===!1||jt.hasRegexChars(v))continue;let ee=jt.escapeRegex(A.value);if(T.output=T.output.slice(0,-A.value.length),r.literalBrackets===!0){T.output+=ee,A.value=ee;continue}A.value=`(${a}${ee}|${A.value})`,T.output+=A.value;continue}if(k==="{"&&r.nobrace!==!0){yc("braces");let v={type:"brace",value:k,output:"(",outputIndex:T.output.length,tokensIndex:T.tokens.length};we.push(v),ne(v);continue}if(k==="}"){let v=we[we.length-1];if(r.nobrace===!0||!v){ne({type:"text",value:k,output:k});continue}let ee=")";if(v.dots===!0){let Pe=i.slice(),gt=[];for(let He=Pe.length-1;He>=0&&(i.pop(),Pe[He].type!=="brace");He--)Pe[He].type!=="dots"&&gt.unshift(Pe[He].value);ee=Z$(gt,r),T.backtrack=!0}if(v.comma!==!0&&v.dots!==!0){let Pe=T.output.slice(0,v.outputIndex),gt=T.tokens.slice(v.tokensIndex);v.value=v.output="\\{",k=ee="\\}",T.output=Pe;for(let He of gt)T.output+=He.output||He.value}ne({type:"brace",value:k,output:ee}),Bs("braces"),we.pop();continue}if(k==="|"){ke.length>0&&ke[ke.length-1].conditions++,ne({type:"text",value:k});continue}if(k===","){let v=k,ee=we[we.length-1];ee&&An[An.length-1]==="braces"&&(ee.comma=!0,v="|"),ne({type:"comma",value:k,output:v});continue}if(k==="/"){if(A.type==="dot"&&T.index===T.start+1){T.start=T.index+1,T.consumed="",T.output="",i.pop(),A=o;continue}ne({type:"slash",value:k,output:g});continue}if(k==="."){if(T.braces>0&&A.type==="dot"){A.value==="."&&(A.output=f);let v=we[we.length-1];A.type="dots",A.output+=k,A.value+=k,v.dots=!0;continue}if(T.braces+T.parens===0&&A.type!=="bos"&&A.type!=="slash"){ne({type:"text",value:k,output:f});continue}ne({type:"dot",value:k,output:f});continue}if(k==="?"){if(!(A&&A.value==="(")&&r.noextglob!==!0&&ae()==="("&&ae(2)!=="?"){gc("qmark",k);continue}if(A&&A.type==="paren"){let ee=ae(),Pe=k;if(ee==="<"&&!jt.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(A.value==="("&&!/[!=<:]/.test(ee)||ee==="<"&&!/<([!=]|\w+>)/.test(Er()))&&(Pe=`\\${k}`),ne({type:"text",value:k,output:Pe});continue}if(r.dot!==!0&&(A.type==="slash"||A.type==="bos")){ne({type:"qmark",value:k,output:Le});continue}ne({type:"qmark",value:k,output:Q});continue}if(k==="!"){if(r.noextglob!==!0&&ae()==="("&&(ae(2)!=="?"||!/[!=<:]/.test(ae(3)))){gc("negate",k);continue}if(r.nonegate!==!0&&T.index===0){TO();continue}}if(k==="+"){if(r.noextglob!==!0&&ae()==="("&&ae(2)!=="?"){gc("plus",k);continue}if(A&&A.value==="("||r.regex===!1){ne({type:"plus",value:k,output:u});continue}if(A&&(A.type==="bracket"||A.type==="paren"||A.type==="brace")||T.parens>0){ne({type:"plus",value:k});continue}ne({type:"plus",value:u});continue}if(k==="@"){if(r.noextglob!==!0&&ae()==="("&&ae(2)!=="?"){ne({type:"at",extglob:!0,value:k,output:""});continue}ne({type:"text",value:k});continue}if(k!=="*"){(k==="$"||k==="^")&&(k=`\\${k}`);let v=X$.exec(Er());v&&(k+=v[0],T.index+=v[0].length),ne({type:"text",value:k});continue}if(A&&(A.type==="globstar"||A.star===!0)){A.type="star",A.star=!0,A.value+=k,A.output=et,T.backtrack=!0,T.globstar=!0,Bt(k);continue}let M=Er();if(r.noextglob!==!0&&/^\([^?]/.test(M)){gc("star",k);continue}if(A.type==="star"){if(r.noglobstar===!0){Bt(k);continue}let v=A.prev,ee=v.prev,Pe=v.type==="slash"||v.type==="bos",gt=ee&&(ee.type==="star"||ee.type==="globstar");if(r.bash===!0&&(!Pe||M[0]&&M[0]!=="/")){ne({type:"star",value:k,output:""});continue}let He=T.braces>0&&(v.type==="comma"||v.type==="brace"),Yu=ke.length&&(v.type==="pipe"||v.type==="paren");if(!Pe&&v.type!=="paren"&&!He&&!Yu){ne({type:"star",value:k,output:""});continue}for(;M.slice(0,3)==="/**";){let Ec=t[T.index+4];if(Ec&&Ec!=="/")break;M=M.slice(3),Bt("/**",3)}if(v.type==="bos"&&yt()){A.type="globstar",A.value+=k,A.output=J(r),T.output=A.output,T.globstar=!0,Bt(k);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&!gt&&yt()){T.output=T.output.slice(0,-(v.output+A.output).length),v.output=`(?:${v.output}`,A.type="globstar",A.output=J(r)+(r.strictSlashes?")":"|$)"),A.value+=k,T.globstar=!0,T.output+=v.output+A.output,Bt(k);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&M[0]==="/"){let Ec=M[1]!==void 0?"|$":"";T.output=T.output.slice(0,-(v.output+A.output).length),v.output=`(?:${v.output}`,A.type="globstar",A.output=`${J(r)}${g}|${g}${Ec})`,A.value+=k,T.output+=v.output+A.output,T.globstar=!0,Bt(k+gr()),ne({type:"slash",value:"/",output:""});continue}if(v.type==="bos"&&M[0]==="/"){A.type="globstar",A.value+=k,A.output=`(?:^|${g}|${J(r)}${g})`,T.output=A.output,T.globstar=!0,Bt(k+gr()),ne({type:"slash",value:"/",output:""});continue}T.output=T.output.slice(0,-A.output.length),A.type="globstar",A.output=J(r),A.value+=k,T.output+=A.output,T.globstar=!0,Bt(k);continue}let be={type:"star",value:k,output:et};if(r.bash===!0){be.output=".*?",(A.type==="bos"||A.type==="slash")&&(be.output=K+be.output),ne(be);continue}if(A&&(A.type==="bracket"||A.type==="paren")&&r.regex===!0){be.output=k,ne(be);continue}(T.index===T.start||A.type==="slash"||A.type==="dot")&&(A.type==="dot"?(T.output+=B,A.output+=B):r.dot===!0?(T.output+=re,A.output+=re):(T.output+=K,A.output+=K),ae()!=="*"&&(T.output+=y,A.output+=y)),ne(be)}for(;T.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(ji("closing","]"));T.output=jt.escapeLast(T.output,"["),Bs("brackets")}for(;T.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(ji("closing",")"));T.output=jt.escapeLast(T.output,"("),Bs("parens")}for(;T.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(ji("closing","}"));T.output=jt.escapeLast(T.output,"{"),Bs("braces")}if(r.strictSlashes!==!0&&(A.type==="star"||A.type==="bracket")&&ne({type:"maybe_slash",value:"",output:`${g}?`}),T.backtrack===!0){T.output="";for(let M of T.tokens)T.output+=M.output!=null?M.output:M.value,M.suffix&&(T.output+=M.suffix)}return T};Ty.fastpaths=(t,e)=>{let r={...e},n=typeof r.maxLength=="number"?Math.min(wu,r.maxLength):wu,s=t.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);t=yv[t]||t;let o=jt.isWindows(e),{DOT_LITERAL:i,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:d,NO_DOT:l,NO_DOTS:f,NO_DOTS_SLASH:u,STAR:g,START_ANCHOR:y}=Su.globChars(o),w=r.dot?f:l,R=r.dot?u:l,B=r.capture?"":"?:",re={negated:!1,prefix:""},Q=r.bash===!0?".*?":g;r.capture&&(Q=`(${Q})`);let Le=K=>K.noglobstar===!0?Q:`(${B}(?:(?!${y}${K.dot?d:i}).)*?)`,X=K=>{switch(K){case"*":return`${w}${c}${Q}`;case".*":return`${i}${c}${Q}`;case"*.*":return`${w}${Q}${i}${c}${Q}`;case"*/*":return`${w}${Q}${a}${c}${R}${Q}`;case"**":return w+Le(r);case"**/*":return`(?:${w}${Le(r)}${a})?${R}${c}${Q}`;case"**/*.*":return`(?:${w}${Le(r)}${a})?${R}${Q}${i}${c}${Q}`;case"**/.*":return`(?:${w}${Le(r)}${a})?${i}${c}${Q}`;default:{let me=/^(.*?)\.(\w+)$/.exec(K);if(!me)return;let et=X(me[1]);return et?et+i+me[2]:void 0}}},Ce=jt.removePrefix(t,re),J=X(Ce);return J&&r.strictSlashes!==!0&&(J+=`${a}?`),J};gv.exports=Ty});var Cv=S((ole,xv)=>{"use strict";var J$=require("path"),eq=pv(),Ny=Ev(),vy=fc(),tq=uc(),rq=t=>t&&typeof t=="object"&&!Array.isArray(t),Me=(t,e,r=!1)=>{if(Array.isArray(t)){let l=t.map(u=>Me(u,e,r));return u=>{for(let g of l){let y=g(u);if(y)return y}return!1}}let n=rq(t)&&t.tokens&&t.input;if(t===""||typeof t!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let s=e||{},o=vy.isWindows(e),i=n?Me.compileRe(t,e):Me.makeRe(t,e,!1,!0),a=i.state;delete i.state;let c=()=>!1;if(s.ignore){let l={...e,ignore:null,onMatch:null,onResult:null};c=Me(s.ignore,l,r)}let d=(l,f=!1)=>{let{isMatch:u,match:g,output:y}=Me.test(l,i,e,{glob:t,posix:o}),w={glob:t,state:a,regex:i,posix:o,input:l,output:y,match:g,isMatch:u};return typeof s.onResult=="function"&&s.onResult(w),u===!1?(w.isMatch=!1,f?w:!1):c(l)?(typeof s.onIgnore=="function"&&s.onIgnore(w),w.isMatch=!1,f?w:!1):(typeof s.onMatch=="function"&&s.onMatch(w),f?w:!0)};return r&&(d.state=a),d};Me.test=(t,e,r,{glob:n,posix:s}={})=>{if(typeof t!="string")throw new TypeError("Expected input to be a string");if(t==="")return{isMatch:!1,output:""};let o=r||{},i=o.format||(s?vy.toPosixSlashes:null),a=t===n,c=a&&i?i(t):t;return a===!1&&(c=i?i(t):t,a=c===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=Me.matchBase(t,e,r,s):a=e.exec(c)),{isMatch:!!a,match:a,output:c}};Me.matchBase=(t,e,r,n=vy.isWindows(r))=>(e instanceof RegExp?e:Me.makeRe(e,r)).test(J$.basename(t));Me.isMatch=(t,e,r)=>Me(e,r)(t);Me.parse=(t,e)=>Array.isArray(t)?t.map(r=>Me.parse(r,e)):Ny(t,{...e,fastpaths:!1});Me.scan=(t,e)=>eq(t,e);Me.compileRe=(t,e,r=!1,n=!1)=>{if(r===!0)return t.output;let s=e||{},o=s.contains?"":"^",i=s.contains?"":"$",a=`${o}(?:${t.output})${i}`;t&&t.negated===!0&&(a=`^(?!${a}).*$`);let c=Me.toRegex(a,e);return n===!0&&(c.state=t),c};Me.makeRe=(t,e={},r=!1,n=!1)=>{if(!t||typeof t!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(t[0]==="."||t[0]==="*")&&(s.output=Ny.fastpaths(t,e)),s.output||(s=Ny(t,e)),Me.compileRe(s,e,r,n)};Me.toRegex=(t,e)=>{try{let r=e||{};return new RegExp(t,r.flags||(r.nocase?"i":""))}catch(r){if(e&&e.debug===!0)throw r;return/$^/}};Me.constants=tq;xv.exports=Me});var wv=S((ile,Sv)=>{"use strict";Sv.exports=Cv()});var kv=S((ale,Av)=>{"use strict";var _v=require("util"),Rv=rv(),Kr=wv(),Py=fc(),bv=t=>t===""||t==="./",ve=(t,e,r)=>{e=[].concat(e),t=[].concat(t);let n=new Set,s=new Set,o=new Set,i=0,a=l=>{o.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<e.length;l++){let f=Kr(String(e[l]),{...r,onResult:a},!0),u=f.state.negated||f.state.negatedExtglob;u&&i++;for(let g of t){let y=f(g,!0);(u?!y.isMatch:y.isMatch)&&(u?n.add(y.output):(n.delete(y.output),s.add(y.output)))}}let d=(i===e.length?[...o]:[...s]).filter(l=>!n.has(l));if(r&&d.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?e.map(l=>l.replace(/\\/g,"")):e}return d};ve.match=ve;ve.matcher=(t,e)=>Kr(t,e);ve.isMatch=(t,e,r)=>Kr(e,r)(t);ve.any=ve.isMatch;ve.not=(t,e,r={})=>{e=[].concat(e).map(String);let n=new Set,s=[],o=a=>{r.onResult&&r.onResult(a),s.push(a.output)},i=new Set(ve(t,e,{...r,onResult:o}));for(let a of s)i.has(a)||n.add(a);return[...n]};ve.contains=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${_v.inspect(t)}"`);if(Array.isArray(e))return e.some(n=>ve.contains(t,n,r));if(typeof e=="string"){if(bv(t)||bv(e))return!1;if(t.includes(e)||t.startsWith("./")&&t.slice(2).includes(e))return!0}return ve.isMatch(t,e,{...r,contains:!0})};ve.matchKeys=(t,e,r)=>{if(!Py.isObject(t))throw new TypeError("Expected the first argument to be an object");let n=ve(Object.keys(t),e,r),s={};for(let o of n)s[o]=t[o];return s};ve.some=(t,e,r)=>{let n=[].concat(t);for(let s of[].concat(e)){let o=Kr(String(s),r);if(n.some(i=>o(i)))return!0}return!1};ve.every=(t,e,r)=>{let n=[].concat(t);for(let s of[].concat(e)){let o=Kr(String(s),r);if(!n.every(i=>o(i)))return!1}return!0};ve.all=(t,e,r)=>{if(typeof t!="string")throw new TypeError(`Expected a string: "${_v.inspect(t)}"`);return[].concat(e).every(n=>Kr(n,r)(t))};ve.capture=(t,e,r)=>{let n=Py.isWindows(r),o=Kr.makeRe(String(t),{...r,capture:!0}).exec(n?Py.toPosixSlashes(e):e);if(o)return o.slice(1).map(i=>i===void 0?"":i)};ve.makeRe=(...t)=>Kr.makeRe(...t);ve.scan=(...t)=>Kr.scan(...t);ve.parse=(t,e)=>{let r=[];for(let n of[].concat(t||[]))for(let s of Rv(String(n),e))r.push(Kr.parse(s,e));return r};ve.braces=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!/\{.*\}/.test(t)?[t]:Rv(t,e)};ve.braceExpand=(t,e)=>{if(typeof t!="string")throw new TypeError("Expected a string");return ve.braces(t,{...e,expand:!0})};Av.exports=ve});var Bv=S(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.matchAny=Y.convertPatternsToRe=Y.makeRe=Y.getPatternParts=Y.expandBraceExpansion=Y.expandPatternsWithBraceExpansion=Y.isAffectDepthOfReadingPattern=Y.endsWithSlashGlobStar=Y.hasGlobStar=Y.getBaseDirectory=Y.isPatternRelatedToParentDirectory=Y.getPatternsOutsideCurrentDirectory=Y.getPatternsInsideCurrentDirectory=Y.getPositivePatterns=Y.getNegativePatterns=Y.isPositivePattern=Y.isNegativePattern=Y.convertToNegativePattern=Y.convertToPositivePattern=Y.isDynamicPattern=Y.isStaticPattern=void 0;var nq=require("path"),sq=xN(),Oy=kv(),Tv="**",oq="\\",iq=/[*?]|^!/,aq=/\[[^[]*]/,cq=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,dq=/[!*+?@]\([^(]*\)/,lq=/,|\.\./;function Nv(t,e={}){return!vv(t,e)}Y.isStaticPattern=Nv;function vv(t,e={}){return t===""?!1:!!(e.caseSensitiveMatch===!1||t.includes(oq)||iq.test(t)||aq.test(t)||cq.test(t)||e.extglob!==!1&&dq.test(t)||e.braceExpansion!==!1&&uq(t))}Y.isDynamicPattern=vv;function uq(t){let e=t.indexOf("{");if(e===-1)return!1;let r=t.indexOf("}",e+1);if(r===-1)return!1;let n=t.slice(e,r);return lq.test(n)}function fq(t){return bu(t)?t.slice(1):t}Y.convertToPositivePattern=fq;function hq(t){return"!"+t}Y.convertToNegativePattern=hq;function bu(t){return t.startsWith("!")&&t[1]!=="("}Y.isNegativePattern=bu;function Pv(t){return!bu(t)}Y.isPositivePattern=Pv;function mq(t){return t.filter(bu)}Y.getNegativePatterns=mq;function pq(t){return t.filter(Pv)}Y.getPositivePatterns=pq;function yq(t){return t.filter(e=>!Iy(e))}Y.getPatternsInsideCurrentDirectory=yq;function gq(t){return t.filter(Iy)}Y.getPatternsOutsideCurrentDirectory=gq;function Iy(t){return t.startsWith("..")||t.startsWith("./..")}Y.isPatternRelatedToParentDirectory=Iy;function Eq(t){return sq(t,{flipBackslashes:!1})}Y.getBaseDirectory=Eq;function xq(t){return t.includes(Tv)}Y.hasGlobStar=xq;function Ov(t){return t.endsWith("/"+Tv)}Y.endsWithSlashGlobStar=Ov;function Cq(t){let e=nq.basename(t);return Ov(t)||Nv(e)}Y.isAffectDepthOfReadingPattern=Cq;function Sq(t){return t.reduce((e,r)=>e.concat(Iv(r)),[])}Y.expandPatternsWithBraceExpansion=Sq;function Iv(t){return Oy.braces(t,{expand:!0,nodupes:!0})}Y.expandBraceExpansion=Iv;function wq(t,e){let{parts:r}=Oy.scan(t,Object.assign(Object.assign({},e),{parts:!0}));return r.length===0&&(r=[t]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}Y.getPatternParts=wq;function Dv(t,e){return Oy.makeRe(t,e)}Y.makeRe=Dv;function bq(t,e){return t.map(r=>Dv(r,e))}Y.convertPatternsToRe=bq;function _q(t,e){return e.some(r=>r.test(t))}Y.matchAny=_q});var Lv=S(_u=>{"use strict";Object.defineProperty(_u,"__esModule",{value:!0});_u.merge=void 0;var Rq=hy();function Aq(t){let e=Rq(t);return t.forEach(r=>{r.once("error",n=>e.emit("error",n))}),e.once("close",()=>Mv(t)),e.once("end",()=>Mv(t)),e}_u.merge=Aq;function Mv(t){t.forEach(e=>e.emit("close"))}});var Fv=S(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.isEmpty=Gi.isString=void 0;function kq(t){return typeof t=="string"}Gi.isString=kq;function Tq(t){return t===""}Gi.isEmpty=Tq});var wn=S(mt=>{"use strict";Object.defineProperty(mt,"__esModule",{value:!0});mt.string=mt.stream=mt.pattern=mt.path=mt.fs=mt.errno=mt.array=void 0;var Nq=dN();mt.array=Nq;var vq=lN();mt.errno=vq;var Pq=uN();mt.fs=Pq;var Oq=fN();mt.path=Oq;var Iq=Bv();mt.pattern=Iq;var Dq=Lv();mt.stream=Dq;var Bq=Fv();mt.string=Bq});var $v=S(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.convertPatternGroupToTask=pt.convertPatternGroupsToTasks=pt.groupPatternsByBaseDirectory=pt.getNegativePatternsAsPositive=pt.getPositivePatterns=pt.convertPatternsToTasks=pt.generate=void 0;var bn=wn();function Mq(t,e){let r=Uv(t),n=zv(t,e.ignore),s=r.filter(c=>bn.pattern.isStaticPattern(c,e)),o=r.filter(c=>bn.pattern.isDynamicPattern(c,e)),i=Dy(s,n,!1),a=Dy(o,n,!0);return i.concat(a)}pt.generate=Mq;function Dy(t,e,r){let n=[],s=bn.pattern.getPatternsOutsideCurrentDirectory(t),o=bn.pattern.getPatternsInsideCurrentDirectory(t),i=By(s),a=By(o);return n.push(...My(i,e,r)),"."in a?n.push(Ly(".",o,e,r)):n.push(...My(a,e,r)),n}pt.convertPatternsToTasks=Dy;function Uv(t){return bn.pattern.getPositivePatterns(t)}pt.getPositivePatterns=Uv;function zv(t,e){return bn.pattern.getNegativePatterns(t).concat(e).map(bn.pattern.convertToPositivePattern)}pt.getNegativePatternsAsPositive=zv;function By(t){let e={};return t.reduce((r,n)=>{let s=bn.pattern.getBaseDirectory(n);return s in r?r[s].push(n):r[s]=[n],r},e)}pt.groupPatternsByBaseDirectory=By;function My(t,e,r){return Object.keys(t).map(n=>Ly(n,t[n],e,r))}pt.convertPatternGroupsToTasks=My;function Ly(t,e,r,n){return{dynamic:n,positive:e,negative:r,base:t,patterns:[].concat(e,r.map(bn.pattern.convertToNegativePattern))}}pt.convertPatternGroupToTask=Ly});var Hv=S(Ki=>{"use strict";Object.defineProperty(Ki,"__esModule",{value:!0});Ki.removeDuplicateSlashes=Ki.transform=void 0;var Lq=/(?!^)\/{2,}/g;function Fq(t){return t.map(e=>qv(e))}Ki.transform=Fq;function qv(t){return t.replace(Lq,"/")}Ki.removeDuplicateSlashes=qv});var Gv=S(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.read=void 0;function Uq(t,e,r){e.fs.lstat(t,(n,s)=>{if(n!==null){jv(r,n);return}if(!s.isSymbolicLink()||!e.followSymbolicLink){Fy(r,s);return}e.fs.stat(t,(o,i)=>{if(o!==null){if(e.throwErrorOnBrokenSymbolicLink){jv(r,o);return}Fy(r,s);return}e.markSymbolicLink&&(i.isSymbolicLink=()=>!0),Fy(r,i)})})}Ru.read=Uq;function jv(t,e){t(e)}function Fy(t,e){t(null,e)}});var Kv=S(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.read=void 0;function zq(t,e){let r=e.fs.lstatSync(t);if(!r.isSymbolicLink()||!e.followSymbolicLink)return r;try{let n=e.fs.statSync(t);return e.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!e.throwErrorOnBrokenSymbolicLink)return r;throw n}}Au.read=zq});var Vv=S(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.createFileSystemAdapter=Ts.FILE_SYSTEM_ADAPTER=void 0;var ku=require("fs");Ts.FILE_SYSTEM_ADAPTER={lstat:ku.lstat,stat:ku.stat,lstatSync:ku.lstatSync,statSync:ku.statSync};function $q(t){return t===void 0?Ts.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Ts.FILE_SYSTEM_ADAPTER),t)}Ts.createFileSystemAdapter=$q});var Wv=S(zy=>{"use strict";Object.defineProperty(zy,"__esModule",{value:!0});var qq=Vv(),Uy=class{constructor(e={}){this._options=e,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=qq.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(e,r){return e??r}};zy.default=Uy});var po=S(Ns=>{"use strict";Object.defineProperty(Ns,"__esModule",{value:!0});Ns.statSync=Ns.stat=Ns.Settings=void 0;var Yv=Gv(),Hq=Kv(),$y=Wv();Ns.Settings=$y.default;function jq(t,e,r){if(typeof e=="function"){Yv.read(t,qy(),e);return}Yv.read(t,qy(e),r)}Ns.stat=jq;function Gq(t,e){let r=qy(e);return Hq.read(t,r)}Ns.statSync=Gq;function qy(t={}){return t instanceof $y.default?t:new $y.default(t)}});var Zv=S((xle,Qv)=>{var Xv;Qv.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):t=>(Xv||(Xv=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var eP=S((Cle,Jv)=>{Jv.exports=Vq;var Kq=Zv();function Vq(t,e){let r,n,s,o=!0;Array.isArray(t)?(r=[],n=t.length):(s=Object.keys(t),r={},n=s.length);function i(c){function d(){e&&e(c,r),e=null}o?Kq(d):d()}function a(c,d,l){r[c]=l,(--n===0||d)&&i(d)}n?s?s.forEach(function(c){t[c](function(d,l){a(c,d,l)})}):t.forEach(function(c,d){c(function(l,f){a(d,l,f)})}):i(null),o=!1}});var Hy=S(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Tu=process.versions.node.split(".");if(Tu[0]===void 0||Tu[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var tP=Number.parseInt(Tu[0],10),Wq=Number.parseInt(Tu[1],10),rP=10,Yq=10,Xq=tP>rP,Qq=tP===rP&&Wq>=Yq;Nu.IS_SUPPORT_READDIR_WITH_FILE_TYPES=Xq||Qq});var nP=S(vu=>{"use strict";Object.defineProperty(vu,"__esModule",{value:!0});vu.createDirentFromStats=void 0;var jy=class{constructor(e,r){this.name=e,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function Zq(t,e){return new jy(t,e)}vu.createDirentFromStats=Zq});var Gy=S(Pu=>{"use strict";Object.defineProperty(Pu,"__esModule",{value:!0});Pu.fs=void 0;var Jq=nP();Pu.fs=Jq});var Ky=S(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.joinPathSegments=void 0;function eH(t,e,r){return t.endsWith(r)?t+e:t+r+e}Ou.joinPathSegments=eH});var dP=S(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.readdir=vs.readdirWithFileTypes=vs.read=void 0;var tH=po(),sP=eP(),rH=Hy(),oP=Gy(),iP=Ky();function nH(t,e,r){if(!e.stats&&rH.IS_SUPPORT_READDIR_WITH_FILE_TYPES){aP(t,e,r);return}cP(t,e,r)}vs.read=nH;function aP(t,e,r){e.fs.readdir(t,{withFileTypes:!0},(n,s)=>{if(n!==null){Iu(r,n);return}let o=s.map(a=>({dirent:a,name:a.name,path:iP.joinPathSegments(t,a.name,e.pathSegmentSeparator)}));if(!e.followSymbolicLinks){Vy(r,o);return}let i=o.map(a=>sH(a,e));sP(i,(a,c)=>{if(a!==null){Iu(r,a);return}Vy(r,c)})})}vs.readdirWithFileTypes=aP;function sH(t,e){return r=>{if(!t.dirent.isSymbolicLink()){r(null,t);return}e.fs.stat(t.path,(n,s)=>{if(n!==null){if(e.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,t);return}t.dirent=oP.fs.createDirentFromStats(t.name,s),r(null,t)})}}function cP(t,e,r){e.fs.readdir(t,(n,s)=>{if(n!==null){Iu(r,n);return}let o=s.map(i=>{let a=iP.joinPathSegments(t,i,e.pathSegmentSeparator);return c=>{tH.stat(a,e.fsStatSettings,(d,l)=>{if(d!==null){c(d);return}let f={name:i,path:a,dirent:oP.fs.createDirentFromStats(i,l)};e.stats&&(f.stats=l),c(null,f)})}});sP(o,(i,a)=>{if(i!==null){Iu(r,i);return}Vy(r,a)})})}vs.readdir=cP;function Iu(t,e){t(e)}function Vy(t,e){t(null,e)}});var mP=S(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.readdir=Ps.readdirWithFileTypes=Ps.read=void 0;var oH=po(),iH=Hy(),lP=Gy(),uP=Ky();function aH(t,e){return!e.stats&&iH.IS_SUPPORT_READDIR_WITH_FILE_TYPES?fP(t,e):hP(t,e)}Ps.read=aH;function fP(t,e){return e.fs.readdirSync(t,{withFileTypes:!0}).map(n=>{let s={dirent:n,name:n.name,path:uP.joinPathSegments(t,n.name,e.pathSegmentSeparator)};if(s.dirent.isSymbolicLink()&&e.followSymbolicLinks)try{let o=e.fs.statSync(s.path);s.dirent=lP.fs.createDirentFromStats(s.name,o)}catch(o){if(e.throwErrorOnBrokenSymbolicLink)throw o}return s})}Ps.readdirWithFileTypes=fP;function hP(t,e){return e.fs.readdirSync(t).map(n=>{let s=uP.joinPathSegments(t,n,e.pathSegmentSeparator),o=oH.statSync(s,e.fsStatSettings),i={name:n,path:s,dirent:lP.fs.createDirentFromStats(n,o)};return e.stats&&(i.stats=o),i})}Ps.readdir=hP});var pP=S(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.createFileSystemAdapter=Os.FILE_SYSTEM_ADAPTER=void 0;var Vi=require("fs");Os.FILE_SYSTEM_ADAPTER={lstat:Vi.lstat,stat:Vi.stat,lstatSync:Vi.lstatSync,statSync:Vi.statSync,readdir:Vi.readdir,readdirSync:Vi.readdirSync};function cH(t){return t===void 0?Os.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Os.FILE_SYSTEM_ADAPTER),t)}Os.createFileSystemAdapter=cH});var yP=S(Yy=>{"use strict";Object.defineProperty(Yy,"__esModule",{value:!0});var dH=require("path"),lH=po(),uH=pP(),Wy=class{constructor(e={}){this._options=e,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=uH.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,dH.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new lH.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e??r}};Yy.default=Wy});var Du=S(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.Settings=Is.scandirSync=Is.scandir=void 0;var gP=dP(),fH=mP(),Xy=yP();Is.Settings=Xy.default;function hH(t,e,r){if(typeof e=="function"){gP.read(t,Qy(),e);return}gP.read(t,Qy(e),r)}Is.scandir=hH;function mH(t,e){let r=Qy(e);return fH.read(t,r)}Is.scandirSync=mH;function Qy(t={}){return t instanceof Xy.default?t:new Xy.default(t)}});var xP=S((vle,EP)=>{"use strict";function pH(t){var e=new t,r=e;function n(){var o=e;return o.next?e=o.next:(e=new t,r=e),o.next=null,o}function s(o){r.next=o,r=o}return{get:n,release:s}}EP.exports=pH});var SP=S((Ple,Zy)=>{"use strict";var yH=xP();function CP(t,e,r){if(typeof t=="function"&&(r=e,e=t,t=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=yH(gH),s=null,o=null,i=0,a=null,c={push:w,drain:lr,saturated:lr,pause:l,paused:!1,concurrency:r,running:d,resume:g,idle:y,length:f,getQueue:u,unshift:R,empty:lr,kill:re,killAndDrain:Q,error:Le};return c;function d(){return i}function l(){c.paused=!0}function f(){for(var X=s,Ce=0;X;)X=X.next,Ce++;return Ce}function u(){for(var X=s,Ce=[];X;)Ce.push(X.value),X=X.next;return Ce}function g(){if(c.paused){c.paused=!1;for(var X=0;X<c.concurrency;X++)i++,B()}}function y(){return i===0&&c.length()===0}function w(X,Ce){var J=n.get();J.context=t,J.release=B,J.value=X,J.callback=Ce||lr,J.errorHandler=a,i===c.concurrency||c.paused?o?(o.next=J,o=J):(s=J,o=J,c.saturated()):(i++,e.call(t,J.value,J.worked))}function R(X,Ce){var J=n.get();J.context=t,J.release=B,J.value=X,J.callback=Ce||lr,i===c.concurrency||c.paused?s?(J.next=s,s=J):(s=J,o=J,c.saturated()):(i++,e.call(t,J.value,J.worked))}function B(X){X&&n.release(X);var Ce=s;Ce?c.paused?i--:(o===s&&(o=null),s=Ce.next,Ce.next=null,e.call(t,Ce.value,Ce.worked),o===null&&c.empty()):--i===0&&c.drain()}function re(){s=null,o=null,c.drain=lr}function Q(){s=null,o=null,c.drain(),c.drain=lr}function Le(X){a=X}}function lr(){}function gH(){this.value=null,this.callback=lr,this.next=null,this.release=lr,this.context=null,this.errorHandler=null;var t=this;this.worked=function(r,n){var s=t.callback,o=t.errorHandler,i=t.value;t.value=null,t.callback=lr,t.errorHandler&&o(r,i),s.call(t.context,r,n),t.release(t)}}function EH(t,e,r){typeof t=="function"&&(r=e,e=t,t=null);function n(l,f){e.call(this,l).then(function(u){f(null,u)},f)}var s=CP(t,n,r),o=s.push,i=s.unshift;return s.push=a,s.unshift=c,s.drained=d,s;function a(l){var f=new Promise(function(u,g){o(l,function(y,w){if(y){g(y);return}u(w)})});return f.catch(lr),f}function c(l){var f=new Promise(function(u,g){i(l,function(y,w){if(y){g(y);return}u(w)})});return f.catch(lr),f}function d(){if(s.idle())return new Promise(function(u){u()});var l=s.drain,f=new Promise(function(u){s.drain=function(){l(),u()}});return f}}Zy.exports=CP;Zy.exports.promise=EH});var Bu=S(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});Vr.joinPathSegments=Vr.replacePathSegmentSeparator=Vr.isAppliedFilter=Vr.isFatalError=void 0;function xH(t,e){return t.errorFilter===null?!0:!t.errorFilter(e)}Vr.isFatalError=xH;function CH(t,e){return t===null||t(e)}Vr.isAppliedFilter=CH;function SH(t,e){return t.split(/[/\\]/).join(e)}Vr.replacePathSegmentSeparator=SH;function wH(t,e,r){return t===""?e:t.endsWith(r)?t+e:t+r+e}Vr.joinPathSegments=wH});var tg=S(eg=>{"use strict";Object.defineProperty(eg,"__esModule",{value:!0});var bH=Bu(),Jy=class{constructor(e,r){this._root=e,this._settings=r,this._root=bH.replacePathSegmentSeparator(e,r.pathSegmentSeparator)}};eg.default=Jy});var sg=S(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});var _H=require("events"),RH=Du(),AH=SP(),Mu=Bu(),kH=tg(),rg=class extends kH.default{constructor(e,r){super(e,r),this._settings=r,this._scandir=RH.scandir,this._emitter=new _H.EventEmitter,this._queue=AH(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(e){this._emitter.on("entry",e)}onError(e){this._emitter.once("error",e)}onEnd(e){this._emitter.once("end",e)}_pushToQueue(e,r){let n={directory:e,base:r};this._queue.push(n,s=>{s!==null&&this._handleError(s)})}_worker(e,r){this._scandir(e.directory,this._settings.fsScandirSettings,(n,s)=>{if(n!==null){r(n,void 0);return}for(let o of s)this._handleEntry(o,e.base);r(null,void 0)})}_handleError(e){this._isDestroyed||!Mu.isFatalError(this._settings,e)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",e))}_handleEntry(e,r){if(this._isDestroyed||this._isFatalError)return;let n=e.path;r!==void 0&&(e.path=Mu.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),Mu.isAppliedFilter(this._settings.entryFilter,e)&&this._emitEntry(e),e.dirent.isDirectory()&&Mu.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,r===void 0?void 0:e.path)}_emitEntry(e){this._emitter.emit("entry",e)}};ng.default=rg});var wP=S(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});var TH=sg(),og=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new TH.default(this._root,this._settings),this._storage=[]}read(e){this._reader.onError(r=>{NH(e,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{vH(e,this._storage)}),this._reader.read()}};ig.default=og;function NH(t,e){t(e)}function vH(t,e){t(null,e)}});var bP=S(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});var PH=require("stream"),OH=sg(),ag=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new OH.default(this._root,this._settings),this._stream=new PH.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(e=>{this._stream.emit("error",e)}),this._reader.onEntry(e=>{this._stream.push(e)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};cg.default=ag});var _P=S(lg=>{"use strict";Object.defineProperty(lg,"__esModule",{value:!0});var IH=Du(),Lu=Bu(),DH=tg(),dg=class extends DH.default{constructor(){super(...arguments),this._scandir=IH.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(e,r){this._queue.add({directory:e,base:r})}_handleQueue(){for(let e of this._queue.values())this._handleDirectory(e.directory,e.base)}_handleDirectory(e,r){try{let n=this._scandir(e,this._settings.fsScandirSettings);for(let s of n)this._handleEntry(s,r)}catch(n){this._handleError(n)}}_handleError(e){if(Lu.isFatalError(this._settings,e))throw e}_handleEntry(e,r){let n=e.path;r!==void 0&&(e.path=Lu.joinPathSegments(r,e.name,this._settings.pathSegmentSeparator)),Lu.isAppliedFilter(this._settings.entryFilter,e)&&this._pushToStorage(e),e.dirent.isDirectory()&&Lu.isAppliedFilter(this._settings.deepFilter,e)&&this._pushToQueue(n,r===void 0?void 0:e.path)}_pushToStorage(e){this._storage.push(e)}};lg.default=dg});var RP=S(fg=>{"use strict";Object.defineProperty(fg,"__esModule",{value:!0});var BH=_P(),ug=class{constructor(e,r){this._root=e,this._settings=r,this._reader=new BH.default(this._root,this._settings)}read(){return this._reader.read()}};fg.default=ug});var AP=S(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});var MH=require("path"),LH=Du(),hg=class{constructor(e={}){this._options=e,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,MH.sep),this.fsScandirSettings=new LH.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(e,r){return e??r}};mg.default=hg});var Uu=S(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.Settings=Wr.walkStream=Wr.walkSync=Wr.walk=void 0;var kP=wP(),FH=bP(),UH=RP(),pg=AP();Wr.Settings=pg.default;function zH(t,e,r){if(typeof e=="function"){new kP.default(t,Fu()).read(e);return}new kP.default(t,Fu(e)).read(r)}Wr.walk=zH;function $H(t,e){let r=Fu(e);return new UH.default(t,r).read()}Wr.walkSync=$H;function qH(t,e){let r=Fu(e);return new FH.default(t,r).read()}Wr.walkStream=qH;function Fu(t={}){return t instanceof pg.default?t:new pg.default(t)}});var zu=S(gg=>{"use strict";Object.defineProperty(gg,"__esModule",{value:!0});var HH=require("path"),jH=po(),TP=wn(),yg=class{constructor(e){this._settings=e,this._fsStatSettings=new jH.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(e){return HH.resolve(this._settings.cwd,e)}_makeEntry(e,r){let n={name:r,path:r,dirent:TP.fs.createDirentFromStats(r,e)};return this._settings.stats&&(n.stats=e),n}_isFatalError(e){return!TP.errno.isEnoentCodeError(e)&&!this._settings.suppressErrors}};gg.default=yg});var Cg=S(xg=>{"use strict";Object.defineProperty(xg,"__esModule",{value:!0});var GH=require("stream"),KH=po(),VH=Uu(),WH=zu(),Eg=class extends WH.default{constructor(){super(...arguments),this._walkStream=VH.walkStream,this._stat=KH.stat}dynamic(e,r){return this._walkStream(e,r)}static(e,r){let n=e.map(this._getFullEntryPath,this),s=new GH.PassThrough({objectMode:!0});s._write=(o,i,a)=>this._getEntry(n[o],e[o],r).then(c=>{c!==null&&r.entryFilter(c)&&s.push(c),o===n.length-1&&s.end(),a()}).catch(a);for(let o=0;o<n.length;o++)s.write(o);return s}_getEntry(e,r,n){return this._getStat(e).then(s=>this._makeEntry(s,r)).catch(s=>{if(n.errorFilter(s))return null;throw s})}_getStat(e){return new Promise((r,n)=>{this._stat(e,this._fsStatSettings,(s,o)=>s===null?r(o):n(s))})}};xg.default=Eg});var NP=S(wg=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});var YH=Uu(),XH=zu(),QH=Cg(),Sg=class extends XH.default{constructor(){super(...arguments),this._walkAsync=YH.walk,this._readerStream=new QH.default(this._settings)}dynamic(e,r){return new Promise((n,s)=>{this._walkAsync(e,r,(o,i)=>{o===null?n(i):s(o)})})}async static(e,r){let n=[],s=this._readerStream.static(e,r);return new Promise((o,i)=>{s.once("error",i),s.on("data",a=>n.push(a)),s.once("end",()=>o(n))})}};wg.default=Sg});var vP=S(_g=>{"use strict";Object.defineProperty(_g,"__esModule",{value:!0});var Wi=wn(),bg=class{constructor(e,r,n){this._patterns=e,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let e=Wi.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of e){let n=this._getPatternSegments(r),s=this._splitSegmentsIntoSections(n);this._storage.push({complete:s.length<=1,pattern:r,segments:n,sections:s})}}_getPatternSegments(e){return Wi.pattern.getPatternParts(e,this._micromatchOptions).map(n=>Wi.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:Wi.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(e){return Wi.array.splitWhen(e,r=>r.dynamic&&Wi.pattern.hasGlobStar(r.pattern))}};_g.default=bg});var PP=S(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});var ZH=vP(),Rg=class extends ZH.default{match(e){let r=e.split("/"),n=r.length,s=this._storage.filter(o=>!o.complete||o.segments.length>n);for(let o of s){let i=o.sections[0];if(!o.complete&&n>i.length||r.every((c,d)=>{let l=o.segments[d];return!!(l.dynamic&&l.patternRe.test(c)||!l.dynamic&&l.pattern===c)}))return!0}return!1}};Ag.default=Rg});var OP=S(Tg=>{"use strict";Object.defineProperty(Tg,"__esModule",{value:!0});var $u=wn(),JH=PP(),kg=class{constructor(e,r){this._settings=e,this._micromatchOptions=r}getFilter(e,r,n){let s=this._getMatcher(r),o=this._getNegativePatternsRe(n);return i=>this._filter(e,i,s,o)}_getMatcher(e){return new JH.default(e,this._settings,this._micromatchOptions)}_getNegativePatternsRe(e){let r=e.filter($u.pattern.isAffectDepthOfReadingPattern);return $u.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(e,r,n,s){if(this._isSkippedByDeep(e,r.path)||this._isSkippedSymbolicLink(r))return!1;let o=$u.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(o,n)?!1:this._isSkippedByNegativePatterns(o,s)}_isSkippedByDeep(e,r){return this._settings.deep===1/0?!1:this._getEntryLevel(e,r)>=this._settings.deep}_getEntryLevel(e,r){let n=r.split("/").length;if(e==="")return n;let s=e.split("/").length;return n-s}_isSkippedSymbolicLink(e){return!this._settings.followSymbolicLinks&&e.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(e,r){return!this._settings.baseNameMatch&&!r.match(e)}_isSkippedByNegativePatterns(e,r){return!$u.pattern.matchAny(e,r)}};Tg.default=kg});var IP=S(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});var yo=wn(),Ng=class{constructor(e,r){this._settings=e,this._micromatchOptions=r,this.index=new Map}getFilter(e,r){let n=yo.pattern.convertPatternsToRe(e,this._micromatchOptions),s=yo.pattern.convertPatternsToRe(r,this._micromatchOptions);return o=>this._filter(o,n,s)}_filter(e,r,n){if(this._settings.unique&&this._isDuplicateEntry(e)||this._onlyFileFilter(e)||this._onlyDirectoryFilter(e)||this._isSkippedByAbsoluteNegativePatterns(e.path,n))return!1;let s=this._settings.baseNameMatch?e.name:e.path,o=e.dirent.isDirectory(),i=this._isMatchToPatterns(s,r,o)&&!this._isMatchToPatterns(e.path,n,o);return this._settings.unique&&i&&this._createIndexRecord(e),i}_isDuplicateEntry(e){return this.index.has(e.path)}_createIndexRecord(e){this.index.set(e.path,void 0)}_onlyFileFilter(e){return this._settings.onlyFiles&&!e.dirent.isFile()}_onlyDirectoryFilter(e){return this._settings.onlyDirectories&&!e.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(e,r){if(!this._settings.absolute)return!1;let n=yo.path.makeAbsolute(this._settings.cwd,e);return yo.pattern.matchAny(n,r)}_isMatchToPatterns(e,r,n){let s=yo.path.removeLeadingDotSegment(e),o=yo.pattern.matchAny(s,r);return!o&&n?yo.pattern.matchAny(s+"/",r):o}};vg.default=Ng});var DP=S(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});var ej=wn(),Pg=class{constructor(e){this._settings=e}getFilter(){return e=>this._isNonFatalError(e)}_isNonFatalError(e){return ej.errno.isEnoentCodeError(e)||this._settings.suppressErrors}};Og.default=Pg});var MP=S(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});var BP=wn(),Ig=class{constructor(e){this._settings=e}getTransformer(){return e=>this._transform(e)}_transform(e){let r=e.path;return this._settings.absolute&&(r=BP.path.makeAbsolute(this._settings.cwd,r),r=BP.path.unixify(r)),this._settings.markDirectories&&e.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},e),{path:r}):r}};Dg.default=Ig});var qu=S(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});var tj=require("path"),rj=OP(),nj=IP(),sj=DP(),oj=MP(),Bg=class{constructor(e){this._settings=e,this.errorFilter=new sj.default(this._settings),this.entryFilter=new nj.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new rj.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new oj.default(this._settings)}_getRootDirectory(e){return tj.resolve(this._settings.cwd,e.base)}_getReaderOptions(e){let r=e.base==="."?"":e.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,e.positive,e.negative),entryFilter:this.entryFilter.getFilter(e.positive,e.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Mg.default=Bg});var LP=S(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});var ij=NP(),aj=qu(),Lg=class extends aj.default{constructor(){super(...arguments),this._reader=new ij.default(this._settings)}async read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e);return(await this.api(r,e,n)).map(o=>n.transform(o))}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};Fg.default=Lg});var FP=S(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});var cj=require("stream"),dj=Cg(),lj=qu(),Ug=class extends lj.default{constructor(){super(...arguments),this._reader=new dj.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e),s=this.api(r,e,n),o=new cj.Readable({objectMode:!0,read:()=>{}});return s.once("error",i=>o.emit("error",i)).on("data",i=>o.emit("data",n.transform(i))).once("end",()=>o.emit("end")),o.once("close",()=>s.destroy()),o}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};zg.default=Ug});var UP=S(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});var uj=po(),fj=Uu(),hj=zu(),$g=class extends hj.default{constructor(){super(...arguments),this._walkSync=fj.walkSync,this._statSync=uj.statSync}dynamic(e,r){return this._walkSync(e,r)}static(e,r){let n=[];for(let s of e){let o=this._getFullEntryPath(s),i=this._getEntry(o,s,r);i===null||!r.entryFilter(i)||n.push(i)}return n}_getEntry(e,r,n){try{let s=this._getStat(e);return this._makeEntry(s,r)}catch(s){if(n.errorFilter(s))return null;throw s}}_getStat(e){return this._statSync(e,this._fsStatSettings)}};qg.default=$g});var zP=S(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});var mj=UP(),pj=qu(),Hg=class extends pj.default{constructor(){super(...arguments),this._reader=new mj.default(this._settings)}read(e){let r=this._getRootDirectory(e),n=this._getReaderOptions(e);return this.api(r,e,n).map(n.transform)}api(e,r,n){return r.dynamic?this._reader.dynamic(e,n):this._reader.static(r.patterns,n)}};jg.default=Hg});var $P=S(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var Yi=require("fs"),yj=require("os"),gj=Math.max(yj.cpus().length,1);Xi.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:Yi.lstat,lstatSync:Yi.lstatSync,stat:Yi.stat,statSync:Yi.statSync,readdir:Yi.readdir,readdirSync:Yi.readdirSync};var Gg=class{constructor(e={}){this._options=e,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,gj),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(e,r){return e===void 0?r:e}_getFileSystemMethods(e={}){return Object.assign(Object.assign({},Xi.DEFAULT_FILE_SYSTEM_ADAPTER),e)}};Xi.default=Gg});var Yg=S((rue,jP)=>{"use strict";var qP=$v(),HP=Hv(),Ej=LP(),xj=FP(),Cj=zP(),Kg=$P(),go=wn();async function Vg(t,e){Qi(t);let r=Wg(t,Ej.default,e),n=await Promise.all(r);return go.array.flatten(n)}(function(t){function e(i,a){Qi(i);let c=Wg(i,Cj.default,a);return go.array.flatten(c)}t.sync=e;function r(i,a){Qi(i);let c=Wg(i,xj.default,a);return go.stream.merge(c)}t.stream=r;function n(i,a){Qi(i);let c=HP.transform([].concat(i)),d=new Kg.default(a);return qP.generate(c,d)}t.generateTasks=n;function s(i,a){Qi(i);let c=new Kg.default(a);return go.pattern.isDynamicPattern(i,c)}t.isDynamicPattern=s;function o(i){return Qi(i),go.path.escape(i)}t.escapePath=o})(Vg||(Vg={}));function Wg(t,e,r){let n=HP.transform([].concat(t)),s=new Kg.default(r),o=qP.generate(n,s),i=new e(s);return o.map(i.read,i)}function Qi(t){if(![].concat(t).every(n=>go.string.isString(n)&&!go.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}jP.exports=Vg});var KP=S(Eo=>{"use strict";var{promisify:Sj}=require("util"),GP=require("fs");async function Xg(t,e,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await Sj(GP[t])(r))[e]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function Qg(t,e,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return GP[t](r)[e]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}Eo.isFile=Xg.bind(null,"stat","isFile");Eo.isDirectory=Xg.bind(null,"stat","isDirectory");Eo.isSymlink=Xg.bind(null,"lstat","isSymbolicLink");Eo.isFileSync=Qg.bind(null,"statSync","isFile");Eo.isDirectorySync=Qg.bind(null,"statSync","isDirectory");Eo.isSymlinkSync=Qg.bind(null,"lstatSync","isSymbolicLink")});var QP=S((sue,Zg)=>{"use strict";var xo=require("path"),VP=KP(),WP=t=>t.length>1?`{${t.join(",")}}`:t[0],YP=(t,e)=>{let r=t[0]==="!"?t.slice(1):t;return xo.isAbsolute(r)?r:xo.join(e,r)},wj=(t,e)=>xo.extname(t)?`**/${t}`:`**/${t}.${WP(e)}`,XP=(t,e)=>{if(e.files&&!Array.isArray(e.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof e.files}\``);if(e.extensions&&!Array.isArray(e.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof e.extensions}\``);return e.files&&e.extensions?e.files.map(r=>xo.posix.join(t,wj(r,e.extensions))):e.files?e.files.map(r=>xo.posix.join(t,`**/${r}`)):e.extensions?[xo.posix.join(t,`**/*.${WP(e.extensions)}`)]:[xo.posix.join(t,"**")]};Zg.exports=async(t,e)=>{if(e={cwd:process.cwd(),...e},typeof e.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);let r=await Promise.all([].concat(t).map(async n=>await VP.isDirectory(YP(n,e.cwd))?XP(n,e):n));return[].concat.apply([],r)};Zg.exports.sync=(t,e)=>{if(e={cwd:process.cwd(),...e},typeof e.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof e.cwd}\``);let r=[].concat(t).map(n=>VP.isDirectorySync(YP(n,e.cwd))?XP(n,e):n);return[].concat.apply([],r)}});var aO=S((oue,iO)=>{function ZP(t){return Array.isArray(t)?t:[t]}var rO="",JP=" ",Jg="\\",bj=/^\s+$/,_j=/(?:[^\\]|^)\\$/,Rj=/^\\!/,Aj=/^\\#/,kj=/\r?\n/g,Tj=/^\.*\/|^\.+$/,eE="/",nO="node-ignore";typeof Symbol<"u"&&(nO=Symbol.for("node-ignore"));var eO=nO,Nj=(t,e,r)=>Object.defineProperty(t,e,{value:r}),vj=/([0-z])-([0-z])/g,sO=()=>!1,Pj=t=>t.replace(vj,(e,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?e:rO),Oj=t=>{let{length:e}=t;return t.slice(0,e-e%2)},Ij=[[/\\?\s+$/,t=>t.indexOf("\\")===0?JP:rO],[/\\\s/g,()=>JP],[/[\\$.|*+(){^]/g,t=>`\\${t}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(t,e,r)=>e+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(t,e,r)=>{let n=r.replace(/\\\*/g,"[^\\/]*");return e+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>Jg],[/\\\\/g,()=>Jg],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(t,e,r,n,s)=>e===Jg?`\\[${r}${Oj(n)}${s}`:s==="]"&&n.length%2===0?`[${Pj(r)}${n}]`:"[]"],[/(?:[^*])$/,t=>/\/$/.test(t)?`${t}$`:`${t}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(t,e)=>`${e?`${e}[^/]+`:"[^/]*"}(?=$|\\/$)`]],tO=Object.create(null),Dj=(t,e)=>{let r=tO[t];return r||(r=Ij.reduce((n,s)=>n.replace(s[0],s[1].bind(t)),t),tO[t]=r),e?new RegExp(r,"i"):new RegExp(r)},nE=t=>typeof t=="string",Bj=t=>t&&nE(t)&&!bj.test(t)&&!_j.test(t)&&t.indexOf("#")!==0,Mj=t=>t.split(kj),tE=class{constructor(e,r,n,s){this.origin=e,this.pattern=r,this.negative=n,this.regex=s}},Lj=(t,e)=>{let r=t,n=!1;t.indexOf("!")===0&&(n=!0,t=t.substr(1)),t=t.replace(Rj,"!").replace(Aj,"#");let s=Dj(t,e);return new tE(r,t,n,s)},Fj=(t,e)=>{throw new e(t)},_n=(t,e,r)=>nE(t)?t?_n.isNotRelative(t)?r(`path should be a \`path.relative()\`d string, but got "${e}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${e}\``,TypeError),oO=t=>Tj.test(t);_n.isNotRelative=oO;_n.convert=t=>t;var rE=class{constructor({ignorecase:e=!0,ignoreCase:r=e,allowRelativePaths:n=!1}={}){Nj(this,eO,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(e){if(e&&e[eO]){this._rules=this._rules.concat(e._rules),this._added=!0;return}if(Bj(e)){let r=Lj(e,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(e){return this._added=!1,ZP(nE(e)?Mj(e):e).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(e){return this.add(e)}_testOne(e,r){let n=!1,s=!1;return this._rules.forEach(o=>{let{negative:i}=o;if(s===i&&n!==s||i&&!n&&!s&&!r)return;o.regex.test(e)&&(n=!i,s=i)}),{ignored:n,unignored:s}}_test(e,r,n,s){let o=e&&_n.convert(e);return _n(o,e,this._allowRelativePaths?sO:Fj),this._t(o,r,n,s)}_t(e,r,n,s){if(e in r)return r[e];if(s||(s=e.split(eE)),s.pop(),!s.length)return r[e]=this._testOne(e,n);let o=this._t(s.join(eE)+eE,r,n,s);return r[e]=o.ignored?o:this._testOne(e,n)}ignores(e){return this._test(e,this._ignoreCache,!1).ignored}createFilter(){return e=>!this.ignores(e)}filter(e){return ZP(e).filter(this.createFilter())}test(e){return this._test(e,this._testCache,!0)}},Hu=t=>new rE(t),Uj=t=>_n(t&&_n.convert(t),t,sO);Hu.isPathValid=Uj;Hu.default=Hu;iO.exports=Hu;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let t=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");_n.convert=t;let e=/^[a-z]:\//i;_n.isNotRelative=r=>e.test(r)||oO(r)}});var dO=S((iue,cO)=>{"use strict";cO.exports=t=>{let e=/^\\\\\?\\/.test(t),r=/[^\u0000-\u0080]+/.test(t);return e||r?t:t.replace(/\\/g,"/")}});var yO=S((aue,sE)=>{"use strict";var{promisify:zj}=require("util"),lO=require("fs"),Rn=require("path"),uO=Yg(),$j=aO(),mc=dO(),fO=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],qj=zj(lO.readFile),Hj=t=>e=>e.startsWith("!")?"!"+Rn.posix.join(t,e.slice(1)):Rn.posix.join(t,e),jj=(t,e)=>{let r=mc(Rn.relative(e.cwd,Rn.dirname(e.fileName)));return t.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(Hj(r))},hO=t=>{let e=$j();for(let r of t)e.add(jj(r.content,{cwd:r.cwd,fileName:r.filePath}));return e},Gj=(t,e)=>{if(t=mc(t),Rn.isAbsolute(e)){if(mc(e).startsWith(t))return e;throw new Error(`Path ${e} is not in cwd ${t}`)}return Rn.join(t,e)},mO=(t,e)=>r=>t.ignores(mc(Rn.relative(e,Gj(e,r.path||r)))),Kj=async(t,e)=>{let r=Rn.join(e,t),n=await qj(r,"utf8");return{cwd:e,filePath:r,content:n}},Vj=(t,e)=>{let r=Rn.join(e,t),n=lO.readFileSync(r,"utf8");return{cwd:e,filePath:r,content:n}},pO=({ignore:t=[],cwd:e=mc(process.cwd())}={})=>({ignore:t,cwd:e});sE.exports=async t=>{t=pO(t);let e=await uO("**/.gitignore",{ignore:fO.concat(t.ignore),cwd:t.cwd}),r=await Promise.all(e.map(s=>Kj(s,t.cwd))),n=hO(r);return mO(n,t.cwd)};sE.exports.sync=t=>{t=pO(t);let r=uO.sync("**/.gitignore",{ignore:fO.concat(t.ignore),cwd:t.cwd}).map(s=>Vj(s,t.cwd)),n=hO(r);return mO(n,t.cwd)}});var EO=S((cue,gO)=>{"use strict";var{Transform:Wj}=require("stream"),ju=class extends Wj{constructor(){super({objectMode:!0})}},oE=class extends ju{constructor(e){super(),this._filter=e}_transform(e,r,n){this._filter(e)&&this.push(e),n()}},iE=class extends ju{constructor(){super(),this._pushed=new Set}_transform(e,r,n){this._pushed.has(e)||(this.push(e),this._pushed.add(e)),n()}};gO.exports={FilterStream:oE,UniqueStream:iE}});var bO=S((due,Co)=>{"use strict";var CO=require("fs"),Gu=oN(),Yj=hy(),Ku=Yg(),Vu=QP(),aE=yO(),{FilterStream:Xj,UniqueStream:Qj}=EO(),SO=()=>!1,xO=t=>t[0]==="!",Zj=t=>{if(!t.every(e=>typeof e=="string"))throw new TypeError("Patterns must be a string or an array of strings")},Jj=(t={})=>{if(!t.cwd)return;let e;try{e=CO.statSync(t.cwd)}catch{return}if(!e.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},eG=t=>t.stats instanceof CO.Stats?t.path:t,Wu=(t,e)=>{t=Gu([].concat(t)),Zj(t),Jj(e);let r=[];e={ignore:[],expandDirectories:!0,...e};for(let[n,s]of t.entries()){if(xO(s))continue;let o=t.slice(n).filter(a=>xO(a)).map(a=>a.slice(1)),i={...e,ignore:e.ignore.concat(o)};r.push({pattern:s,options:i})}return r},tG=(t,e)=>{let r={};return t.options.cwd&&(r.cwd=t.options.cwd),Array.isArray(t.options.expandDirectories)?r={...r,files:t.options.expandDirectories}:typeof t.options.expandDirectories=="object"&&(r={...r,...t.options.expandDirectories}),e(t.pattern,r)},cE=(t,e)=>t.options.expandDirectories?tG(t,e):[t.pattern],wO=t=>t&&t.gitignore?aE.sync({cwd:t.cwd,ignore:t.ignore}):SO,dE=t=>e=>{let{options:r}=t;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=Vu.sync(r.ignore)),{pattern:e,options:r}};Co.exports=async(t,e)=>{let r=Wu(t,e),n=async()=>e&&e.gitignore?aE({cwd:e.cwd,ignore:e.ignore}):SO,s=async()=>{let c=await Promise.all(r.map(async d=>{let l=await cE(d,Vu);return Promise.all(l.map(dE(d)))}));return Gu(...c)},[o,i]=await Promise.all([n(),s()]),a=await Promise.all(i.map(c=>Ku(c.pattern,c.options)));return Gu(...a).filter(c=>!o(eG(c)))};Co.exports.sync=(t,e)=>{let r=Wu(t,e),n=[];for(let i of r){let a=cE(i,Vu.sync).map(dE(i));n.push(...a)}let s=wO(e),o=[];for(let i of n)o=Gu(o,Ku.sync(i.pattern,i.options));return o.filter(i=>!s(i))};Co.exports.stream=(t,e)=>{let r=Wu(t,e),n=[];for(let a of r){let c=cE(a,Vu.sync).map(dE(a));n.push(...c)}let s=wO(e),o=new Xj(a=>!s(a)),i=new Qj;return Yj(n.map(a=>Ku.stream(a.pattern,a.options))).pipe(o).pipe(i)};Co.exports.generateGlobTasks=Wu;Co.exports.hasMagic=(t,e)=>[].concat(t).some(r=>Ku.isDynamicPattern(r,e));Co.exports.gitignore=aE});var _O=require("path"),RO=require("stream"),Ds=Gt(mf());var lx=async t=>{let e=(t==null?void 0:t.Bucket)||"";if(typeof t.Bucket=="string"&&(t.Bucket=e.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),fD(e)){if(t.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!uD(e)||e.indexOf(".")!==-1&&!String(t.Endpoint).startsWith("http:")||e.toLowerCase()!==e||e.length<3)&&(t.ForcePathStyle=!0);return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),t},cD=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,dD=/(\d+\.){3}\d+/,lD=/\.\./;var uD=t=>cD.test(t)&&!dD.test(t)&&!lD.test(t),fD=t=>{let[e,r,n,s,o,i]=t.split(":"),a=e==="arn"&&t.split(":").length>=6,c=[e,r,n,o,i].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);return e==="arn"&&!!r&&!!n&&!!o&&!!i};var ux=(t,e,r)=>{let n=async()=>{let s=r[t]??r[e];return typeof s=="function"?s():s};return t==="endpoint"||e==="endpoint"?async()=>{let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:a,path:c}=s;return`${o}//${i}${a?":"+a:""}${c}`}}return s}:n};var Pc=async(t,e,r,n)=>{let s=await hD(t,e,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},hD=async(t,e,r)=>{var o;let n={},s=((o=e==null?void 0:e.getEndpointParameterInstructions)==null?void 0:o.call(e))||{};for(let[i,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=t[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await ux(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await lx(n),n};function fx(t){let e={};if(t=t.replace(/^\?/,""),t)for(let r of t.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in e?Array.isArray(e[n])?e[n].push(s):e[n]=[e[n],s]:e[n]=s}return e}var _t=t=>{if(typeof t=="string")return _t(new URL(t));let{hostname:e,pathname:r,port:n,protocol:s,search:o}=t,i;return o&&(i=fx(o)),{hostname:e,port:n?parseInt(n):void 0,protocol:s,path:r,query:i}};var Oc=t=>typeof t=="object"?"url"in t?_t(t.url):t:_t(t);var hx=({config:t,instructions:e})=>(r,n)=>async s=>{var a,c;let o=await Pc(s.input,{getEndpointParameterInstructions(){return e}},{...t},n);n.endpointV2=o,n.authSchemes=(a=o.properties)==null?void 0:a.authSchemes;let i=(c=n.authSchemes)==null?void 0:c[0];return i&&(n.signing_region=i.signingRegion,n.signing_service=i.signingName),r({...s})};var mx=(t,e)=>(r,n)=>async s=>{let{response:o}=await r(s);try{let i=await e(o,t);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a}throw i}};var px=(t,e)=>(r,n)=>async s=>{var a;let o=(a=n.endpointV2)!=null&&a.url&&t.urlParser?async()=>t.urlParser(n.endpointV2.url):t.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let i=await e(s.input,{...t,endpoint:o});return r({...s,request:i})};var mD={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Sf={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Ve(t,e,r){return{applyToStack:n=>{n.add(mx(t,r),mD),n.add(px(t,e),Sf)}}}var pD={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Sf.name},We=(t,e)=>({applyToStack:r=>{r.addRelativeTo(hx({config:t,instructions:e}),pD)}});var rt=t=>{if(typeof t=="function")return t;let e=Promise.resolve(t);return()=>e};var On=t=>{let e=t.tls??!0,{endpoint:r}=t,n=r!=null?async()=>Oc(await rt(r)()):void 0;return{...t,endpoint:n,tls:e,isCustomEndpoint:!!r,useDualstackEndpoint:rt(t.useDualstackEndpoint??!1),useFipsEndpoint:rt(t.useFipsEndpoint??!1)}};var Cr=class{trace(){}debug(){}info(){}warn(){}error(){}};var No=()=>{let t=[],e=[],r=new Set,n=l=>l.sort((f,u)=>yx[u.step]-yx[f.step]||gx[u.priority||"normal"]-gx[f.priority||"normal"]),s=l=>{let f=!1,u=g=>g.name&&g.name===l?(f=!0,r.delete(l),!1):!0;return t=t.filter(u),e=e.filter(u),f},o=l=>{let f=!1,u=g=>g.middleware===l?(f=!0,g.name&&r.delete(g.name),!1):!0;return t=t.filter(u),e=e.filter(u),f},i=l=>(t.forEach(f=>{l.add(f.middleware,{...f})}),e.forEach(f=>{l.addRelativeTo(f.middleware,{...f})}),l),a=l=>{let f=[];return l.before.forEach(u=>{u.before.length===0&&u.after.length===0?f.push(u):f.push(...a(u))}),f.push(l),l.after.reverse().forEach(u=>{u.before.length===0&&u.after.length===0?f.push(u):f.push(...a(u))}),f},c=(l=!1)=>{let f=[],u=[],g={};return t.forEach(w=>{let R={...w,before:[],after:[]};R.name&&(g[R.name]=R),f.push(R)}),e.forEach(w=>{let R={...w,before:[],after:[]};R.name&&(g[R.name]=R),u.push(R)}),u.forEach(w=>{if(w.toMiddleware){let R=g[w.toMiddleware];if(R===void 0){if(l)return;throw new Error(`${w.toMiddleware} is not found when adding ${w.name||"anonymous"} middleware ${w.relation} ${w.toMiddleware}`)}w.relation==="after"&&R.after.push(w),w.relation==="before"&&R.before.push(w)}}),n(f).map(a).reduce((w,R)=>(w.push(...R),w),[])},d={add:(l,f={})=>{let{name:u,override:g}=f,y={step:"initialize",priority:"normal",middleware:l,...f};if(u){if(r.has(u)){if(!g)throw new Error(`Duplicate middleware name '${u}'`);let w=t.findIndex(B=>B.name===u),R=t[w];if(R.step!==y.step||R.priority!==y.priority)throw new Error(`"${u}" middleware with ${R.priority} priority in ${R.step} step cannot be overridden by same-name middleware with ${y.priority} priority in ${y.step} step.`);t.splice(w,1)}r.add(u)}t.push(y)},addRelativeTo:(l,f)=>{let{name:u,override:g}=f,y={middleware:l,...f};if(u){if(r.has(u)){if(!g)throw new Error(`Duplicate middleware name '${u}'`);let w=e.findIndex(B=>B.name===u),R=e[w];if(R.toMiddleware!==y.toMiddleware||R.relation!==y.relation)throw new Error(`"${u}" middleware ${R.relation} "${R.toMiddleware}" middleware cannot be overridden by same-name middleware ${y.relation} "${y.toMiddleware}" middleware.`);e.splice(w,1)}r.add(u)}e.push(y)},clone:()=>i(No()),use:l=>{l.applyToStack(d)},remove:l=>typeof l=="string"?s(l):o(l),removeByTag:l=>{let f=!1,u=g=>{let{tags:y,name:w}=g;return y&&y.includes(l)?(w&&r.delete(w),f=!0,!1):!0};return t=t.filter(u),e=e.filter(u),f},concat:l=>{let f=i(No());return f.use(l),f},applyToStack:i,identify:()=>c(!0).map(l=>l.name+": "+(l.tags||[]).join(",")),resolve:(l,f)=>{for(let u of c().map(g=>g.middleware).reverse())l=u(l,f);return l}};return d},yx={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},gx={high:3,normal:2,low:1};var Sr=class{constructor(e){this.middlewareStack=No(),this.config=e}send(e,r,n){let s=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,i=e.resolveMiddleware(this.middlewareStack,this.config,s);if(o)i(e).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(e).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};var Ue=class{constructor(){this.middlewareStack=No()}};var ze="***SensitiveInformation***";var ta=t=>{switch(t){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${t}"`)}};var yD=t=>{if(t!=null){if(typeof t=="string"){let e=parseFloat(t);if(!Number.isNaN(e))return String(e)!==String(t)&&_x.warn(bx(`Expected number but observed string: ${t}`)),e}if(typeof t=="number")return t;throw new TypeError(`Expected number, got ${typeof t}: ${t}`)}},gD=Math.ceil(34028234663852886e22),Ex=t=>{let e=yD(t);if(e!==void 0&&!Number.isNaN(e)&&e!==1/0&&e!==-1/0&&Math.abs(e)>gD)throw new TypeError(`Expected 32-bit float, got ${t}`);return e},Dc=t=>{if(t!=null){if(Number.isInteger(t)&&!Number.isNaN(t))return t;throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)}};var Ic=t=>wf(t,32),xx=t=>wf(t,16),Cx=t=>wf(t,8),wf=(t,e)=>{let r=Dc(t);if(r!==void 0&&ED(r,e)!==r)throw new TypeError(`Expected ${e}-bit integer, got ${t}`);return r},ED=(t,e)=>{switch(e){case 32:return Int32Array.of(t)[0];case 16:return Int16Array.of(t)[0];case 8:return Int8Array.of(t)[0]}},xt=(t,e)=>{if(t==null)throw e?new TypeError(`Expected a non-null value for ${e}`):new TypeError("Expected a non-null value");return t},Ls=t=>{if(t==null)return;if(typeof t=="object"&&!Array.isArray(t))return t;let e=Array.isArray(t)?"array":typeof t;throw new TypeError(`Expected object, got ${e}: ${t}`)},F=t=>{if(t!=null){if(typeof t=="string")return t;if(["boolean","number","bigint"].includes(typeof t))return _x.warn(bx(`Expected string, got ${typeof t}: ${t}`)),String(t);throw new TypeError(`Expected string, got ${typeof t}: ${t}`)}};var Sx=t=>Ex(typeof t=="string"?Bc(t):t),xD=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,Bc=t=>{let e=t.match(xD);if(e===null||e[0].length!==t.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(t)};var Mc=t=>Ic(typeof t=="string"?Bc(t):t),ra=t=>xx(typeof t=="string"?Bc(t):t),wx=t=>Cx(typeof t=="string"?Bc(t):t),bx=t=>String(new TypeError(t).stack||t).split(`
`).slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join(`
`),_x={warn:console.warn};var CD=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],_f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Rf(t){let e=t.getUTCFullYear(),r=t.getUTCMonth(),n=t.getUTCDay(),s=t.getUTCDate(),o=t.getUTCHours(),i=t.getUTCMinutes(),a=t.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,l=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${CD[n]}, ${c} ${_f[r]} ${e} ${d}:${l}:${f} GMT`}var e6=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var SD=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),Af=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let e=SD.exec(t);if(!e)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,d,l]=e,f=ra(na(n)),u=In(s,"month",1,12),g=In(o,"day",1,31),y=Lc(f,u,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&y.setTime(y.getTime()-OD(l)),y},wD=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),bD=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),_D=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Rx=t=>{if(t==null)return;if(typeof t!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let e=wD.exec(t);if(e){let[r,n,s,o,i,a,c,d]=e;return Lc(ra(na(o)),bf(s),In(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})}if(e=bD.exec(t),e){let[r,n,s,o,i,a,c,d]=e;return kD(Lc(RD(o),bf(s),In(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(e=_D.exec(t),e){let[r,n,s,o,i,a,c,d]=e;return Lc(ra(na(d)),bf(n),In(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")};var Lc=(t,e,r,n)=>{let s=e-1;return ND(t,s,r),new Date(Date.UTC(t,s,r,In(n.hours,"hour",0,23),In(n.minutes,"minute",0,59),In(n.seconds,"seconds",0,60),PD(n.fractionalMilliseconds)))},RD=t=>{let e=new Date().getUTCFullYear(),r=Math.floor(e/100)*100+ra(na(t));return r<e?r+100:r},AD=50*365*24*60*60*1e3,kD=t=>t.getTime()-new Date().getTime()>AD?new Date(Date.UTC(t.getUTCFullYear()-100,t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds())):t,bf=t=>{let e=_f.indexOf(t);if(e<0)throw new TypeError(`Invalid month: ${t}`);return e+1},TD=[31,28,31,30,31,30,31,31,30,31,30,31],ND=(t,e,r)=>{let n=TD[e];if(e===1&&vD(t)&&(n=29),r>n)throw new TypeError(`Invalid day for ${_f[e]} in ${t}: ${r}`)},vD=t=>t%4===0&&(t%100!==0||t%400===0),In=(t,e,r,n)=>{let s=wx(na(t));if(s<r||s>n)throw new TypeError(`${e} must be between ${r} and ${n}, inclusive`);return s},PD=t=>t==null?0:Sx("0."+t)*1e3,OD=t=>{let e=t[0],r=1;if(e=="+")r=1;else if(e=="-")r=-1;else throw new TypeError(`Offset direction, ${e}, must be "+" or "-"`);let n=Number(t.substring(1,3)),s=Number(t.substring(4,6));return r*(n*60+s)*60*1e3},na=t=>{let e=0;for(;e<t.length-1&&t.charAt(e)==="0";)e++;return e===0?t:t.slice(e)};var Yt=class extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,Yt.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}},ge=(t,e={})=>{Object.entries(e).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(t[n]==null||t[n]==="")&&(t[n]=s)});let r=t.message||t.Message||"UnknownError";return t.message=r,delete t.Message,t};var Mt=({output:t,parsedBody:e,exceptionCtor:r,errorCode:n})=>{let s=ID(t),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:(e==null?void 0:e.code)||(e==null?void 0:e.Code)||n||o||"UnknownError",$fault:"client",$metadata:s});throw ge(i,e)},ID=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]});var Dn=t=>{switch(t){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var Ax=!1,Bn=t=>{t&&!Ax&&parseInt(t.substring(1,t.indexOf(".")))<14&&(Ax=!0)};function Xr(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}var sa=t=>{let e="#text";for(let r in t)t.hasOwnProperty(r)&&t[r][e]!==void 0?t[r]=t[r][e]:typeof t[r]=="object"&&t[r]!==null&&(t[r]=sa(t[r]));return t};var kf=function(){let t=Object.getPrototypeOf(this).constructor,e=Function.bind.apply(String,[null,...arguments]),r=new e;return Object.setPrototypeOf(r,t.prototype),r};kf.prototype=Object.create(String.prototype,{constructor:{value:kf,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(kf,String);function Fs(t,e,r){let n,s,o;if(typeof e>"u"&&typeof r>"u")n={},o=t;else{if(n=t,typeof e=="function")return s=e,o=r,DD(n,s,o);o=e}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}BD(n,null,o,i)}return n}var DD=(t,e,r)=>Fs(t,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[e,o()]:n[s]=[e,o],n),{})),BD=(t,e,r,n)=>{if(e!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=MD,c=LD,d=n]=i;(typeof a=="function"&&a(e[d])||typeof a!="function"&&a)&&(t[n]=c(e[d]));return}let[s,o]=r[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?t[n]=i:c&&(t[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(t[n]=o)}},MD=t=>t!=null,LD=t=>t;var fr=(t,e,r,n,s,o)=>{if(e!=null&&e[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");t=t.replace(s,o?i.split("/").map(a=>Xr(a)).join("/"):Xr(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return t};var Tf;(function(t){t[t.HEADER=0]="HEADER",t[t.TRAILER=1]="TRAILER"})(Tf||(Tf={}));var te=class{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?e.protocol.slice(-1)!==":"?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?e.path.charAt(0)!=="/"?`/${e.path}`:e.path:"/"}static isInstance(e){if(!e)return!1;let r=e;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let e=new te({...this,headers:{...this.headers}});return e.query&&(e.query=FD(e.query)),e}};function FD(t){return Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{})}var Xt=class{constructor(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;let r=e;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function kx(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Tx(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var oa=class{constructor(e){this.value=e}toString(){return Tx(""+this.value)}};var Ye=class{static of(e,r,n){let s=new Ye(e);return r!==void 0&&s.addChildNode(new oa(r)),n!==void 0&&s.withName(n),s}constructor(e,r=[]){this.name=e,this.children=r,this.attributes={}}withName(e){return this.name=e,this}addAttribute(e,r){return this.attributes[e]=r,this}addChildNode(e){return this.children.push(e),this}removeAttribute(e){return delete this.attributes[e],this}toString(){let e=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];typeof o<"u"&&o!==null&&(r+=` ${s}="${kx(""+o)}"`)}return r+=e?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};var CC=Gt(Uf());var wr=class extends Yt{constructor(e){super(e),Object.setPrototypeOf(this,wr.prototype)}};var oC;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(oC||(oC={}));var iC;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(e.ObjectSizeGreaterThan):e.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(e.ObjectSizeLessThan):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(iC||(iC={}));var aC;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.AccessPointArn!==void 0?r.AccessPointArn(e.AccessPointArn):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(aC||(aC={}));var cC;(function(t){t.visit=(e,r)=>e.Prefix!==void 0?r.Prefix(e.Prefix):e.Tag!==void 0?r.Tag(e.Tag):e.And!==void 0?r.And(e.And):r._(e.$unknown[0],e.$unknown[1])})(cC||(cC={}));var dC=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:ze}}),lC=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:ze}});var uC=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:ze},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ze}}),fC=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:ze},...t.SSEKMSKeyId&&{SSEKMSKeyId:ze},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ze}});var hC=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:ze},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ze}}),mC=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:ze},...t.SSEKMSKeyId&&{SSEKMSKeyId:ze},...t.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:ze}});var pC;(function(t){t.visit=(e,r)=>e.Records!==void 0?r.Records(e.Records):e.Stats!==void 0?r.Stats(e.Stats):e.Progress!==void 0?r.Progress(e.Progress):e.Cont!==void 0?r.Cont(e.Cont):e.End!==void 0?r.End(e.End):r._(e.$unknown[0],e.$unknown[1])})(pC||(pC={}));var yC=t=>({...t,...t.SSEKMSKeyId&&{SSEKMSKeyId:ze}}),gC=t=>({...t,...t.SSECustomerKey&&{SSECustomerKey:ze}});var SC=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=Ct({},Lt,{"content-type":"application/xml","x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,"x-amz-request-payer":t.RequestPayer,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=fr(a,t,"Bucket",()=>t.Bucket,"{Bucket}",!1),a=fr(a,t,"Key",()=>t.Key,"{Key+}",!0);let c=Ct({"x-id":[,"CompleteMultipartUpload"],uploadId:[,xt(t.UploadId,"UploadId")]}),d;t.MultipartUpload!==void 0&&(d=EC(t.MultipartUpload,e));let l;return t.MultipartUpload!==void 0&&(l=EC(t.MultipartUpload,e),l=l.withName("CompleteMultipartUpload"),d='<?xml version="1.0" encoding="UTF-8"?>',l.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=l.toString()),new te({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:d})};var wC=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=Ct({},Lt,{"x-amz-acl":t.ACL,"cache-control":t.CacheControl,"content-disposition":t.ContentDisposition,"content-encoding":t.ContentEncoding,"content-language":t.ContentLanguage,"content-type":t.ContentType,expires:[()=>Lt(t.Expires),()=>Rf(t.Expires).toString()],"x-amz-grant-full-control":t.GrantFullControl,"x-amz-grant-read":t.GrantRead,"x-amz-grant-read-acp":t.GrantReadACP,"x-amz-grant-write-acp":t.GrantWriteACP,"x-amz-server-side-encryption":t.ServerSideEncryption,"x-amz-storage-class":t.StorageClass,"x-amz-website-redirect-location":t.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":t.SSEKMSKeyId,"x-amz-server-side-encryption-context":t.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>Lt(t.BucketKeyEnabled),()=>t.BucketKeyEnabled.toString()],"x-amz-request-payer":t.RequestPayer,"x-amz-tagging":t.Tagging,"x-amz-object-lock-mode":t.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>Lt(t.ObjectLockRetainUntilDate),()=>(t.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":t.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,"x-amz-checksum-algorithm":t.ChecksumAlgorithm,...t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((l,f)=>(l[`x-amz-meta-${f.toLowerCase()}`]=t.Metadata[f],l),{})}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=fr(a,t,"Bucket",()=>t.Bucket,"{Bucket}",!1),a=fr(a,t,"Key",()=>t.Key,"{Key+}",!0);let c=Ct({uploads:[,""],"x-id":[,"CreateMultipartUpload"]}),d;return new te({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:d})};var bC=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=Ct({},Lt,{"content-type":t.ContentType||"application/octet-stream","x-amz-acl":t.ACL,"cache-control":t.CacheControl,"content-disposition":t.ContentDisposition,"content-encoding":t.ContentEncoding,"content-language":t.ContentLanguage,"content-length":[()=>Lt(t.ContentLength),()=>t.ContentLength.toString()],"content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,expires:[()=>Lt(t.Expires),()=>Rf(t.Expires).toString()],"x-amz-grant-full-control":t.GrantFullControl,"x-amz-grant-read":t.GrantRead,"x-amz-grant-read-acp":t.GrantReadACP,"x-amz-grant-write-acp":t.GrantWriteACP,"x-amz-server-side-encryption":t.ServerSideEncryption,"x-amz-storage-class":t.StorageClass,"x-amz-website-redirect-location":t.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":t.SSEKMSKeyId,"x-amz-server-side-encryption-context":t.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>Lt(t.BucketKeyEnabled),()=>t.BucketKeyEnabled.toString()],"x-amz-request-payer":t.RequestPayer,"x-amz-tagging":t.Tagging,"x-amz-object-lock-mode":t.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>Lt(t.ObjectLockRetainUntilDate),()=>(t.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":t.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,...t.Metadata!==void 0&&Object.keys(t.Metadata).reduce((f,u)=>(f[`x-amz-meta-${u.toLowerCase()}`]=t.Metadata[u],f),{})}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=fr(a,t,"Bucket",()=>t.Bucket,"{Bucket}",!1),a=fr(a,t,"Key",()=>t.Key,"{Key+}",!0);let c=Ct({"x-id":[,"PutObject"]}),d;t.Body!==void 0&&(d=t.Body);let l;return t.Body!==void 0&&(l=t.Body,d=l),new te({protocol:n,hostname:r,port:s,method:"PUT",headers:i,path:a,query:c,body:d})};var _C=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=Ct({},Lt,{"content-type":"application/xml","content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner,"x-amz-request-payer":t.RequestPayer}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=fr(a,t,"Bucket",()=>t.Bucket,"{Bucket}",!1),a=fr(a,t,"Key",()=>t.Key,"{Key+}",!0);let c=Ct({tagging:[,""],versionId:[,t.VersionId]}),d;t.Tagging!==void 0&&(d=xC(t.Tagging,e));let l;return t.Tagging!==void 0&&(l=xC(t.Tagging,e),d='<?xml version="1.0" encoding="UTF-8"?>',l.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=l.toString()),new te({protocol:n,hostname:r,port:s,method:"PUT",headers:i,path:a,query:c,body:d})};var RC=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=Ct({},Lt,{"content-type":"application/octet-stream","content-length":[()=>Lt(t.ContentLength),()=>t.ContentLength.toString()],"content-md5":t.ContentMD5,"x-amz-sdk-checksum-algorithm":t.ChecksumAlgorithm,"x-amz-checksum-crc32":t.ChecksumCRC32,"x-amz-checksum-crc32c":t.ChecksumCRC32C,"x-amz-checksum-sha1":t.ChecksumSHA1,"x-amz-checksum-sha256":t.ChecksumSHA256,"x-amz-server-side-encryption-customer-algorithm":t.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":t.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":t.SSECustomerKeyMD5,"x-amz-request-payer":t.RequestPayer,"x-amz-expected-bucket-owner":t.ExpectedBucketOwner}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=fr(a,t,"Bucket",()=>t.Bucket,"{Bucket}",!1),a=fr(a,t,"Key",()=>t.Key,"{Key+}",!0);let c=Ct({"x-id":[,"UploadPart"],partNumber:[xt(t.PartNumber,"PartNumber")!=null,()=>t.PartNumber.toString()],uploadId:[,xt(t.UploadId,"UploadId")]}),d;t.Body!==void 0&&(d=t.Body);let l;return t.Body!==void 0&&(l=t.Body,d=l),new te({protocol:n,hostname:r,port:s,method:"PUT",headers:i,path:a,query:c,body:d})};var AC=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return zB(t,e);let r=Ct({$metadata:ca(t),Expiration:[,t.headers["x-amz-expiration"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],VersionId:[,t.headers["x-amz-version-id"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>t.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>ta(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,t.headers["x-amz-request-charged"]]}),n=xt(Ls(await zf(t.body,e)),"body");return n.Bucket!==void 0&&(r.Bucket=F(n.Bucket)),n.ChecksumCRC32!==void 0&&(r.ChecksumCRC32=F(n.ChecksumCRC32)),n.ChecksumCRC32C!==void 0&&(r.ChecksumCRC32C=F(n.ChecksumCRC32C)),n.ChecksumSHA1!==void 0&&(r.ChecksumSHA1=F(n.ChecksumSHA1)),n.ChecksumSHA256!==void 0&&(r.ChecksumSHA256=F(n.ChecksumSHA256)),n.ETag!==void 0&&(r.ETag=F(n.ETag)),n.Key!==void 0&&(r.Key=F(n.Key)),n.Location!==void 0&&(r.Location=F(n.Location)),r},zB=async(t,e)=>{let r={...t,body:await da(t.body,e)},n=la(t,r.body),s=r.body;Mt({output:t,parsedBody:s,exceptionCtor:wr,errorCode:n})};var kC=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return $B(t,e);let r=Ct({$metadata:ca(t),AbortDate:[()=>t.headers["x-amz-abort-date"]!==void 0,()=>xt(Rx(t.headers["x-amz-abort-date"]))],AbortRuleId:[,t.headers["x-amz-abort-rule-id"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,t.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>t.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>ta(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,t.headers["x-amz-request-charged"]],ChecksumAlgorithm:[,t.headers["x-amz-checksum-algorithm"]]}),n=xt(Ls(await zf(t.body,e)),"body");return n.Bucket!==void 0&&(r.Bucket=F(n.Bucket)),n.Key!==void 0&&(r.Key=F(n.Key)),n.UploadId!==void 0&&(r.UploadId=F(n.UploadId)),r},$B=async(t,e)=>{let r={...t,body:await da(t.body,e)},n=la(t,r.body),s=r.body;Mt({output:t,parsedBody:s,exceptionCtor:wr,errorCode:n})};var TC=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return qB(t,e);let r=Ct({$metadata:ca(t),Expiration:[,t.headers["x-amz-expiration"]],ETag:[,t.headers.etag],ChecksumCRC32:[,t.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,t.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,t.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,t.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],VersionId:[,t.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,t.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>t.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>ta(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,t.headers["x-amz-request-charged"]]});return await Fc(t.body,e),r},qB=async(t,e)=>{let r={...t,body:await da(t.body,e)},n=la(t,r.body),s=r.body;Mt({output:t,parsedBody:s,exceptionCtor:wr,errorCode:n})};var NC=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return HB(t,e);let r=Ct({$metadata:ca(t),VersionId:[,t.headers["x-amz-version-id"]]});return await Fc(t.body,e),r},HB=async(t,e)=>{let r={...t,body:await da(t.body,e)},n=la(t,r.body),s=r.body;Mt({output:t,parsedBody:s,exceptionCtor:wr,errorCode:n})};var vC=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return jB(t,e);let r=Ct({$metadata:ca(t),ServerSideEncryption:[,t.headers["x-amz-server-side-encryption"]],ETag:[,t.headers.etag],ChecksumCRC32:[,t.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,t.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,t.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,t.headers["x-amz-checksum-sha256"]],SSECustomerAlgorithm:[,t.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,t.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,t.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>t.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>ta(t.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,t.headers["x-amz-request-charged"]]});return await Fc(t.body,e),r},jB=async(t,e)=>{let r={...t,body:await da(t.body,e)},n=la(t,r.body),s=r.body;Mt({output:t,parsedBody:s,exceptionCtor:wr,errorCode:n})};var Ct=Fs;var EC=(t,e)=>{let r=new Ye("CompletedMultipartUpload");return t.Parts!=null&&KB(t.Parts,e).map(s=>{s=s.withName("Part"),r.addChildNode(s)}),r},GB=(t,e)=>{let r=new Ye("CompletedPart");if(t.ETag!=null){let n=Ye.of("ETag",t.ETag).withName("ETag");r.addChildNode(n)}if(t.ChecksumCRC32!=null){let n=Ye.of("ChecksumCRC32",t.ChecksumCRC32).withName("ChecksumCRC32");r.addChildNode(n)}if(t.ChecksumCRC32C!=null){let n=Ye.of("ChecksumCRC32C",t.ChecksumCRC32C).withName("ChecksumCRC32C");r.addChildNode(n)}if(t.ChecksumSHA1!=null){let n=Ye.of("ChecksumSHA1",t.ChecksumSHA1).withName("ChecksumSHA1");r.addChildNode(n)}if(t.ChecksumSHA256!=null){let n=Ye.of("ChecksumSHA256",t.ChecksumSHA256).withName("ChecksumSHA256");r.addChildNode(n)}if(t.PartNumber!=null){let n=Ye.of("PartNumber",String(t.PartNumber)).withName("PartNumber");r.addChildNode(n)}return r},KB=(t,e)=>t.filter(r=>r!=null).map(r=>GB(r,e).withName("member"));var VB=(t,e)=>{let r=new Ye("Tag");if(t.Key!=null){let n=Ye.of("ObjectKey",t.Key).withName("Key");r.addChildNode(n)}if(t.Value!=null){let n=Ye.of("Value",t.Value).withName("Value");r.addChildNode(n)}return r},xC=(t,e)=>{let r=new Ye("Tagging");if(t.TagSet!=null){let n=WB(t.TagSet,e),s=new Ye("TagSet");n.map(o=>{s.addChildNode(o)}),r.addChildNode(s)}return r},WB=(t,e)=>t.filter(r=>r!=null).map(r=>VB(r,e).withName("Tag"));var ca=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),Fc=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),YB=(t,e)=>Fc(t,e).then(r=>e.utf8Encoder(r)),Lt=t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),zf=(t,e)=>YB(t,e).then(r=>{if(r.length){let n=new CC.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s=n.parse(r),o="#text",i=Object.keys(s)[0],a=s[i];return a[o]&&(a[i]=a[o],delete a[o]),sa(a)}return{}}),da=async(t,e)=>{let r=await zf(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},la=(t,e)=>{if((e==null?void 0:e.Code)!==void 0)return e.Code;if(t.statusCode==404)return"NotFound"};var XB="content-length";function QB(){return(t,e)=>async r=>{var s;let{request:n}=r;if(te.isInstance(n)&&!n.headers[XB]){let o="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((s=e==null?void 0:e.logger)==null?void 0:s.warn)=="function"?e.logger.warn(o):console.warn(o)}return t({...r})}}var ZB={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},PC=t=>({applyToStack:e=>{e.add(QB(),ZB)}});var OC=t=>({...t,forcePathStyle:t.forcePathStyle??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1});var JB=t=>e=>async r=>{let n=await e(r),{response:s}=n;if(!Xt.isInstance(s))return n;let{statusCode:o,body:i}=s;if(o<200||o>=300)return n;let a=await IC(i,t),c=await e1(a,t);if(a.length===0){let d=new Error("S3 aborted request");throw d.name="InternalError",d}return c&&c.match("<Error>")&&(s.statusCode=400),s.body=a,n},IC=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),e1=(t,e)=>IC(t,e).then(r=>e.utf8Encoder(r)),t1={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},DC=t=>({applyToStack:e=>{e.addRelativeTo(JB(t),t1)}});var $f=t=>typeof t=="string"&&t.indexOf("arn:")===0&&t.split(":").length>=6;function r1(){return t=>async e=>{let{input:{Bucket:r}}=e;if(typeof r=="string"&&!$f(r)&&r.indexOf("/")>=0){let n=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw n.name="InvalidBucketName",n}return t({...e})}}var n1={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},BC=t=>({applyToStack:e=>{e.add(r1(),n1)}});function s1(t){return e=>async r=>{let n={...r.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of s){let i=n[o.target];if(i){let a=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):typeof i=="string"?t.utf8Decoder(i):new Uint8Array(i),c=t.base64Encoder(a),d=new t.md5;d.update(a),n={...n,[o.target]:c,[o.hash]:t.base64Encoder(await d.digest())}}}return e({...r,input:n})}}var o1={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},Ln=t=>({applyToStack:e=>{e.add(s1(t),o1)}});var vo=class extends Ue{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(Ve(r,this.serialize,this.deserialize)),this.middlewareStack.use(We(r,vo.getEndpointParameterInstructions())),this.middlewareStack.use(DC(r)),this.middlewareStack.use(Ln(r));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:lC,outputFilterSensitiveLog:dC},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return SC(e,r)}deserialize(e,r){return AC(e,r)}};var Po=class extends Ue{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(Ve(r,this.serialize,this.deserialize)),this.middlewareStack.use(We(r,Po.getEndpointParameterInstructions())),this.middlewareStack.use(Ln(r));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:fC,outputFilterSensitiveLog:uC},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return wC(e,r)}deserialize(e,r){return kC(e,r)}};var Ie;(function(t){t.MD5="MD5",t.CRC32="CRC32",t.CRC32C="CRC32C",t.SHA1="SHA1",t.SHA256="SHA256"})(Ie||(Ie={}));var MC;(function(t){t.HEADER="header",t.TRAILER="trailer"})(MC||(MC={}));var ua=[Ie.CRC32,Ie.CRC32C,Ie.SHA1,Ie.SHA256],LC=[Ie.CRC32,Ie.CRC32C,Ie.SHA1,Ie.SHA256];var FC=(t,{requestChecksumRequired:e,requestAlgorithmMember:r})=>{if(!r||!t[r])return e?Ie.MD5:void 0;let n=t[r];if(!ua.includes(n))throw new Error(`The checksum algorithm "${n}" is not supported by the client. Select one of ${ua}.`);return n};var Uc=t=>t===Ie.MD5?"content-md5":`x-amz-checksum-${t.toLowerCase()}`;var UC=(t,e)=>{let r=t.toLowerCase();for(let n of Object.keys(e))if(r===n.toLowerCase())return!0;return!1};var Oo=t=>typeof ArrayBuffer=="function"&&t instanceof ArrayBuffer||Object.prototype.toString.call(t)==="[object ArrayBuffer]";var zc=t=>t!==void 0&&typeof t!="string"&&!ArrayBuffer.isView(t)&&!Oo(t);var cS=Gt(ma()),dS=Gt(eh());var Vc=(t,e)=>({[Ie.MD5]:e.md5,[Ie.CRC32]:cS.AwsCrc32,[Ie.CRC32C]:dS.AwsCrc32c,[Ie.SHA1]:e.sha1,[Ie.SHA256]:e.sha256})[t];var Wc=require("buffer"),Zr=(t,e=0,r=t.byteLength-e)=>{if(!Oo(t))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof t} (${t})`);return Wc.Buffer.from(t,e,r)},Io=(t,e)=>{if(typeof t!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof t} (${t})`);return e?Wc.Buffer.from(t,e):Wc.Buffer.from(t)};var _r=t=>{let e=Io(t,"utf8");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var At=t=>typeof t=="string"?_r(t):ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(t);var zn=t=>Zr(t.buffer,t.byteOffset,t.byteLength).toString("utf8");var Yc=(t,e)=>{let r=new t;return r.update(At(e||"")),r.digest()};var lS=async(t,{streamHasher:e,checksumAlgorithmFn:r,base64Encoder:n})=>{let s=zc(t)?e(r,t):Yc(r,t);return n(await s)};var uS=(t=[])=>{let e=[];for(let r of LC)!t.includes(r)||!ua.includes(r)||e.push(r);return e};var fS=async(t,{config:e,responseAlgorithms:r})=>{let n=uS(r),{body:s,headers:o}=t;for(let i of n){let a=Uc(i),c=o[a];if(c){let d=Vc(i,e),{streamHasher:l,base64Encoder:f}=e,u=await lS(s,{streamHasher:l,checksumAlgorithmFn:d,base64Encoder:f});if(u===c)break;throw new Error(`Checksum mismatch: expected "${u}" but received "${c}" in response header "${a}".`)}}};var hS=(t,e)=>r=>async n=>{if(!te.isInstance(n.request))return r(n);let{request:s}=n,{body:o,headers:i}=s,{base64Encoder:a,streamHasher:c}=t,{input:d,requestChecksumRequired:l,requestAlgorithmMember:f}=e,u=FC(d,{requestChecksumRequired:l,requestAlgorithmMember:f}),g=o,y=i;if(u){let re=Uc(u),Q=Vc(u,t);if(zc(o)){let{getAwsChunkedEncodingStream:Le,bodyLengthChecker:X}=t;g=Le(o,{base64Encoder:a,bodyLengthChecker:X,checksumLocationName:re,checksumAlgorithmFn:Q,streamHasher:c}),y={...i,"content-encoding":i["content-encoding"]?`${i["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":i["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":re},delete y["content-length"]}else if(!UC(re,i)){let Le=await Yc(Q,o);y={...i,[re]:a(Le)}}}let w=await r({...n,request:{...s,headers:y,body:g}}),{requestValidationModeMember:R,responseAlgorithms:B}=e;return R&&d[R]==="ENABLED"&&fS(w.response,{config:t,responseAlgorithms:B}),w};var yM={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},Do=(t,e)=>({applyToStack:r=>{r.add(hS(t,e),yM)}});var zs=class extends Ue{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(Ve(r,this.serialize,this.deserialize)),this.middlewareStack.use(We(r,zs.getEndpointParameterInstructions())),this.middlewareStack.use(PC(r)),this.middlewareStack.use(Ln(r)),this.middlewareStack.use(Do(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:mC,outputFilterSensitiveLog:hC},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return bC(e,r)}deserialize(e,r){return TC(e,r)}};var Bo=class extends Ue{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(Ve(r,this.serialize,this.deserialize)),this.middlewareStack.use(We(r,Bo.getEndpointParameterInstructions())),this.middlewareStack.use(Do(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"PutObjectTaggingCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return _C(e,r)}deserialize(e,r){return NC(e,r)}};var Mo=class extends Ue{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(Ve(r,this.serialize,this.deserialize)),this.middlewareStack.use(We(r,Mo.getEndpointParameterInstructions())),this.middlewareStack.use(Ln(r)),this.middlewareStack.use(Do(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:gC,outputFilterSensitiveLog:yC},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return RC(e,r)}deserialize(e,r){return vC(e,r)}};var Qt;(function(t){t.ENV="env",t.CONFIG="shared config entry"})(Qt||(Qt={}));var Rr=(t,e,r)=>{if(e in t){if(t[e]==="true")return!0;if(t[e]==="false")return!1;throw new Error(`Cannot load ${r} "${e}". Expected "true" or "false", got ${t[e]}.`)}};var gM="AWS_USE_DUALSTACK_ENDPOINT",EM="use_dualstack_endpoint";var $n={environmentVariableSelector:t=>Rr(t,gM,Qt.ENV),configFileSelector:t=>Rr(t,EM,Qt.CONFIG),default:!1};var xM="AWS_USE_FIPS_ENDPOINT",CM="use_fips_endpoint";var qn={environmentVariableSelector:t=>Rr(t,xM,Qt.ENV),configFileSelector:t=>Rr(t,CM,Qt.CONFIG),default:!1};var SM="AWS_REGION",wM="region",Ar={environmentVariableSelector:t=>t[SM],configFileSelector:t=>t[wM],default:()=>{throw new Error("Region is missing")}},Hn={preferredFile:"credentials"};var Xc=t=>typeof t=="string"&&(t.startsWith("fips-")||t.endsWith("-fips"));var th=t=>Xc(t)?["fips-aws-global","aws-fips"].includes(t)?"us-east-1":t.replace(/fips-(dkr-|prod-)?|-fips/,""):t;var jn=t=>{let{region:e,useFipsEndpoint:r}=t;if(!e)throw new Error("Region is missing");return{...t,region:async()=>{if(typeof e=="string")return th(e);let n=await e();return th(n)},useFipsEndpoint:async()=>{let n=typeof e=="string"?e:await e();return Xc(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};var mS=t=>({...t,eventStreamMarshaller:t.eventStreamSerdeProvider(t)});var pS="content-length";function bM(t){return e=>async r=>{let n=r.request;if(te.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(pS)===-1)try{let i=t(s);n.headers={...n.headers,[pS]:String(i)}}catch{}}return e({...r,request:n})}}var _M={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Gn=t=>({applyToStack:e=>{e.add(bM(t.bodyLengthChecker),_M)}});function RM(t){return e=>async r=>{let{request:n}=r;return te.isInstance(n)&&n.body&&t.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),e({...r,request:n})}}var AM={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},yS=t=>({applyToStack:e=>{e.add(RM(t),AM)}});var kM=t=>e=>async r=>{if(!te.isInstance(r.request))return e(r);let{request:n}=r,{handlerProtocol:s=""}=t.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]="";else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return e(r)},TM={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Kn=t=>({applyToStack:e=>{e.add(kM(t),TM)}});var NM=()=>(t,e)=>async r=>{var n,s;try{let o=await t(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=e,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:f}=d,u=l??e.inputFilterSensitiveLog,g=f??e.outputFilterSensitiveLog,{$metadata:y,...w}=o.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:i,commandName:a,input:u(r.input),output:g(w),metadata:y}),o}catch(o){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=e,{overrideInputFilterSensitiveLog:l}=d,f=l??e.inputFilterSensitiveLog;throw(s=c==null?void 0:c.error)==null||s.call(c,{clientName:i,commandName:a,input:f(r.input),error:o,metadata:o.$metadata}),o}},vM={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Vn=t=>({applyToStack:e=>{e.add(NM(),vM)}});var gS="X-Amzn-Trace-Id",PM="AWS_LAMBDA_FUNCTION_NAME",OM="_X_AMZN_TRACE_ID",IM=t=>e=>async r=>{let{request:n}=r;if(!te.isInstance(n)||t.runtime!=="node"||n.headers.hasOwnProperty(gS))return e(r);let s=process.env[PM],o=process.env[OM],i=a=>typeof a=="string"&&a.length>0;return i(s)&&i(o)&&(n.headers[gS]=o),e({...r,request:n})},DM={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Wn=t=>({applyToStack:e=>{e.add(IM(t),DM)}});var kr;(function(t){t.STANDARD="standard",t.ADAPTIVE="adaptive"})(kr||(kr={}));var $s=3,Tr="STANDARD";var ES=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],xS=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],CS=[500,502,503,504],SS=["ECONNRESET","EPIPE","ETIMEDOUT"];var Lo=t=>{var e,r;return((e=t.$metadata)==null?void 0:e.httpStatusCode)===429||ES.includes(t.name)||((r=t.$retryable)==null?void 0:r.throttling)==!0},Qc=t=>{var e;return xS.includes(t.name)||SS.includes((t==null?void 0:t.code)||"")||CS.includes(((e=t.$metadata)==null?void 0:e.httpStatusCode)||0)},wS=t=>{var e;if(((e=t.$metadata)==null?void 0:e.httpStatusCode)!==void 0){let r=t.$metadata.httpStatusCode;return 500<=r&&r<=599&&!Qc(t)}return!1};var ya=class{constructor(e){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(e==null?void 0:e.beta)??.7,this.minCapacity=(e==null?void 0:e.minCapacity)??1,this.minFillRate=(e==null?void 0:e.minFillRate)??.5,this.scaleConstant=(e==null?void 0:e.scaleConstant)??.4,this.smooth=(e==null?void 0:e.smooth)??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(e){if(this.enabled){if(this.refillTokenBucket(),e>this.currentCapacity){let r=(e-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-e}}refillTokenBucket(){let e=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=e;return}let r=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=e}updateClientSendingRate(e){let r;if(this.updateMeasuredRate(),Lo(e)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(e){return this.getPrecise(e*this.beta)}cubicSuccess(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let e=this.getCurrentTimeInSeconds(),r=Math.floor(e*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(e){return parseFloat(e.toFixed(8))}};var Zc="amz-sdk-invocation-id",Jc="amz-sdk-request";var bS=()=>{let t=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*t)),setDelayBase:n=>{t=n}}};var TS=(t,e,r,n)=>{let s=t,o=(n==null?void 0:n.retryCost)??5,i=(n==null?void 0:n.timeoutRetryCost)??10,a=(n==null?void 0:n.retryBackoffStrategy)??bS(),c=t,d=Math.min(2e4,e),l,f=r??0,u=Q=>Q==="TRANSIENT"?i:o,g=()=>f,y=()=>d,w=()=>l,R=Q=>u(Q)<=c;return{getRetryCount:g,getRetryDelay:y,getLastRetryCost:w,hasRetryTokens:R,getRetryTokenCount:Q=>{let Le=Q.errorType;if(!R(Le))throw new Error("No retry token available");let X=u(Le),Ce=Le==="THROTTLING"?500:100;a.setDelayBase(Ce);let J=a.computeNextBackoffDelay(f);if(Q.retryAfterHint){let K=Q.retryAfterHint.getTime()-Date.now();d=Math.max(K||0,J)}else d=J;return f++,l=X,c-=X,X},releaseRetryTokens:Q=>{c+=Q??1,c=Math.min(c,s)}}};var Uo=class{constructor(e){this.maxAttemptsProvider=e,this.mode=kr.STANDARD,this.retryToken=TS(500,100),this.maxAttemptsProvider=e}async acquireInitialRetryToken(e){return this.retryToken}async refreshRetryTokenForRetry(e,r){let n=await this.getMaxAttempts();if(this.shouldRetry(e,r,n))return e.getRetryTokenCount(r),e;throw new Error("No retry token available")}recordSuccess(e){this.retryToken.releaseRetryTokens(e.getLastRetryCost())}async getMaxAttempts(){let e;try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${$s}`),$s}}shouldRetry(e,r,n){return e.getRetryCount()<n&&e.hasRetryTokens(r.errorType)&&this.isRetryableError(r.errorType)}isRetryableError(e){return e==="THROTTLING"||e==="TRANSIENT"}};var td=class{constructor(e,r){this.maxAttemptsProvider=e,this.mode=kr.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new ya,this.standardRetryStrategy=new Uo(e)}async acquireInitialRetryToken(e){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(e)}async refreshRetryTokenForRetry(e,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(e,r)}recordSuccess(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}};var rh=t=>t instanceof Error?t:t instanceof Object?Object.assign(new Error,t):typeof t=="string"?new Error(t):new Error(`AWS SDK error wrapper for ${t}`);var vS="AWS_MAX_ATTEMPTS",PS="max_attempts",Yn={environmentVariableSelector:t=>{let e=t[vS];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Environment variable ${vS} mast be a number, got "${e}"`);return r},configFileSelector:t=>{let e=t[PS];if(!e)return;let r=parseInt(e);if(Number.isNaN(r))throw new Error(`Shared config file entry ${PS} mast be a number, got "${e}"`);return r},default:$s},Xn=t=>{let{retryStrategy:e}=t,r=rt(t.maxAttempts??$s);return{...t,maxAttempts:r,retryStrategy:async()=>e||(await rt(t.retryMode)()===kr.ADAPTIVE?new td(r):new Uo(r))}},BM="AWS_RETRY_MODE",MM="retry_mode",Qn={environmentVariableSelector:t=>t[BM],configFileSelector:t=>t[MM],default:Tr};nf();var LM=t=>(e,r)=>async n=>{let s=await t.retryStrategy(),o=await t.maxAttempts();if(FM(s)){s=s;let i=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:l}=n;for(te.isInstance(l)&&(l.headers[Zc]=Rc());;)try{te.isInstance(l)&&(l.headers[Jc]=`attempt=${c+1}; max=${o}`);let{response:f,output:u}=await e(n);return s.recordSuccess(i),u.$metadata.attempts=c+1,u.$metadata.totalRetryDelay=d,{response:f,output:u}}catch(f){let u=UM(f);a=rh(f);try{i=await s.refreshRetryTokenForRetry(i,u)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=i.getRetryCount();let g=i.getRetryDelay();d+=g,await new Promise(y=>setTimeout(y,g))}}else return s=s,s!=null&&s.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(e,n)},FM=t=>typeof t.acquireInitialRetryToken<"u"&&typeof t.refreshRetryTokenForRetry<"u"&&typeof t.recordSuccess<"u",UM=t=>{let e={errorType:zM(t)},r=qM(t.$response);return r&&(e.retryAfterHint=r),e},zM=t=>Lo(t)?"THROTTLING":Qc(t)?"TRANSIENT":wS(t)?"SERVER_ERROR":"CLIENT_ERROR",$M={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},Zn=t=>({applyToStack:e=>{e.add(LM(t),$M)}}),qM=t=>{if(!Xt.isInstance(t))return;let e=Object.keys(t.headers).find(o=>o.toLowerCase()==="retry-after");if(!e)return;let r=t.headers[e],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};var kt=class extends Error{constructor(e,r=!0){super(e),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,kt.prototype)}static from(e,r=!0){return Object.assign(new this(e.message,r),e)}};var $=class extends kt{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,$.prototype)}};var Tt=class extends kt{constructor(e,r=!0){super(e,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,Tt.prototype)}};function rd(...t){return()=>{let e=Promise.reject(new kt("No providers in chain"));for(let r of t)e=e.catch(n=>{if(n!=null&&n.tryNextLink)return r();throw n});return e}}var OS=t=>()=>Promise.resolve(t);var Jn=(t,e,r)=>{let n,s,o,i=!1,a=async()=>{s||(s=t());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return e===void 0?async c=>((!o||c!=null&&c.forceRefresh)&&(n=await a()),n):async c=>((!o||c!=null&&c.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(e(n)&&await a(),n))};var IS={},nh={};for(let t=0;t<256;t++){let e=t.toString(16).toLowerCase();e.length===1&&(e=`0${e}`),IS[t]=e,nh[e]=t}function DS(t){if(t.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let e=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2){let n=t.slice(r,r+2).toLowerCase();if(n in nh)e[r/2]=nh[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return e}function nt(t){let e="";for(let r=0;r<t.byteLength;r++)e+=IS[t[r]];return e}var BS="X-Amz-Algorithm",MS="X-Amz-Credential",sh="X-Amz-Date",LS="X-Amz-SignedHeaders",FS="X-Amz-Expires",oh="X-Amz-Signature",ih="X-Amz-Security-Token";var ah="authorization",ch=sh.toLowerCase(),HM="date",US=[ah,ch,HM],zS=oh.toLowerCase(),ga="x-amz-content-sha256",$S=ih.toLowerCase();var qS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},HS=/^proxy-/,jS=/^sec-/;var nd="AWS4-HMAC-SHA256";var GS="AWS4-HMAC-SHA256-PAYLOAD",KS="UNSIGNED-PAYLOAD",VS=50,dh="aws4_request",WS=60*60*24*7;var sd={},lh=[],od=(t,e,r)=>`${t}/${e}/${r}/${dh}`,XS=async(t,e,r,n,s)=>{let o=await YS(t,e.secretAccessKey,e.accessKeyId),i=`${r}:${n}:${s}:${nt(o)}:${e.sessionToken}`;if(i in sd)return sd[i];for(lh.push(i);lh.length>VS;)delete sd[lh.shift()];let a=`AWS4${e.secretAccessKey}`;for(let c of[r,n,s,dh])a=await YS(t,a,c);return sd[i]=a};var YS=(t,e,r)=>{let n=new t(e);return n.update(At(r)),n.digest()};var id=({headers:t},e,r)=>{let n={};for(let s of Object.keys(t).sort()){if(t[s]==null)continue;let o=s.toLowerCase();(o in qS||e!=null&&e.has(o)||HS.test(o)||jS.test(o))&&(!r||r&&!r.has(o))||(n[o]=t[s].trim().replace(/\s+/g," "))}return n};var Nr=t=>encodeURIComponent(t).replace(/[!'()*]/g,jM),jM=t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`;var uh=({query:t={}})=>{let e=[],r={};for(let n of Object.keys(t).sort()){if(n.toLowerCase()===zS)continue;e.push(n);let s=t[n];typeof s=="string"?r[n]=`${Nr(n)}=${Nr(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).sort().reduce((o,i)=>o.concat([`${Nr(n)}=${Nr(i)}`]),[]).join("&"))}return e.map(n=>r[n]).filter(n=>n).join("&")};var Ea=async({headers:t,body:e},r)=>{for(let n of Object.keys(t))if(n.toLowerCase()===ga)return t[n];if(e==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof e=="string"||ArrayBuffer.isView(e)||Oo(e)){let n=new r;return n.update(At(e)),nt(await n.digest())}return KS};var QS=(t,e)=>{t=t.toLowerCase();for(let r of Object.keys(e))if(t===r.toLowerCase())return!0;return!1};var ad=({headers:t,query:e,...r})=>({...r,headers:{...t},query:e?GM(e):void 0}),GM=t=>Object.keys(t).reduce((e,r)=>{let n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{});var fh=(t,e={})=>{var s;let{headers:r,query:n={}}=typeof t.clone=="function"?t.clone():ad(t);for(let o of Object.keys(r)){let i=o.toLowerCase();i.slice(0,6)==="x-amz-"&&!((s=e.unhoistableHeaders)!=null&&s.has(i))&&(n[o]=r[o],delete r[o])}return{...t,headers:r,query:n}};var cd=t=>{t=typeof t.clone=="function"?t.clone():ad(t);for(let e of Object.keys(t.headers))US.indexOf(e.toLowerCase())>-1&&delete t.headers[e];return t};var ZS=t=>KM(t).toISOString().replace(/\.\d{3}Z$/,"Z"),KM=t=>typeof t=="number"?new Date(t*1e3):typeof t=="string"?Number(t)?new Date(Number(t)*1e3):new Date(t):t;var qs=class{constructor({applyChecksum:e,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof e=="boolean"?e:!0,this.regionProvider=rt(n),this.credentialProvider=rt(r)}async presign(e,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,signingRegion:c,signingService:d}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);let f=c??await this.regionProvider(),{longDate:u,shortDate:g}=dd(n);if(s>WS)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=od(g,f,d??this.service),w=fh(cd(e),{unhoistableHeaders:i});l.sessionToken&&(w.query[ih]=l.sessionToken),w.query[BS]=nd,w.query[MS]=`${l.accessKeyId}/${y}`,w.query[sh]=u,w.query[FS]=s.toString(10);let R=id(w,o,a);return w.query[LS]=JS(R),w.query[oh]=await this.getSignature(u,y,this.getSigningKey(l,f,g,d),this.createCanonicalRequest(w,R,await Ea(e,this.sha256))),w}async sign(e,r){return typeof e=="string"?this.signString(e,r):e.headers&&e.payload?this.signEvent(e,r):this.signRequest(e,r)}async signEvent({headers:e,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:i}){let a=o??await this.regionProvider(),{shortDate:c,longDate:d}=dd(n),l=od(c,a,i??this.service),f=await Ea({headers:{},body:r},this.sha256),u=new this.sha256;u.update(e);let g=nt(await u.digest()),y=[GS,d,l,s,g,f].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:i})}async signString(e,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=n??await this.regionProvider(),{shortDate:a}=dd(r),c=new this.sha256(await this.getSigningKey(o,i,a,s));return c.update(At(e)),nt(await c.digest())}async signRequest(e,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=o??await this.regionProvider(),d=cd(e),{longDate:l,shortDate:f}=dd(r),u=od(f,c,i??this.service);d.headers[ch]=l,a.sessionToken&&(d.headers[$S]=a.sessionToken);let g=await Ea(d,this.sha256);!QS(ga,d.headers)&&this.applyChecksum&&(d.headers[ga]=g);let y=id(d,s,n),w=await this.getSignature(l,u,this.getSigningKey(a,c,f,i),this.createCanonicalRequest(d,y,g));return d.headers[ah]=`${nd} Credential=${a.accessKeyId}/${u}, SignedHeaders=${JS(y)}, Signature=${w}`,d}createCanonicalRequest(e,r,n){let s=Object.keys(r).sort();return`${e.method}
${this.getCanonicalPath(e)}
${uh(e)}
${s.map(o=>`${o}:${r[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(e,r,n){let s=new this.sha256;s.update(At(n));let o=await s.digest();return`${nd}
${e}
${r}
${nt(o)}`}getCanonicalPath({path:e}){if(this.uriEscapePath){let r=[];for(let o of e.split("/"))(o==null?void 0:o.length)!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${e!=null&&e.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(e!=null&&e.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return e}async getSignature(e,r,n,s){let o=await this.createStringToSign(e,r,s),i=new this.sha256(await n);return i.update(At(o)),nt(await i.digest())}getSigningKey(e,r,n,s){return XS(this.sha256,e,n,r,s||this.service)}validateResolvedCredentials(e){if(typeof e!="object"||typeof e.accessKeyId!="string"||typeof e.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},dd=t=>{let e=ZS(t).replace(/[\-:]/g,"");return{longDate:e,shortDate:e.slice(0,8)}},JS=t=>Object.keys(t).sort().join(";");var VM=3e5,ld=t=>{let e=t.credentials?WM(t.credentials):t.credentialDefaultProvider(t),{signingEscapePath:r=!0,systemClockOffset:n=t.systemClockOffset||0,sha256:s}=t,o;return t.signer?o=rt(t.signer):t.regionInfoProvider?o=()=>rt(t.region)().then(async i=>[await t.regionInfoProvider(i,{useFipsEndpoint:await t.useFipsEndpoint(),useDualstackEndpoint:await t.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;t.signingRegion=t.signingRegion||c||a,t.signingName=t.signingName||d||t.serviceId;let l={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r},f=t.signerConstructor||qs;return new f(l)}):o=async i=>{i=Object.assign({},{name:"sigv4",signingName:t.signingName||t.defaultSigningName,signingRegion:await rt(t.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;t.signingRegion=t.signingRegion||a,t.signingName=t.signingName||c||t.serviceId;let d={...t,credentials:e,region:t.signingRegion,service:t.signingName,sha256:s,uriEscapePath:r},l=t.signerConstructor||qs;return new l(d)},{...t,systemClockOffset:n,signingEscapePath:r,credentials:e,signer:o}};var WM=t=>typeof t=="function"?Jn(t,e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<VM,e=>e.expiration!==void 0):rt(t);var ud=t=>new Date(Date.now()+t);var ew=(t,e)=>Math.abs(ud(e).getTime()-t)>=3e5;var hh=(t,e)=>{let r=Date.parse(t);return ew(r,e)?r-Date.now():e};var YM=t=>(e,r)=>async function(n){var d,l,f,u;if(!te.isInstance(n.request))return e(n);let s=(f=(l=(d=r.endpointV2)==null?void 0:d.properties)==null?void 0:l.authSchemes)==null?void 0:f[0],o=(s==null?void 0:s.name)==="sigv4a"?(u=s==null?void 0:s.signingRegionSet)==null?void 0:u.join(","):void 0,i=await t.signer(s),a=await e({...n,request:await i.sign(n.request,{signingDate:ud(t.systemClockOffset),signingRegion:o||r.signing_region,signingService:r.signing_service})}).catch(g=>{let y=g.ServerTime??tw(g.$response);throw y&&(t.systemClockOffset=hh(y,t.systemClockOffset)),g}),c=tw(a.response);return c&&(t.systemClockOffset=hh(c,t.systemClockOffset)),a},tw=t=>{var e,r;return Xt.isInstance(t)?((e=t.headers)==null?void 0:e.date)??((r=t.headers)==null?void 0:r.Date):void 0},XM={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},fd=t=>({applyToStack:e=>{e.addRelativeTo(YM(t),XM)}});function es(t){return{...t,customUserAgent:typeof t.customUserAgent=="string"?[[t.customUserAgent]]:t.customUserAgent}}var mh={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],version:"1.1"};var rw=mh,nw="",ZM=t=>{let{partitions:e}=rw;for(let n of e){let{regions:s,outputs:o}=n;for(let[i,a]of Object.entries(s))if(i===t)return{...o,...a}}for(let n of e){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(t))return{...o}}let r=e.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},sw=(t,e="")=>{rw=t,nw=e},JM=()=>{sw(mh,"")},ph=()=>nw;var Jr="endpoints";function Zt(t){return typeof t!="object"||t==null?t:"ref"in t?`$${Zt(t.ref)}`:"fn"in t?`${t.fn}(${(t.argv||[]).map(Zt).join(", ")})`:JSON.stringify(t,null,2)}var _e=class extends Error{constructor(e){super(e),this.name="EndpointError"}};var xh={};So(xh,{aws:()=>yh,booleanEquals:()=>nL,getAttr:()=>gh,isSet:()=>sL,isValidHostLabel:()=>md,not:()=>oL,parseURL:()=>iL,stringEquals:()=>aL,substring:()=>cL,uriEncode:()=>dL});var yh={};So(yh,{getUserAgentPrefix:()=>ph,isVirtualHostableS3Bucket:()=>ow,parseArn:()=>rL,partition:()=>ZM,setPartitionInfo:()=>sw,useDefaultPartitionInfo:()=>JM});var eL=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),hd=t=>eL.test(t)||t.startsWith("[")&&t.endsWith("]");var tL=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),md=(t,e=!1)=>{if(!e)return tL.test(t);let r=t.split(".");for(let n of r)if(!md(n))return!1;return!0};var ow=(t,e=!1)=>{if(e){for(let r of t.split("."))if(!ow(r))return!1;return!0}return!(!md(t)||t.length<3||t.length>63||t!==t.toLowerCase()||hd(t))};var rL=t=>{let e=t.split(":");if(e.length<6)return null;let[r,n,s,o,i,...a]=e;return r!=="arn"||n===""||s===""||a[0]===""?null:{partition:n,service:s,region:o,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}};var nL=(t,e)=>t===e;var iw=t=>{let e=t.split("."),r=[];for(let n of e){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new _e(`Path: '${t}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new _e(`Invalid array index: '${o}' in path: '${t}'`);s!==0&&r.push(n.slice(0,s)),r.push(o)}else r.push(n)}return r};var gh=(t,e)=>iw(e).reduce((r,n)=>{if(typeof r!="object")throw new _e(`Index '${n}' in '${e}' not found in '${JSON.stringify(t)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},t);var sL=t=>t!=null;var oL=t=>!t;var aw;(function(t){t.HEADER="header",t.QUERY="query"})(aw||(aw={}));var cw;(function(t){t.AAAA="AAAA",t.A="A"})(cw||(cw={}));var zo;(function(t){t.HTTP="http",t.HTTPS="https"})(zo||(zo={}));var dw;(function(t){t.HTTP_0_9="http/0.9",t.HTTP_1_0="http/1.0",t.TDS_8_0="tds/8.0"})(dw||(dw={}));var Eh={[zo.HTTP]:80,[zo.HTTPS]:443},iL=t=>{let e=(()=>{try{if(t instanceof URL)return t;if(typeof t=="object"&&"hostname"in t){let{hostname:u,port:g,protocol:y="",path:w="",query:R={}}=t,B=new URL(`${y}//${u}${g?`:${g}`:""}${w}`);return B.search=Object.entries(R).map(([re,Q])=>`${re}=${Q}`).join("&"),B}return new URL(t)}catch{return null}})();if(!e)return console.error(`Unable to parse ${JSON.stringify(t)} as a whatwg URL.`),null;let r=e.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=e;if(a)return null;let c=i.slice(0,-1);if(!Object.values(zo).includes(c))return null;let d=hd(s),l=r.includes(`${n}:${Eh[c]}`)||typeof t=="string"&&t.includes(`${n}:${Eh[c]}`),f=`${n}${l?`:${Eh[c]}`:""}`;return{scheme:c,authority:f,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:d}};var aL=(t,e)=>t===e;var cL=(t,e,r,n)=>e>=r||t.length<r?null:n?t.substring(t.length-r,t.length-e):t.substring(e,r);var dL=t=>encodeURIComponent(t).replace(/[!*'()]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`);var pd=(t,e)=>{let r=[],n={...e.endpointParams,...e.referenceRecord},s=0;for(;s<t.length;){let o=t.indexOf("{",s);if(o===-1){r.push(t.slice(s));break}r.push(t.slice(s,o));let i=t.indexOf("}",o);if(i===-1){r.push(t.slice(o));break}t[o+1]==="{"&&t[i+1]==="}"&&(r.push(t.slice(o+1,i)),s=i+2);let a=t.substring(o+1,i);if(a.includes("#")){let[c,d]=a.split("#");r.push(gh(n[c],d))}else r.push(n[a]);s=i+1}return r.join("")};var lw=({ref:t},e)=>({...e.endpointParams,...e.referenceRecord})[t];var ts=(t,e,r)=>{if(typeof t=="string")return pd(t,r);if(t.fn)return yd(t,r);if(t.ref)return lw(t,r);throw new _e(`'${e}': ${String(t)} is not a string, function or reference.`)};var yd=({fn:t,argv:e},r)=>{let n=e.map(s=>["boolean","number"].includes(typeof s)?s:ts(s,"arg",r));return t.split(".").reduce((s,o)=>s[o],xh)(...n)};var uw=({assign:t,...e},r)=>{var s,o;if(t&&t in r.referenceRecord)throw new _e(`'${t}' is already defined in Reference Record.`);let n=yd(e,r);return(o=(s=r.logger)==null?void 0:s.debug)==null||o.call(s,Jr,`evaluateCondition: ${Zt(e)} = ${Zt(n)}`),{result:n===""?!0:!!n,...t!=null&&{toAssign:{name:t,value:n}}}};var $o=(t=[],e)=>{var n,s;let r={};for(let o of t){let{result:i,toAssign:a}=uw(o,{...e,referenceRecord:{...e.referenceRecord,...r}});if(!i)return{result:i};a&&(r[a.name]=a.value,(s=(n=e.logger)==null?void 0:n.debug)==null||s.call(n,Jr,`assign: ${a.name} := ${Zt(a.value)}`))}return{result:!0,referenceRecord:r}};var fw=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:s.map(o=>{let i=ts(o,"Header value entry",e);if(typeof i!="string")throw new _e(`Header '${n}' value '${i}' is not a string`);return i})}),{});var Ch=(t,e)=>{if(Array.isArray(t))return t.map(r=>Ch(r,e));switch(typeof t){case"string":return pd(t,e);case"object":if(t===null)throw new _e(`Unexpected endpoint property: ${t}`);return gd(t,e);case"boolean":return t;default:throw new _e(`Unexpected endpoint property type: ${typeof t}`)}};var gd=(t,e)=>Object.entries(t).reduce((r,[n,s])=>({...r,[n]:Ch(s,e)}),{});var hw=(t,e)=>{let r=ts(t,"Endpoint URL",e);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new _e(`Endpoint URL must be a string, got ${typeof r}`)};var mw=(t,e)=>{var l,f;let{conditions:r,endpoint:n}=t,{result:s,referenceRecord:o}=$o(r,e);if(!s)return;let i={...e,referenceRecord:{...e.referenceRecord,...o}},{url:a,properties:c,headers:d}=n;return(f=(l=e.logger)==null?void 0:l.debug)==null||f.call(l,Jr,`Resolving endpoint from template: ${Zt(n)}`),{...d!=null&&{headers:fw(d,i)},...c!=null&&{properties:gd(c,i)},url:hw(a,i)}};var pw=(t,e)=>{let{conditions:r,error:n}=t,{result:s,referenceRecord:o}=$o(r,e);if(s)throw new _e(ts(n,"Error",{...e,referenceRecord:{...e.referenceRecord,...o}}))};var yw=(t,e)=>{let{conditions:r,rules:n}=t,{result:s,referenceRecord:o}=$o(r,e);if(s)return Ed(n,{...e,referenceRecord:{...e.referenceRecord,...o}})};var Ed=(t,e)=>{for(let r of t)if(r.type==="endpoint"){let n=mw(r,e);if(n)return n}else if(r.type==="error")pw(r,e);else if(r.type==="tree"){let n=yw(r,e);if(n)return n}else throw new _e(`Unknown endpoint rule: ${r}`);throw new _e("Rules evaluation failed")};var rs=(t,e)=>{var d,l,f,u,g;let{endpointParams:r,logger:n}=e,{parameters:s,rules:o}=t;(l=(d=e.logger)==null?void 0:d.debug)==null||l.call(d,Jr,`Initial EndpointParams: ${Zt(r)}`);let i=Object.entries(s).filter(([,y])=>y.default!=null).map(([y,w])=>[y,w.default]);if(i.length>0)for(let[y,w]of i)r[y]=r[y]??w;let a=Object.entries(s).filter(([,y])=>y.required).map(([y])=>y);for(let y of a)if(r[y]==null)throw new _e(`Missing required parameter: '${y}'`);let c=Ed(o,{endpointParams:r,logger:n,referenceRecord:{}});if((f=e.endpointParams)!=null&&f.Endpoint)try{let y=new URL(e.endpointParams.Endpoint),{protocol:w,port:R}=y;c.url.protocol=w,c.url.port=R}catch{}return(g=(u=e.logger)==null?void 0:u.debug)==null||g.call(u,Jr,`Resolved endpoint: ${Zt(c)}`),c};var Sh="user-agent",xd="x-amz-user-agent",wh=" ",gw=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;var lL=t=>(e,r)=>async n=>{var u,g;let{request:s}=n;if(!te.isInstance(s))return e(n);let{headers:o}=s,i=((u=r==null?void 0:r.userAgent)==null?void 0:u.map(bh))||[],a=(await t.defaultUserAgentProvider()).map(bh),c=((g=t==null?void 0:t.customUserAgent)==null?void 0:g.map(bh))||[],d=ph(),l=(d?[d]:[]).concat([...a,...i,...c]).join(wh),f=[...a.filter(y=>y.startsWith("aws-sdk-")),...c].join(wh);return t.runtime!=="browser"?(f&&(o[xd]=o[xd]?`${o[Sh]} ${f}`:f),o[Sh]=l):o[xd]=l,e({...n,request:s})},bh=([t,e])=>{let r=t.indexOf("/"),n=t.substring(0,r),s=t.substring(r+1);return n==="api"&&(s=s.toLowerCase()),[n,s,e].filter(o=>o&&o.length>0).map(o=>o==null?void 0:o.replace(gw,"_")).join("/")},uL={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},ns=t=>({applyToStack:e=>{e.add(lL(t),uL)}});var Ew=t=>({...t,useFipsEndpoint:t.useFipsEndpoint??!1,useDualstackEndpoint:t.useDualstackEndpoint??!1,useAccelerateEndpoint:t.useAccelerateEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,disableMultiregionAccessPoints:t.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"});var xw={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.312.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.312.0","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/credential-provider-node":"3.310.0","@aws-sdk/eventstream-serde-browser":"3.310.0","@aws-sdk/eventstream-serde-config-resolver":"3.310.0","@aws-sdk/eventstream-serde-node":"3.310.0","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-blob-browser":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/hash-stream-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/md5-js":"3.310.0","@aws-sdk/middleware-bucket-endpoint":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-expect-continue":"3.310.0","@aws-sdk/middleware-flexible-checksums":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-location-constraint":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-sdk-s3":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-signing":"3.310.0","@aws-sdk/middleware-ssec":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.310.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.310.0","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/signature-v4-multi-region":"3.310.0","@aws-sdk/smithy-client":"3.310.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.310.0","@aws-sdk/util-defaults-mode-node":"3.310.0","@aws-sdk/util-endpoints":"3.310.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-stream-browser":"3.310.0","@aws-sdk/util-stream-node":"3.310.0","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0","@aws-sdk/util-waiter":"3.310.0","@aws-sdk/xml-builder":"3.310.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var Cw=Gt(Uf());var St=class extends Yt{constructor(e){super(e),Object.setPrototypeOf(this,St.prototype)}};var qo=class extends St{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,qo.prototype)}},Ho=class extends St{constructor(e){super({name:"MalformedPolicyDocumentException",$fault:"client",...e}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,Ho.prototype)}},jo=class extends St{constructor(e){super({name:"PackedPolicyTooLargeException",$fault:"client",...e}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,jo.prototype)}},Go=class extends St{constructor(e){super({name:"RegionDisabledException",$fault:"client",...e}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,Go.prototype)}},Ko=class extends St{constructor(e){super({name:"IDPRejectedClaimException",$fault:"client",...e}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,Ko.prototype)}},Vo=class extends St{constructor(e){super({name:"InvalidIdentityTokenException",$fault:"client",...e}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,Vo.prototype)}},Wo=class extends St{constructor(e){super({name:"IDPCommunicationErrorException",$fault:"client",...e}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,Wo.prototype)}};var Sw=async(t,e)=>{let r=Iw,n;return n=Bw({...EL(t,e),Action:"AssumeRole",Version:"2011-06-15"}),Ow(e,r,"/",void 0,n)};var ww=async(t,e)=>{let r=Iw,n;return n=Bw({...xL(t,e),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),Ow(e,r,"/",void 0,n)};var bw=async(t,e)=>{if(t.statusCode>=300)return hL(t,e);let r=await _h(t.body,e),n={};n=_L(r.AssumeRoleResult,e);let s={$metadata:en(t),...n};return Promise.resolve(s)},hL=async(t,e)=>{let r={...t,body:await Dw(t.body,e)},n=Mw(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Rw(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Aw(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await kw(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Tw(r,e);default:let s=r.body;Mt({output:t,parsedBody:s.Error,exceptionCtor:St,errorCode:n})}};var _w=async(t,e)=>{if(t.statusCode>=300)return mL(t,e);let r=await _h(t.body,e),n={};n=RL(r.AssumeRoleWithWebIdentityResult,e);let s={$metadata:en(t),...n};return Promise.resolve(s)},mL=async(t,e)=>{let r={...t,body:await Dw(t.body,e)},n=Mw(t,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Rw(r,e);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await pL(r,e);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await yL(r,e);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await gL(r,e);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Aw(r,e);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await kw(r,e);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Tw(r,e);default:let s=r.body;Mt({output:t,parsedBody:s.Error,exceptionCtor:St,errorCode:n})}};var Rw=async(t,e)=>{let r=t.body,n=AL(r.Error,e),s=new qo({$metadata:en(t),...n});return ge(s,r)},pL=async(t,e)=>{let r=t.body,n=kL(r.Error,e),s=new Wo({$metadata:en(t),...n});return ge(s,r)},yL=async(t,e)=>{let r=t.body,n=TL(r.Error,e),s=new Ko({$metadata:en(t),...n});return ge(s,r)};var gL=async(t,e)=>{let r=t.body,n=NL(r.Error,e),s=new Vo({$metadata:en(t),...n});return ge(s,r)},Aw=async(t,e)=>{let r=t.body,n=vL(r.Error,e),s=new Ho({$metadata:en(t),...n});return ge(s,r)},kw=async(t,e)=>{let r=t.body,n=PL(r.Error,e),s=new jo({$metadata:en(t),...n});return ge(s,r)},Tw=async(t,e)=>{let r=t.body,n=OL(r.Error,e),s=new Go({$metadata:en(t),...n});return ge(s,r)},EL=(t,e)=>{var n,s,o;let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.RoleSessionName!=null&&(r.RoleSessionName=t.RoleSessionName),t.PolicyArns!=null){let i=Nw(t.PolicyArns,e);((n=t.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(i).forEach(([a,c])=>{let d=`PolicyArns.${a}`;r[d]=c})}if(t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),t.Tags!=null){let i=bL(t.Tags,e);((s=t.Tags)==null?void 0:s.length)===0&&(r.Tags=[]),Object.entries(i).forEach(([a,c])=>{let d=`Tags.${a}`;r[d]=c})}if(t.TransitiveTagKeys!=null){let i=wL(t.TransitiveTagKeys,e);((o=t.TransitiveTagKeys)==null?void 0:o.length)===0&&(r.TransitiveTagKeys=[]),Object.entries(i).forEach(([a,c])=>{let d=`TransitiveTagKeys.${a}`;r[d]=c})}return t.ExternalId!=null&&(r.ExternalId=t.ExternalId),t.SerialNumber!=null&&(r.SerialNumber=t.SerialNumber),t.TokenCode!=null&&(r.TokenCode=t.TokenCode),t.SourceIdentity!=null&&(r.SourceIdentity=t.SourceIdentity),r};var xL=(t,e)=>{var n;let r={};if(t.RoleArn!=null&&(r.RoleArn=t.RoleArn),t.RoleSessionName!=null&&(r.RoleSessionName=t.RoleSessionName),t.WebIdentityToken!=null&&(r.WebIdentityToken=t.WebIdentityToken),t.ProviderId!=null&&(r.ProviderId=t.ProviderId),t.PolicyArns!=null){let s=Nw(t.PolicyArns,e);((n=t.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(s).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}return t.Policy!=null&&(r.Policy=t.Policy),t.DurationSeconds!=null&&(r.DurationSeconds=t.DurationSeconds),r};var Nw=(t,e)=>{let r={},n=1;for(let s of t){if(s===null)continue;let o=CL(s,e);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},CL=(t,e)=>{let r={};return t.arn!=null&&(r.arn=t.arn),r},SL=(t,e)=>{let r={};return t.Key!=null&&(r.Key=t.Key),t.Value!=null&&(r.Value=t.Value),r},wL=(t,e)=>{let r={},n=1;for(let s of t)s!==null&&(r[`member.${n}`]=s,n++);return r},bL=(t,e)=>{let r={},n=1;for(let s of t){if(s===null)continue;let o=SL(s,e);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},vw=(t,e)=>{let r={};return t.AssumedRoleId!==void 0&&(r.AssumedRoleId=F(t.AssumedRoleId)),t.Arn!==void 0&&(r.Arn=F(t.Arn)),r},_L=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=Pw(t.Credentials,e)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=vw(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=Mc(t.PackedPolicySize)),t.SourceIdentity!==void 0&&(r.SourceIdentity=F(t.SourceIdentity)),r};var RL=(t,e)=>{let r={};return t.Credentials!==void 0&&(r.Credentials=Pw(t.Credentials,e)),t.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=F(t.SubjectFromWebIdentityToken)),t.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=vw(t.AssumedRoleUser,e)),t.PackedPolicySize!==void 0&&(r.PackedPolicySize=Mc(t.PackedPolicySize)),t.Provider!==void 0&&(r.Provider=F(t.Provider)),t.Audience!==void 0&&(r.Audience=F(t.Audience)),t.SourceIdentity!==void 0&&(r.SourceIdentity=F(t.SourceIdentity)),r},Pw=(t,e)=>{let r={};return t.AccessKeyId!==void 0&&(r.AccessKeyId=F(t.AccessKeyId)),t.SecretAccessKey!==void 0&&(r.SecretAccessKey=F(t.SecretAccessKey)),t.SessionToken!==void 0&&(r.SessionToken=F(t.SessionToken)),t.Expiration!==void 0&&(r.Expiration=xt(Af(t.Expiration))),r};var AL=(t,e)=>{let r={};return t.message!==void 0&&(r.message=F(t.message)),r};var kL=(t,e)=>{let r={};return t.message!==void 0&&(r.message=F(t.message)),r},TL=(t,e)=>{let r={};return t.message!==void 0&&(r.message=F(t.message)),r};var NL=(t,e)=>{let r={};return t.message!==void 0&&(r.message=F(t.message)),r},vL=(t,e)=>{let r={};return t.message!==void 0&&(r.message=F(t.message)),r},PL=(t,e)=>{let r={};return t.message!==void 0&&(r.message=F(t.message)),r},OL=(t,e)=>{let r={};return t.message!==void 0&&(r.message=F(t.message)),r},en=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),IL=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),DL=(t,e)=>IL(t,e).then(r=>e.utf8Encoder(r)),Ow=async(t,e,r,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:c}=await t.endpoint(),d={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:e};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new te(d)},Iw={"content-type":"application/x-www-form-urlencoded"},_h=(t,e)=>DL(t,e).then(r=>{if(r.length){let n=new Cw.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s=n.parse(r),o="#text",i=Object.keys(s)[0],a=s[i];return a[o]&&(a[i]=a[o],delete a[o]),sa(a)}return{}}),Dw=async(t,e)=>{let r=await _h(t,e);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Bw=t=>Object.entries(t).map(([e,r])=>Xr(e)+"="+Xr(r)).join("&"),Mw=(t,e)=>{var r;if(((r=e.Error)==null?void 0:r.Code)!==void 0)return e.Error.Code;if(t.statusCode==404)return"NotFound"};var Yo=class extends Ue{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(Ve(r,this.serialize,this.deserialize)),this.middlewareStack.use(We(r,Yo.getEndpointParameterInstructions())),this.middlewareStack.use(fd(r));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return Sw(e,r)}deserialize(e,r){return bw(e,r)}};var Xo=class extends Ue{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(Ve(r,this.serialize,this.deserialize)),this.middlewareStack.use(We(r,Xo.getEndpointParameterInstructions()));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return ww(e,r)}deserialize(e,r){return _w(e,r)}};var Lw=(t,{stsClientCtor:e})=>ld({...t,stsClientCtor:e});var Fw=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,useGlobalEndpoint:t.useGlobalEndpoint??!1,defaultSigningName:"sts"});var Uw={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.312.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/credential-provider-node":"3.310.0","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-sdk-sts":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-signing":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.310.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.310.0","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/smithy-client":"3.310.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.310.0","@aws-sdk/util-defaults-mode-node":"3.310.0","@aws-sdk/util-endpoints":"3.310.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}};var zw="us-east-1",$w=t=>typeof t!="function"?t===void 0?zw:t:async()=>{try{return await t()}catch{return zw}},Rh=(t,e)=>{let r,n;return async(s,o)=>{if(n=s,!r){let{logger:a,region:c,requestHandler:d}=t;r=new e({logger:a,credentialDefaultProvider:()=>async()=>n,region:$w(c||t.region),...d?{requestHandler:d}:{}})}let{Credentials:i}=await r.send(new Yo(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}},Ah=(t,e)=>{let r;return async n=>{if(!r){let{logger:o,region:i,requestHandler:a}=t;r=new e({logger:o,region:$w(i||t.region),...a?{requestHandler:a}:{}})}let{Credentials:s}=await r.send(new Xo(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}},qw=t=>e=>t({roleAssumer:Rh(e,e.stsClientCtor),roleAssumerWithWebIdentity:Ah(e,e.stsClientCtor),...e});var ML="AWS_ACCESS_KEY_ID",LL="AWS_SECRET_ACCESS_KEY",FL="AWS_SESSION_TOKEN",UL="AWS_CREDENTIAL_EXPIRATION",Cd=()=>async()=>{let t=process.env[ML],e=process.env[LL],r=process.env[FL],n=process.env[UL];if(t&&e)return{accessKeyId:t,secretAccessKey:e,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new $("Unable to find environment variable credentials.")};var Hw=require("os"),jw=require("path"),Qo=()=>{let{HOME:t,USERPROFILE:e,HOMEPATH:r,HOMEDRIVE:n=`C:${jw.sep}`}=process.env;return t||e||(r?`${n}${r}`:(0,Hw.homedir)())};var kh="AWS_PROFILE",zL="default",Jt=t=>t.profile||process.env[kh]||zL;var Gw=require("crypto"),Kw=require("path");var Sd=t=>{let r=(0,Gw.createHash)("sha1").update(t).digest("hex");return(0,Kw.join)(Qo(),".aws","sso","cache",`${r}.json`)};var Vw=require("fs");var{readFile:$L}=Vw.promises,wd=async t=>{let e=Sd(t),r=await $L(e,"utf8");return JSON.parse(r)};var Ww=require("path");var qL="AWS_CONFIG_FILE",bd=()=>process.env[qL]||(0,Ww.join)(Qo(),".aws","config");var Yw=require("path");var HL="AWS_SHARED_CREDENTIALS_FILE",Xw=()=>process.env[HL]||(0,Yw.join)(Qo(),".aws","credentials");var Qw=/^profile\s(["'])?([^\1]+)\1$/,Zw=t=>Object.entries(t).filter(([e])=>Qw.test(e)).reduce((e,[r,n])=>({...e,[Qw.exec(r)[2]]:n}),{...t.default&&{default:t.default}});var jL=["__proto__","profile __proto__"],xa=t=>{let e={},r;for(let n of t.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),jL.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let o=n.indexOf("="),i=0,a=n.length-1;if(o!==-1&&o!==i&&o!==a){let[d,l]=[n.substring(0,o).trim(),n.substring(o+1).trim()];e[r]=e[r]||{},e[r][d]=l}}return e};var Jw=require("fs"),{readFile:GL}=Jw.promises,Th={},Ca=(t,e)=>((!Th[t]||e!=null&&e.ignoreCache)&&(Th[t]=GL(t,"utf8")),Th[t]);var eb=()=>({}),_d=async(t={})=>{let{filepath:e=Xw(),configFilepath:r=bd()}=t,n=await Promise.all([Ca(r,{ignoreCache:t.ignoreCache}).then(xa).then(Zw).catch(eb),Ca(e,{ignoreCache:t.ignoreCache}).then(xa).catch(eb)]);return{configFile:n[0],credentialsFile:n[1]}};var tb=/^sso-session\s(["'])?([^\1]+)\1$/,rb=t=>Object.entries(t).filter(([e])=>tb.test(e)).reduce((e,[r,n])=>({...e,[tb.exec(r)[2]]:n}),{});var KL=()=>({}),Rd=async(t={})=>Ca(t.configFilepath??bd()).then(xa).then(rb).catch(KL);var nb=(...t)=>{let e={};for(let r of t)for(let[n,s]of Object.entries(r))e[n]!==void 0?Object.assign(e[n],s):e[n]=s;return e};var ss=async t=>{let e=await _d(t);return nb(e.configFile,e.credentialsFile)};var ab=require("url");var sb=require("buffer"),ob=require("http");function tn(t){return new Promise((e,r)=>{var s;let n=(0,ob.request)({method:"GET",...t,hostname:(s=t.hostname)==null?void 0:s.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new kt("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new kt("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:i=400}=o;(i<200||300<=i)&&(r(Object.assign(new kt("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let a=[];o.on("data",c=>{a.push(c)}),o.on("end",()=>{e(sb.Buffer.concat(a)),n.destroy()})}),n.end()})}var Ad=t=>!!t&&typeof t=="object"&&typeof t.AccessKeyId=="string"&&typeof t.SecretAccessKey=="string"&&typeof t.Token=="string"&&typeof t.Expiration=="string",kd=t=>({accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,sessionToken:t.Token,expiration:new Date(t.Expiration)});var Td=({maxRetries:t=0,timeout:e=1e3})=>({maxRetries:t,timeout:e});var Sa=(t,e)=>{let r=t();for(let n=0;n<e;n++)r=r.catch(t);return r};var wa="AWS_CONTAINER_CREDENTIALS_FULL_URI",ba="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",ib="AWS_CONTAINER_AUTHORIZATION_TOKEN",Nd=(t={})=>{let{timeout:e,maxRetries:r}=Td(t);return()=>Sa(async()=>{let n=await QL(),s=JSON.parse(await VL(e,n));if(!Ad(s))throw new $("Invalid response received from instance metadata service.");return kd(s)},r)},VL=async(t,e)=>(process.env[ib]&&(e.headers={...e.headers,Authorization:process.env[ib]}),(await tn({...e,timeout:t})).toString()),WL="169.254.170.2",YL={localhost:!0,"127.0.0.1":!0},XL={"http:":!0,"https:":!0},QL=async()=>{if(process.env[ba])return{hostname:WL,path:process.env[ba]};if(process.env[wa]){let t=(0,ab.parse)(process.env[wa]);if(!t.hostname||!(t.hostname in YL))throw new $(`${t.hostname} is not a valid container metadata service hostname`,!1);if(!t.protocol||!(t.protocol in XL))throw new $(`${t.protocol} is not a valid container metadata service protocol`,!1);return{...t,port:t.port?parseInt(t.port,10):void 0}}throw new $(`The container metadata credential provider cannot be used unless the ${ba} or ${wa} environment variable is set`,!1)};var cb=t=>async()=>{try{let e=t(process.env);if(e===void 0)throw new Error;return e}catch(e){throw new $(e.message||`Cannot load config from environment variables with getter: ${t}`)}};var db=(t,{preferredFile:e="config",...r}={})=>async()=>{let n=Jt(r),{configFile:s,credentialsFile:o}=await _d(r),i=o[n]||{},a=s[n]||{},c=e==="config"?{...i,...a}:{...a,...i};try{let d=t(c);if(d===void 0)throw new Error;return d}catch(d){throw new $(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${t}`)}};var ZL=t=>typeof t=="function",lb=t=>ZL(t)?async()=>await t():OS(t);var ie=({environmentVariableSelector:t,configFileSelector:e,default:r},n={})=>Jn(rd(cb(t),db(e,n),lb(r)));var _a;(function(t){t.IPv4="http://169.254.169.254",t.IPv6="http://[fd00:ec2::254]"})(_a||(_a={}));var JL="AWS_EC2_METADATA_SERVICE_ENDPOINT",eF="ec2_metadata_service_endpoint",ub={environmentVariableSelector:t=>t[JL],configFileSelector:t=>t[eF],default:void 0};var os;(function(t){t.IPv4="IPv4",t.IPv6="IPv6"})(os||(os={}));var tF="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",rF="ec2_metadata_service_endpoint_mode",fb={environmentVariableSelector:t=>t[tF],configFileSelector:t=>t[rF],default:os.IPv4};var Ra=async()=>_t(await nF()||await sF()),nF=async()=>ie(ub)(),sF=async()=>{let t=await ie(fb)();switch(t){case os.IPv4:return _a.IPv4;case os.IPv6:return _a.IPv6;default:throw new Error(`Unsupported endpoint mode: ${t}. Select from ${Object.values(os)}`)}};var oF="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Nh=(t,e)=>{let r=300+Math.floor(Math.random()*300),n=new Date(Date.now()+r*1e3);e.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+oF);let s=t.originalExpiration??t.expiration;return{...t,...s?{originalExpiration:s}:{},expiration:n}};var hb=(t,e={})=>{let r=(e==null?void 0:e.logger)||console,n;return async()=>{let s;try{s=await t(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=Nh(s,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),s=Nh(n,r);else throw o}return n=s,s}};var mb="/latest/meta-data/iam/security-credentials/",iF="/latest/api/token",vd=(t={})=>hb(aF(t),{logger:t.logger}),aF=t=>{let e=!1,{timeout:r,maxRetries:n}=Td(t),s=async(o,i)=>{let a=(await Sa(async()=>{let c;try{c=await dF(i)}catch(d){throw d.statusCode===401&&(e=!1),d}return c},o)).trim();return Sa(async()=>{let c;try{c=await lF(a,i)}catch(d){throw d.statusCode===401&&(e=!1),d}return c},o)};return async()=>{let o=await Ra();if(e)return s(n,{...o,timeout:r});{let i;try{i=(await cF({...o,timeout:r})).toString()}catch(a){if((a==null?void 0:a.statusCode)===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(e=!0),s(n,{...o,timeout:r})}return s(n,{...o,headers:{"x-aws-ec2-metadata-token":i},timeout:r})}}},cF=async t=>tn({...t,path:iF,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),dF=async t=>(await tn({...t,path:mb})).toString(),lF=async(t,e)=>{let r=JSON.parse((await tn({...e,path:mb+t})).toString());if(!Ad(r))throw new $("Invalid response received from instance metadata service.");return kd(r)};var pb=(t,e)=>{let r={EcsContainer:Nd,Ec2InstanceMetadata:vd,Environment:Cd};if(t in r)return r[t]();throw new $(`Unsupported credential source in profile ${e}. Got ${t}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};var yb=t=>!!t&&typeof t=="object"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1&&["undefined","string"].indexOf(typeof t.external_id)>-1&&["undefined","string"].indexOf(typeof t.mfa_serial)>-1&&(uF(t)||fF(t)),uF=t=>typeof t.source_profile=="string"&&typeof t.credential_source>"u",fF=t=>typeof t.credential_source=="string"&&typeof t.source_profile>"u",gb=async(t,e,r,n={})=>{let s=e[t];if(!r.roleAssumer)throw new $(`Profile ${t} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:o}=s;if(o&&o in n)throw new $(`Detected a cycle attempting to resolve credentials for profile ${Jt(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let i=o?Pd(o,e,r,{...n,[o]:!0}):pb(s.credential_source,t)(),a={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id},{mfa_serial:c}=s;if(c){if(!r.mfaCodeProvider)throw new $(`Profile ${t} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await i;return r.roleAssumer(d,a)};var xb=require("child_process"),Cb=require("util");var Eb=(t,e)=>{if(e.Version!==1)throw Error(`Profile ${t} credential_process did not return Version 1.`);if(e.AccessKeyId===void 0||e.SecretAccessKey===void 0)throw Error(`Profile ${t} credential_process returned invalid credentials.`);if(e.Expiration){let r=new Date;if(new Date(e.Expiration)<r)throw Error(`Profile ${t} credential_process returned expired credentials.`)}return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,...e.SessionToken&&{sessionToken:e.SessionToken},...e.Expiration&&{expiration:new Date(e.Expiration)}}};var Sb=async(t,e)=>{let r=e[t];if(e[t]){let n=r.credential_process;if(n!==void 0){let s=(0,Cb.promisify)(xb.exec);try{let{stdout:o}=await s(n),i;try{i=JSON.parse(o.trim())}catch{throw Error(`Profile ${t} credential_process returned invalid JSON.`)}return Eb(t,i)}catch(o){throw new $(o.message)}}else throw new $(`Profile ${t} did not contain credential_process.`)}else throw new $(`Profile ${t} could not be found in shared credentials file.`)};var Od=(t={})=>async()=>{let e=await ss(t);return Sb(Jt(t),e)};var wb=t=>!!t&&typeof t=="object"&&typeof t.credential_process=="string",bb=async(t,e)=>Od({...t,profile:e})();var Aa=t=>t&&(typeof t.sso_start_url=="string"||typeof t.sso_account_id=="string"||typeof t.sso_session=="string"||typeof t.sso_region=="string"||typeof t.sso_role_name=="string");var hr=class extends Yt{constructor(e){super(e),Object.setPrototypeOf(this,hr.prototype)}};var Zo=class extends hr{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,Zo.prototype)}},Jo=class extends hr{constructor(e){super({name:"ResourceNotFoundException",$fault:"client",...e}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,Jo.prototype)}},ei=class extends hr{constructor(e){super({name:"TooManyRequestsException",$fault:"client",...e}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,ei.prototype)}},ti=class extends hr{constructor(e){super({name:"UnauthorizedException",$fault:"client",...e}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,ti.prototype)}},_b=t=>({...t,...t.accessToken&&{accessToken:ze}}),hF=t=>({...t,...t.secretAccessKey&&{secretAccessKey:ze},...t.sessionToken&&{sessionToken:ze}}),Rb=t=>({...t,...t.roleCredentials&&{roleCredentials:hF(t.roleCredentials)}});var Ab=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i=Hs({},wF,{"x-amz-sso_bearer_token":t.accessToken}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/federation/credentials`,c=Hs({role_name:[,xt(t.roleName,"roleName")],account_id:[,xt(t.accountId,"accountId")]}),d;return new te({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:d})};var kb=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return mF(t,e);let r=Hs({$metadata:ka(t)}),n=xt(Ls(await Tb(t.body,e)),"body");return n.roleCredentials!=null&&(r.roleCredentials=xF(n.roleCredentials,e)),r},mF=async(t,e)=>{let r={...t,body:await bF(t.body,e)},n=_F(t,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await pF(r,e);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await yF(r,e);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await gF(r,e);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await EF(r,e);default:let s=r.body;Mt({output:t,parsedBody:s,exceptionCtor:hr,errorCode:n})}};var Hs=Fs,pF=async(t,e)=>{let r=Hs({}),n=t.body;n.message!=null&&(r.message=F(n.message));let s=new Zo({$metadata:ka(t),...r});return ge(s,t.body)},yF=async(t,e)=>{let r=Hs({}),n=t.body;n.message!=null&&(r.message=F(n.message));let s=new Jo({$metadata:ka(t),...r});return ge(s,t.body)},gF=async(t,e)=>{let r=Hs({}),n=t.body;n.message!=null&&(r.message=F(n.message));let s=new ei({$metadata:ka(t),...r});return ge(s,t.body)},EF=async(t,e)=>{let r=Hs({}),n=t.body;n.message!=null&&(r.message=F(n.message));let s=new ti({$metadata:ka(t),...r});return ge(s,t.body)};var xF=(t,e)=>({accessKeyId:F(t.accessKeyId),expiration:Dc(t.expiration),secretAccessKey:F(t.secretAccessKey),sessionToken:F(t.sessionToken)});var ka=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),CF=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),SF=(t,e)=>CF(t,e).then(r=>e.utf8Encoder(r)),wF=t=>t!=null&&t!==""&&(!Object.getOwnPropertyNames(t).includes("length")||t.length!=0)&&(!Object.getOwnPropertyNames(t).includes("size")||t.size!=0),Tb=(t,e)=>SF(t,e).then(r=>r.length?JSON.parse(r):{}),bF=async(t,e)=>{let r=await Tb(t,e);return r.message=r.message??r.Message,r},_F=(t,e)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(t.headers,"x-amzn-errortype");if(s!==void 0)return n(t.headers[s]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)};var ri=class extends Ue{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(Ve(r,this.serialize,this.deserialize)),this.middlewareStack.use(We(r,ri.getEndpointParameterInstructions()));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:_b,outputFilterSensitiveLog:Rb},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return Ab(e,r)}deserialize(e,r){return kb(e,r)}};var Nb=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var vb={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.310.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.310.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.310.0","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/smithy-client":"3.310.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.310.0","@aws-sdk/util-defaults-mode-node":"3.310.0","@aws-sdk/util-endpoints":"3.310.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}};var Ob=require("buffer"),Id=require("crypto"),er=class{constructor(e,r){this.algorithmIdentifier=e,this.secret=r,this.reset()}update(e,r){this.hash.update(At(Pb(e,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,Id.createHmac)(this.algorithmIdentifier,Pb(this.secret)):(0,Id.createHash)(this.algorithmIdentifier)}};function Pb(t,e){return Ob.Buffer.isBuffer(t)?t:typeof t=="string"?Io(t,e):ArrayBuffer.isView(t)?Zr(t.buffer,t.byteOffset,t.byteLength):Zr(t)}function vh(t){let e=[];for(let r of Object.keys(t).sort()){let n=t[r];if(r=Nr(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)e.push(`${r}=${Nr(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${Nr(n)}`),e.push(s)}}return e.join("&")}var Dd=require("http"),Bd=require("https");var Ib=["ECONNRESET","EPIPE","ETIMEDOUT"];var Ph=t=>{let e={};for(let r of Object.keys(t)){let n=t[r];e[r]=Array.isArray(n)?n.join(","):n}return e};var Bb=require("stream");function Oh(t,e){(e.headers.Expect||e.headers.expect)==="100-continue"?t.on("continue",()=>{Db(t,e.body)}):Db(t,e.body)}function Db(t,e){e instanceof Bb.Readable?e.pipe(t):e?t.end(Buffer.from(e)):t.end()}var Mb=0,vr=class{constructor(e){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof e=="function"?e().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(e))})}resolveDefaultConfig(e){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,httpAgent:o,httpsAgent:i}=e||{},a=!0,c=50;return{connectionTimeout:n,socketTimeout:s,requestTimeout:r??n??s??Mb,httpAgent:o||new Dd.Agent({keepAlive:a,maxSockets:c}),httpsAgent:i||new Bd.Agent({keepAlive:a,maxSockets:c})}}destroy(){var e,r,n,s;(r=(e=this.config)==null?void 0:e.httpAgent)==null||r.destroy(),(s=(n=this.config)==null?void 0:n.httpsAgent)==null||s.destroy()}async handle(e,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,s)=>{var f;if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r!=null&&r.aborted){let u=new Error("Request aborted");u.name="AbortError",s(u);return}let o=e.protocol==="https:",i=vh(e.query||{}),a={headers:e.headers,host:e.hostname,method:e.method,path:i?`${e.path}?${i}`:e.path,port:e.port,agent:o?this.config.httpsAgent:this.config.httpAgent},d=(o?Bd.request:Dd.request)(a,u=>{let g=new Xt({statusCode:u.statusCode||-1,headers:Ph(u.headers),body:u});n({response:g})});d.on("error",u=>{Ib.includes(u.code)?s(Object.assign(u,{name:"TimeoutError"})):s(u)});let l=((f=this.config)==null?void 0:f.requestTimeout)??Mb;d.setTimeout(l,()=>{d.destroy(),s(Object.assign(new Error(`Connection timed out after ${l} ms`),{name:"TimeoutError"}))}),r&&(r.onabort=()=>{d.abort();let u=new Error("Request aborted");u.name="AbortError",s(u)}),Oh(d,e)})}};var Ih=class{constructor(e){this.sessions=[],this.sessions=e??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(e){this.sessions.push(e)}contains(e){return this.sessions.includes(e)}remove(e){this.sessions=this.sessions.filter(r=>r!==e)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(e){for(let r of this.sessions)r===e&&(r.destroyed||r.destroy())}};var Lb=require("stream"),Md=class extends Lb.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(e,r,n){this.bufferedBytes.push(e),n()}};var Pr=t=>new Promise((e,r)=>{let n=new Md;t.pipe(n),t.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));e(s)})});var Ld=require("fs"),is=t=>{if(!t)return 0;if(typeof t=="string")return Buffer.from(t).length;if(typeof t.byteLength=="number")return t.byteLength;if(typeof t.size=="number")return t.size;if(typeof t.path=="string"||Buffer.isBuffer(t.path))return(0,Ld.lstatSync)(t.path).size;if(typeof t.fd=="number")return(0,Ld.fstatSync)(t.fd).size;throw new Error(`Body Length computation failed for ${t}`)};var Fd=require("os"),Ta=require("process");var Fb=()=>{try{return typeof require=="function"&&typeof module<"u"&&require("aws-crt")?["md/crt-avail"]:null}catch{return null}};var AF="AWS_SDK_UA_APP_ID",kF="sdk-ua-app-id",as=({serviceId:t,clientVersion:e})=>{let r=[["aws-sdk-js",e],[`os/${(0,Fd.platform)()}`,(0,Fd.release)()],["lang/js"],["md/nodejs",`${Ta.versions.node}`]],n=Fb();n&&r.push(n),t&&r.push([`api/${t}`,e]),Ta.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Ta.env.AWS_EXECUTION_ENV}`]);let s=ie({environmentVariableSelector:i=>i[AF],configFileSelector:i=>i[kF],default:void 0})(),o;return async()=>{if(!o){let i=await s;o=i?[...r,[`app/${i}`]]:[...r]}return o}};var TF=/^[A-Za-z0-9+/]*={0,2}$/,cs=t=>{if(t.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!TF.exec(t))throw new TypeError("Invalid base64 string.");let e=Io(t,"base64");return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)};var ds=t=>Zr(t.buffer,t.byteOffset,t.byteLength).toString("base64");var Kb="required",rn="fn",nn="argv",ni="ref",Dh="PartitionResult",Or="tree",Na="error",va="endpoint",Ub={[Kb]:!1,type:"String"},zb={[Kb]:!0,default:!1,type:"Boolean"},Vb={[ni]:"Endpoint"},Wb={[rn]:"booleanEquals",[nn]:[{[ni]:"UseFIPS"},!0]},Yb={[rn]:"booleanEquals",[nn]:[{[ni]:"UseDualStack"},!0]},Ir={},$b={[rn]:"booleanEquals",[nn]:[!0,{[rn]:"getAttr",[nn]:[{[ni]:Dh},"supportsFIPS"]}]},qb={[rn]:"booleanEquals",[nn]:[!0,{[rn]:"getAttr",[nn]:[{[ni]:Dh},"supportsDualStack"]}]},Hb=[Vb],jb=[Wb],Gb=[Yb],NF={version:"1.0",parameters:{Region:Ub,UseDualStack:zb,UseFIPS:zb,Endpoint:Ub},rules:[{conditions:[{[rn]:"aws.partition",[nn]:[{[ni]:"Region"}],assign:Dh}],type:Or,rules:[{conditions:[{[rn]:"isSet",[nn]:Hb},{[rn]:"parseURL",[nn]:Hb,assign:"url"}],type:Or,rules:[{conditions:jb,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Na},{type:Or,rules:[{conditions:Gb,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Na},{endpoint:{url:Vb,properties:Ir,headers:Ir},type:va}]}]},{conditions:[Wb,Yb],type:Or,rules:[{conditions:[$b,qb],type:Or,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ir,headers:Ir},type:va}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Na}]},{conditions:jb,type:Or,rules:[{conditions:[$b],type:Or,rules:[{type:Or,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ir,headers:Ir},type:va}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Na}]},{conditions:Gb,type:Or,rules:[{conditions:[qb],type:Or,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ir,headers:Ir},type:va}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Na}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Ir,headers:Ir},type:va}]}]},Xb=NF;var Qb=(t,e={})=>rs(Xb,{endpointParams:t,logger:e.logger});var Zb=t=>({apiVersion:"2019-06-10",base64Decoder:(t==null?void 0:t.base64Decoder)??cs,base64Encoder:(t==null?void 0:t.base64Encoder)??ds,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??Qb,logger:(t==null?void 0:t.logger)??new Cr,serviceId:(t==null?void 0:t.serviceId)??"SSO",urlParser:(t==null?void 0:t.urlParser)??_t,utf8Decoder:(t==null?void 0:t.utf8Decoder)??_r,utf8Encoder:(t==null?void 0:t.utf8Encoder)??zn});var Jb="AWS_EXECUTION_ENV",Bh="AWS_REGION",Mh="AWS_DEFAULT_REGION",e_="AWS_EC2_METADATA_DISABLED",t_=["in-region","cross-region","mobile","standard","legacy"],r_="/latest/meta-data/placement/region";var vF="AWS_DEFAULTS_MODE",PF="defaults_mode",n_={environmentVariableSelector:t=>t[vF],configFileSelector:t=>t[PF],default:"legacy"};var ls=({region:t=ie(Ar),defaultsMode:e=ie(n_)}={})=>Jn(async()=>{let r=typeof e=="function"?await e():e;switch(r==null?void 0:r.toLowerCase()){case"auto":return OF(t);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r==null?void 0:r.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${t_.join(", ")}, got ${r}`)}}),OF=async t=>{if(t){let e=typeof t=="function"?await t():t,r=await IF();return r?e===r?"in-region":"cross-region":"standard"}return"standard"},IF=async()=>{if(process.env[Jb]&&(process.env[Bh]||process.env[Mh]))return process.env[Bh]??process.env[Mh];if(!process.env[e_])try{let t=await Ra();return(await tn({...t,path:r_})).toString()}catch{}};var s_=t=>{Bn(process.version);let e=ls(t),r=()=>e().then(Dn),n=Zb(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??is,defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??as({serviceId:n.serviceId,clientVersion:vb.version}),maxAttempts:(t==null?void 0:t.maxAttempts)??ie(Yn),region:(t==null?void 0:t.region)??ie(Ar,Hn),requestHandler:(t==null?void 0:t.requestHandler)??new vr(r),retryMode:(t==null?void 0:t.retryMode)??ie({...Qn,default:async()=>(await r()).retryMode||Tr}),sha256:(t==null?void 0:t.sha256)??er.bind(null,"sha256"),streamCollector:(t==null?void 0:t.streamCollector)??Pr,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??ie($n),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??ie(qn)}};var Ud=class extends Sr{constructor(e){let r=s_(e),n=Nb(r),s=jn(n),o=On(s),i=Xn(o),a=i,c=es(a);super(c),this.config=c,this.middlewareStack.use(Zn(this.config)),this.middlewareStack.use(Gn(this.config)),this.middlewareStack.use(Kn(this.config)),this.middlewareStack.use(Vn(this.config)),this.middlewareStack.use(Wn(this.config)),this.middlewareStack.use(ns(this.config))}destroy(){super.destroy()}};var si="To refresh this SSO session run 'aws sso login' with the corresponding profile.";var Xe=class extends Yt{constructor(e){super(e),Object.setPrototypeOf(this,Xe.prototype)}};var oi=class extends Xe{constructor(e){super({name:"AccessDeniedException",$fault:"client",...e}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,oi.prototype),this.error=e.error,this.error_description=e.error_description}},ii=class extends Xe{constructor(e){super({name:"AuthorizationPendingException",$fault:"client",...e}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,ii.prototype),this.error=e.error,this.error_description=e.error_description}},ai=class extends Xe{constructor(e){super({name:"ExpiredTokenException",$fault:"client",...e}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,ai.prototype),this.error=e.error,this.error_description=e.error_description}},ci=class extends Xe{constructor(e){super({name:"InternalServerException",$fault:"server",...e}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,ci.prototype),this.error=e.error,this.error_description=e.error_description}},di=class extends Xe{constructor(e){super({name:"InvalidClientException",$fault:"client",...e}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,di.prototype),this.error=e.error,this.error_description=e.error_description}},li=class extends Xe{constructor(e){super({name:"InvalidGrantException",$fault:"client",...e}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,li.prototype),this.error=e.error,this.error_description=e.error_description}},ui=class extends Xe{constructor(e){super({name:"InvalidRequestException",$fault:"client",...e}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,ui.prototype),this.error=e.error,this.error_description=e.error_description}},fi=class extends Xe{constructor(e){super({name:"InvalidScopeException",$fault:"client",...e}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,fi.prototype),this.error=e.error,this.error_description=e.error_description}},hi=class extends Xe{constructor(e){super({name:"SlowDownException",$fault:"client",...e}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,hi.prototype),this.error=e.error,this.error_description=e.error_description}},mi=class extends Xe{constructor(e){super({name:"UnauthorizedClientException",$fault:"client",...e}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,mi.prototype),this.error=e.error,this.error_description=e.error_description}},pi=class extends Xe{constructor(e){super({name:"UnsupportedGrantTypeException",$fault:"client",...e}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,pi.prototype),this.error=e.error,this.error_description=e.error_description}};var o_=async(t,e)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await e.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/token`,c;return c=JSON.stringify({...t.clientId!=null&&{clientId:t.clientId},...t.clientSecret!=null&&{clientSecret:t.clientSecret},...t.code!=null&&{code:t.code},...t.deviceCode!=null&&{deviceCode:t.deviceCode},...t.grantType!=null&&{grantType:t.grantType},...t.redirectUri!=null&&{redirectUri:t.redirectUri},...t.refreshToken!=null&&{refreshToken:t.refreshToken},...t.scope!=null&&{scope:KF(t.scope,e)}}),new te({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,body:c})};var i_=async(t,e)=>{if(t.statusCode!==200&&t.statusCode>=300)return DF(t,e);let r=tr({$metadata:rr(t)}),n=xt(Ls(await a_(t.body,e)),"body");return n.accessToken!=null&&(r.accessToken=F(n.accessToken)),n.expiresIn!=null&&(r.expiresIn=Ic(n.expiresIn)),n.idToken!=null&&(r.idToken=F(n.idToken)),n.refreshToken!=null&&(r.refreshToken=F(n.refreshToken)),n.tokenType!=null&&(r.tokenType=F(n.tokenType)),r},DF=async(t,e)=>{let r={...t,body:await YF(t.body,e)},n=XF(t,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await BF(r,e);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await MF(r,e);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await LF(r,e);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await FF(r,e);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await UF(r,e);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await zF(r,e);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await $F(r,e);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await qF(r,e);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await HF(r,e);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await jF(r,e);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await GF(r,e);default:let s=r.body;Mt({output:t,parsedBody:s,exceptionCtor:Xe,errorCode:n})}};var tr=Fs,BF=async(t,e)=>{let r=tr({}),n=t.body;n.error!=null&&(r.error=F(n.error)),n.error_description!=null&&(r.error_description=F(n.error_description));let s=new oi({$metadata:rr(t),...r});return ge(s,t.body)},MF=async(t,e)=>{let r=tr({}),n=t.body;n.error!=null&&(r.error=F(n.error)),n.error_description!=null&&(r.error_description=F(n.error_description));let s=new ii({$metadata:rr(t),...r});return ge(s,t.body)},LF=async(t,e)=>{let r=tr({}),n=t.body;n.error!=null&&(r.error=F(n.error)),n.error_description!=null&&(r.error_description=F(n.error_description));let s=new ai({$metadata:rr(t),...r});return ge(s,t.body)},FF=async(t,e)=>{let r=tr({}),n=t.body;n.error!=null&&(r.error=F(n.error)),n.error_description!=null&&(r.error_description=F(n.error_description));let s=new ci({$metadata:rr(t),...r});return ge(s,t.body)},UF=async(t,e)=>{let r=tr({}),n=t.body;n.error!=null&&(r.error=F(n.error)),n.error_description!=null&&(r.error_description=F(n.error_description));let s=new di({$metadata:rr(t),...r});return ge(s,t.body)};var zF=async(t,e)=>{let r=tr({}),n=t.body;n.error!=null&&(r.error=F(n.error)),n.error_description!=null&&(r.error_description=F(n.error_description));let s=new li({$metadata:rr(t),...r});return ge(s,t.body)},$F=async(t,e)=>{let r=tr({}),n=t.body;n.error!=null&&(r.error=F(n.error)),n.error_description!=null&&(r.error_description=F(n.error_description));let s=new ui({$metadata:rr(t),...r});return ge(s,t.body)},qF=async(t,e)=>{let r=tr({}),n=t.body;n.error!=null&&(r.error=F(n.error)),n.error_description!=null&&(r.error_description=F(n.error_description));let s=new fi({$metadata:rr(t),...r});return ge(s,t.body)},HF=async(t,e)=>{let r=tr({}),n=t.body;n.error!=null&&(r.error=F(n.error)),n.error_description!=null&&(r.error_description=F(n.error_description));let s=new hi({$metadata:rr(t),...r});return ge(s,t.body)},jF=async(t,e)=>{let r=tr({}),n=t.body;n.error!=null&&(r.error=F(n.error)),n.error_description!=null&&(r.error_description=F(n.error_description));let s=new mi({$metadata:rr(t),...r});return ge(s,t.body)},GF=async(t,e)=>{let r=tr({}),n=t.body;n.error!=null&&(r.error=F(n.error)),n.error_description!=null&&(r.error_description=F(n.error_description));let s=new pi({$metadata:rr(t),...r});return ge(s,t.body)},KF=(t,e)=>t.filter(r=>r!=null).map(r=>r),rr=t=>({httpStatusCode:t.statusCode,requestId:t.headers["x-amzn-requestid"]??t.headers["x-amzn-request-id"]??t.headers["x-amz-request-id"],extendedRequestId:t.headers["x-amz-id-2"],cfId:t.headers["x-amz-cf-id"]}),VF=(t=new Uint8Array,e)=>t instanceof Uint8Array?Promise.resolve(t):e.streamCollector(t)||Promise.resolve(new Uint8Array),WF=(t,e)=>VF(t,e).then(r=>e.utf8Encoder(r));var a_=(t,e)=>WF(t,e).then(r=>r.length?JSON.parse(r):{}),YF=async(t,e)=>{let r=await a_(t,e);return r.message=r.message??r.Message,r},XF=(t,e)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(t.headers,"x-amzn-errortype");if(s!==void 0)return n(t.headers[s]);if(e.code!==void 0)return n(e.code);if(e.__type!==void 0)return n(e.__type)};var yi=class extends Ue{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(e){super(),this.input=e}resolveMiddleware(e,r,n){this.middlewareStack.use(Ve(r,this.serialize,this.deserialize)),this.middlewareStack.use(We(r,yi.getEndpointParameterInstructions()));let s=e.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(e,r){return o_(e,r)}deserialize(e,r){return i_(e,r)}};var c_=t=>({...t,useDualstackEndpoint:t.useDualstackEndpoint??!1,useFipsEndpoint:t.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var d_={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.310.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.310.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.310.0","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/smithy-client":"3.310.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.310.0","@aws-sdk/util-defaults-mode-node":"3.310.0","@aws-sdk/util-endpoints":"3.310.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}};var g_="required",sn="fn",on="argv",gi="ref",Fh="PartitionResult",Dr="tree",Pa="error",Oa="endpoint",l_={[g_]:!1,type:"String"},u_={[g_]:!0,default:!1,type:"Boolean"},E_={[gi]:"Endpoint"},x_={[sn]:"booleanEquals",[on]:[{[gi]:"UseFIPS"},!0]},C_={[sn]:"booleanEquals",[on]:[{[gi]:"UseDualStack"},!0]},Br={},f_={[sn]:"booleanEquals",[on]:[!0,{[sn]:"getAttr",[on]:[{[gi]:Fh},"supportsFIPS"]}]},h_={[sn]:"booleanEquals",[on]:[!0,{[sn]:"getAttr",[on]:[{[gi]:Fh},"supportsDualStack"]}]},m_=[E_],p_=[x_],y_=[C_],ZF={version:"1.0",parameters:{Region:l_,UseDualStack:u_,UseFIPS:u_,Endpoint:l_},rules:[{conditions:[{[sn]:"aws.partition",[on]:[{[gi]:"Region"}],assign:Fh}],type:Dr,rules:[{conditions:[{[sn]:"isSet",[on]:m_},{[sn]:"parseURL",[on]:m_,assign:"url"}],type:Dr,rules:[{conditions:p_,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Pa},{type:Dr,rules:[{conditions:y_,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Pa},{endpoint:{url:E_,properties:Br,headers:Br},type:Oa}]}]},{conditions:[x_,C_],type:Dr,rules:[{conditions:[f_,h_],type:Dr,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Br,headers:Br},type:Oa}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Pa}]},{conditions:p_,type:Dr,rules:[{conditions:[f_],type:Dr,rules:[{type:Dr,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Br,headers:Br},type:Oa}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Pa}]},{conditions:y_,type:Dr,rules:[{conditions:[h_],type:Dr,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Br,headers:Br},type:Oa}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Pa}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Br,headers:Br},type:Oa}]}]},S_=ZF;var w_=(t,e={})=>rs(S_,{endpointParams:t,logger:e.logger});var b_=t=>({apiVersion:"2019-06-10",base64Decoder:(t==null?void 0:t.base64Decoder)??cs,base64Encoder:(t==null?void 0:t.base64Encoder)??ds,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??w_,logger:(t==null?void 0:t.logger)??new Cr,serviceId:(t==null?void 0:t.serviceId)??"SSO OIDC",urlParser:(t==null?void 0:t.urlParser)??_t,utf8Decoder:(t==null?void 0:t.utf8Decoder)??_r,utf8Encoder:(t==null?void 0:t.utf8Encoder)??zn});var __=t=>{Bn(process.version);let e=ls(t),r=()=>e().then(Dn),n=b_(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??is,defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??as({serviceId:n.serviceId,clientVersion:d_.version}),maxAttempts:(t==null?void 0:t.maxAttempts)??ie(Yn),region:(t==null?void 0:t.region)??ie(Ar,Hn),requestHandler:(t==null?void 0:t.requestHandler)??new vr(r),retryMode:(t==null?void 0:t.retryMode)??ie({...Qn,default:async()=>(await r()).retryMode||Tr}),sha256:(t==null?void 0:t.sha256)??er.bind(null,"sha256"),streamCollector:(t==null?void 0:t.streamCollector)??Pr,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??ie($n),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??ie(qn)}};var zd=class extends Sr{constructor(e){let r=__(e),n=c_(r),s=jn(n),o=On(s),i=Xn(o),a=i,c=es(a);super(c),this.config=c,this.middlewareStack.use(Zn(this.config)),this.middlewareStack.use(Gn(this.config)),this.middlewareStack.use(Kn(this.config)),this.middlewareStack.use(Vn(this.config)),this.middlewareStack.use(Wn(this.config)),this.middlewareStack.use(ns(this.config))}destroy(){super.destroy()}};var Uh={},R_=t=>{if(Uh[t])return Uh[t];let e=new zd({region:t});return Uh[t]=e,e};var A_=(t,e)=>R_(e).send(new yi({clientId:t.clientId,clientSecret:t.clientSecret,refreshToken:t.refreshToken,grantType:"refresh_token"}));var zh=t=>{if(t.expiration&&t.expiration.getTime()<Date.now())throw new Tt(`Token is expired. ${si}`,!1)};var us=(t,e,r=!1)=>{if(typeof e>"u")throw new Tt(`Value not present for '${t}' in SSO Token${r?". Cannot refresh":""}. ${si}`,!1)};var k_=require("fs"),{writeFile:JF}=k_.promises,T_=(t,e)=>{let r=Sd(t),n=JSON.stringify(e,null,2);return JF(r,n)};var N_=new Date(0),v_=(t={})=>async()=>{let e=await ss(t),r=Jt(t),n=e[r];if(n){if(!n.sso_session)throw new Tt(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new Tt(`Profile '${r}' could not be found in shared credentials file.`,!1);let s=n.sso_session,i=(await Rd(t))[s];if(!i)throw new Tt(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let g of["sso_start_url","sso_region"])if(!i[g])throw new Tt(`Sso session '${s}' is missing required property '${g}'.`,!1);let a=i.sso_start_url,c=i.sso_region,d;try{d=await wd(s)}catch{throw new Tt(`The SSO session token associated with profile=${r} was not found or is invalid. ${si}`,!1)}us("accessToken",d.accessToken),us("expiresAt",d.expiresAt);let{accessToken:l,expiresAt:f}=d,u={token:l,expiration:new Date(f)};if(u.expiration.getTime()-Date.now()>3e5)return u;if(Date.now()-N_.getTime()<30*1e3)return zh(u),u;us("clientId",d.clientId,!0),us("clientSecret",d.clientSecret,!0),us("refreshToken",d.refreshToken,!0);try{N_.setTime(Date.now());let g=await A_(d,c);us("accessToken",g.accessToken),us("expiresIn",g.expiresIn);let y=new Date(Date.now()+g.expiresIn*1e3);try{await T_(s,{...d,accessToken:g.accessToken,expiresAt:y.toISOString(),refreshToken:g.refreshToken})}catch{}return{token:g.accessToken,expiration:y}}catch{return zh(u),u}};var t3=15*60*1e3,Ia=!1,$h=async({ssoStartUrl:t,ssoSession:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,profile:i})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(e)try{let R=await v_({profile:i})();a={accessToken:R.token,expiresAt:new Date(R.expiration).toISOString()}}catch(R){throw new $(R.message,Ia)}else try{a=await wd(t)}catch{throw new $(`The SSO session associated with this profile is invalid. ${c}`,Ia)}if(new Date(a.expiresAt).getTime()-Date.now()<=t3)throw new $(`The SSO session associated with this profile has expired. ${c}`,Ia);let{accessToken:d}=a,l=o||new Ud({region:n}),f;try{f=await l.send(new ri({accountId:r,roleName:s,accessToken:d}))}catch(R){throw $.from(R,Ia)}let{roleCredentials:{accessKeyId:u,secretAccessKey:g,sessionToken:y,expiration:w}={}}=f;if(!u||!g||!y||!w)throw new $("SSO returns an invalid temporary credential.",Ia);return{accessKeyId:u,secretAccessKey:g,sessionToken:y,expiration:new Date(w)}};var $d=t=>{let{sso_start_url:e,sso_account_id:r,sso_region:n,sso_role_name:s}=t;if(!e||!r||!n||!s)throw new $(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(t).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return t};var qd=(t={})=>async()=>{let{ssoStartUrl:e,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,ssoSession:i}=t,a=Jt(t);if(!e&&!r&&!n&&!s&&!i){let d=(await ss(t))[a];if(!d)throw new $(`Profile ${a} was not found.`);if(!Aa(d))throw new $(`Profile ${a} is not configured with SSO credentials.`);if(d!=null&&d.sso_session){let R=(await Rd(t))[d.sso_session],B=` configurations in profile ${a} and sso-session ${d.sso_session}`;if(n&&n!==R.sso_region)throw new $("Conflicting SSO region"+B,!1);if(e&&e!==R.sso_start_url)throw new $("Conflicting SSO start_url"+B,!1);d.sso_region=R.sso_region,d.sso_start_url=R.sso_start_url}let{sso_start_url:l,sso_account_id:f,sso_region:u,sso_role_name:g,sso_session:y}=$d(d);return $h({ssoStartUrl:l,ssoSession:y,ssoAccountId:f,ssoRegion:u,ssoRoleName:g,ssoClient:o,profile:a})}else{if(!e||!r||!n||!s)throw new $('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return $h({ssoStartUrl:e,ssoSession:i,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,profile:a})}};var P_=t=>{let{sso_start_url:e,sso_account_id:r,sso_session:n,sso_region:s,sso_role_name:o}=$d(t);return qd({ssoStartUrl:e,ssoAccountId:r,ssoSession:n,ssoRegion:s,ssoRoleName:o})()};var qh=t=>!!t&&typeof t=="object"&&typeof t.aws_access_key_id=="string"&&typeof t.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof t.aws_session_token)>-1,Hh=t=>Promise.resolve({accessKeyId:t.aws_access_key_id,secretAccessKey:t.aws_secret_access_key,sessionToken:t.aws_session_token});var I_=require("fs");var O_=t=>()=>{let{roleArn:e,roleSessionName:r,webIdentityToken:n,providerId:s,policyArns:o,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=t;if(!c)throw new $(`Role Arn '${e}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:e,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:s,PolicyArns:o,Policy:i,DurationSeconds:a})};var r3="AWS_WEB_IDENTITY_TOKEN_FILE",n3="AWS_ROLE_ARN",s3="AWS_ROLE_SESSION_NAME",Hd=(t={})=>async()=>o3(t),o3=t=>{let e=(t==null?void 0:t.webIdentityTokenFile)??process.env[r3],r=(t==null?void 0:t.roleArn)??process.env[n3],n=(t==null?void 0:t.roleSessionName)??process.env[s3];if(!e||!r)throw new $("Web identity configuration not specified");return O_({...t,webIdentityToken:(0,I_.readFileSync)(e,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};var D_=t=>!!t&&typeof t=="object"&&typeof t.web_identity_token_file=="string"&&typeof t.role_arn=="string"&&["undefined","string"].indexOf(typeof t.role_session_name)>-1,B_=async(t,e)=>Hd({webIdentityTokenFile:t.web_identity_token_file,roleArn:t.role_arn,roleSessionName:t.role_session_name,roleAssumerWithWebIdentity:e.roleAssumerWithWebIdentity})();var Pd=async(t,e,r,n={})=>{let s=e[t];if(Object.keys(n).length>0&&qh(s))return Hh(s);if(yb(s))return gb(t,e,r,n);if(qh(s))return Hh(s);if(D_(s))return B_(s,r);if(wb(s))return bb(r,t);if(Aa(s))return P_(s);throw new $(`Profile ${t} could not be found or parsed in shared credentials file.`)};var M_=(t={})=>async()=>{let e=await ss(t);return Pd(Jt(t),e,t)};var i3="AWS_EC2_METADATA_DISABLED",L_=t=>process.env[ba]||process.env[wa]?Nd(t):process.env[i3]?async()=>{throw new $("EC2 Instance Metadata Service access disabled")}:vd(t);var jd=(t={})=>Jn(rd(...t.profile||process.env[kh]?[]:[Cd()],qd(t),M_(t),Od(t),Hd(t),L_(t),async()=>{throw new $("Could not load credentials from any providers",!1)}),e=>e.expiration!==void 0&&e.expiration.getTime()-Date.now()<3e5,e=>e.expiration!==void 0);var K_="required",Z="type",ue="fn",fe="argv",fs="ref",js="properties",Gs="headers";var Gh="PartitionResult",nr="tree",Ks="booleanEquals",st="stringEquals",V_="sigv4",W_="us-east-1",Y_="sts",Te="endpoint",X_="https://sts.{Region}.{PartitionResult#dnsSuffix}",Da="error",Kh="getAttr",F_={[K_]:!1,[Z]:"String"},jh={[K_]:!0,default:!1,[Z]:"Boolean"},ot={[fs]:"Region"},Q_={[fs]:"UseFIPS"},Z_={[fs]:"UseDualStack"},U_={[ue]:"isSet",[fe]:[{[fs]:"Endpoint"}]},J_={[fs]:"Endpoint"},at={url:"https://sts.amazonaws.com",[js]:{authSchemes:[{name:V_,signingRegion:W_,signingName:Y_}]},[Gs]:{}},an={},z_={conditions:[{[ue]:st,[fe]:[ot,"aws-global"]}],[Te]:at,[Z]:Te},e0={[ue]:Ks,[fe]:[Q_,!0]},t0={[ue]:Ks,[fe]:[Z_,!0]},$_={[ue]:Ks,[fe]:[!0,{[ue]:Kh,[fe]:[{[fs]:Gh},"supportsFIPS"]}]},r0={[fs]:Gh},q_={[ue]:Ks,[fe]:[!0,{[ue]:Kh,[fe]:[r0,"supportsDualStack"]}]},H_={url:X_,[js]:{},[Gs]:{}},a3=[J_],j_=[e0],G_=[t0],c3={version:"1.0",parameters:{Region:F_,UseDualStack:jh,UseFIPS:jh,Endpoint:F_,UseGlobalEndpoint:jh},rules:[{conditions:[{[ue]:"aws.partition",[fe]:[ot],assign:Gh}],[Z]:nr,rules:[{conditions:[{[ue]:Ks,[fe]:[{[fs]:"UseGlobalEndpoint"},!0]},{[ue]:Ks,[fe]:[Q_,!1]},{[ue]:Ks,[fe]:[Z_,!1]},{[ue]:"not",[fe]:[U_]}],[Z]:nr,rules:[{conditions:[{[ue]:st,[fe]:[ot,"ap-northeast-1"]}],endpoint:at,[Z]:Te},{conditions:[{[ue]:st,[fe]:[ot,"ap-south-1"]}],endpoint:at,[Z]:Te},{conditions:[{[ue]:st,[fe]:[ot,"ap-southeast-1"]}],endpoint:at,[Z]:Te},{conditions:[{[ue]:st,[fe]:[ot,"ap-southeast-2"]}],endpoint:at,[Z]:Te},z_,{conditions:[{[ue]:st,[fe]:[ot,"ca-central-1"]}],endpoint:at,[Z]:Te},{conditions:[{[ue]:st,[fe]:[ot,"eu-central-1"]}],endpoint:at,[Z]:Te},{conditions:[{[ue]:st,[fe]:[ot,"eu-north-1"]}],endpoint:at,[Z]:Te},{conditions:[{[ue]:st,[fe]:[ot,"eu-west-1"]}],endpoint:at,[Z]:Te},{conditions:[{[ue]:st,[fe]:[ot,"eu-west-2"]}],endpoint:at,[Z]:Te},{conditions:[{[ue]:st,[fe]:[ot,"eu-west-3"]}],endpoint:at,[Z]:Te},{conditions:[{[ue]:st,[fe]:[ot,"sa-east-1"]}],endpoint:at,[Z]:Te},{conditions:[{[ue]:st,[fe]:[ot,W_]}],endpoint:at,[Z]:Te},{conditions:[{[ue]:st,[fe]:[ot,"us-east-2"]}],endpoint:at,[Z]:Te},{conditions:[{[ue]:st,[fe]:[ot,"us-west-1"]}],endpoint:at,[Z]:Te},{conditions:[{[ue]:st,[fe]:[ot,"us-west-2"]}],endpoint:at,[Z]:Te},{endpoint:{url:X_,[js]:{authSchemes:[{name:V_,signingRegion:"{Region}",signingName:Y_}]},[Gs]:an},[Z]:Te}]},{conditions:[U_,{[ue]:"parseURL",[fe]:a3,assign:"url"}],[Z]:nr,rules:[{conditions:j_,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Z]:Da},{[Z]:nr,rules:[{conditions:G_,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Z]:Da},{endpoint:{url:J_,[js]:an,[Gs]:an},[Z]:Te}]}]},{conditions:[e0,t0],[Z]:nr,rules:[{conditions:[$_,q_],[Z]:nr,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[js]:an,[Gs]:an},[Z]:Te}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Z]:Da}]},{conditions:j_,[Z]:nr,rules:[{conditions:[$_],[Z]:nr,rules:[{[Z]:nr,rules:[{conditions:[{[ue]:st,[fe]:["aws-us-gov",{[ue]:Kh,[fe]:[r0,"name"]}]}],endpoint:H_,[Z]:Te},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",[js]:an,[Gs]:an},[Z]:Te}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[Z]:Da}]},{conditions:G_,[Z]:nr,rules:[{conditions:[q_],[Z]:nr,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",[js]:an,[Gs]:an},[Z]:Te}]},{error:"DualStack is enabled but this partition does not support DualStack",[Z]:Da}]},{[Z]:nr,rules:[z_,{endpoint:H_,[Z]:Te}]}]}]},n0=c3;var s0=(t,e={})=>rs(n0,{endpointParams:t,logger:e.logger});var o0=t=>({apiVersion:"2011-06-15",base64Decoder:(t==null?void 0:t.base64Decoder)??cs,base64Encoder:(t==null?void 0:t.base64Encoder)??ds,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??s0,logger:(t==null?void 0:t.logger)??new Cr,serviceId:(t==null?void 0:t.serviceId)??"STS",urlParser:(t==null?void 0:t.urlParser)??_t,utf8Decoder:(t==null?void 0:t.utf8Decoder)??_r,utf8Encoder:(t==null?void 0:t.utf8Encoder)??zn});var i0=t=>{Bn(process.version);let e=ls(t),r=()=>e().then(Dn),n=o0(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??is,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??qw(jd),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??as({serviceId:n.serviceId,clientVersion:Uw.version}),maxAttempts:(t==null?void 0:t.maxAttempts)??ie(Yn),region:(t==null?void 0:t.region)??ie(Ar,Hn),requestHandler:(t==null?void 0:t.requestHandler)??new vr(r),retryMode:(t==null?void 0:t.retryMode)??ie({...Qn,default:async()=>(await r()).retryMode||Tr}),sha256:(t==null?void 0:t.sha256)??er.bind(null,"sha256"),streamCollector:(t==null?void 0:t.streamCollector)??Pr,useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??ie($n),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??ie(qn)}};var Vs=class extends Sr{constructor(e){let r=i0(e),n=Fw(r),s=jn(n),o=On(s),i=Xn(o),a=i,c=Lw(a,{stsClientCtor:Vs}),d=es(c);super(d),this.config=d,this.middlewareStack.use(Zn(this.config)),this.middlewareStack.use(Gn(this.config)),this.middlewareStack.use(Kn(this.config)),this.middlewareStack.use(Vn(this.config)),this.middlewareStack.use(Wn(this.config)),this.middlewareStack.use(ns(this.config))}destroy(){super.destroy()}};var a0=(t,e)=>e?class extends t{constructor(n){super(n);for(let s of e)this.middlewareStack.use(s)}}:t,d3=(t={},e)=>Rh(t,a0(Vs,e)),l3=(t={},e)=>Ah(t,a0(Vs,e)),c0=t=>e=>t({roleAssumer:d3(e),roleAssumerWithWebIdentity:l3(e),...e});var p0=Gt(ma());var hs=class{constructor(e){if(this.bytes=e,e.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(e){if(e>9223372036854776e3||e<-9223372036854776e3)throw new Error(`${e} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(e));n>-1&&s>0;n--,s/=256)r[n]=s;return e<0&&d0(r),new hs(r)}valueOf(){let e=this.bytes.slice(0),r=e[0]&128;return r&&d0(e),parseInt(nt(e),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function d0(t){for(let e=0;e<8;e++)t[e]^=255;for(let e=7;e>-1&&(t[e]++,t[e]===0);e--);}var Gd=class{constructor(e,r){this.toUtf8=e,this.fromUtf8=r}format(e){let r=[];for(let o of Object.keys(e)){let i=this.fromUtf8(o);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(e[o]))}let n=new Uint8Array(r.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of r)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(e){switch(e.type){case"boolean":return Uint8Array.from([e.value?0:1]);case"byte":return Uint8Array.from([2,e.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,e.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,e.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(e.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+e.value.byteLength));o.setUint8(0,6),o.setUint16(1,e.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(e.value,3),i;case"string":let a=this.fromUtf8(e.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(hs.fromNumber(e.value.valueOf()).bytes,1),l;case"uuid":if(!x3.test(e.value))throw new Error(`Invalid UUID received: ${e.value}`);let f=new Uint8Array(17);return f[0]=9,f.set(DS(e.value.replace(/\-/g,"")),1),f}}parse(e){let r={},n=0;for(;n<e.byteLength;){let s=e.getUint8(n++),o=this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,s));switch(n+=s,e.getUint8(n++)){case 0:r[o]={type:u0,value:!0};break;case 1:r[o]={type:u0,value:!1};break;case 2:r[o]={type:u3,value:e.getInt8(n++)};break;case 3:r[o]={type:f3,value:e.getInt16(n,!1)},n+=2;break;case 4:r[o]={type:h3,value:e.getInt32(n,!1)},n+=4;break;case 5:r[o]={type:m3,value:new hs(new Uint8Array(e.buffer,e.byteOffset+n,8))},n+=8;break;case 6:let i=e.getUint16(n,!1);n+=2,r[o]={type:p3,value:new Uint8Array(e.buffer,e.byteOffset+n,i)},n+=i;break;case 7:let a=e.getUint16(n,!1);n+=2,r[o]={type:y3,value:this.toUtf8(new Uint8Array(e.buffer,e.byteOffset+n,a))},n+=a;break;case 8:r[o]={type:g3,value:new Date(new hs(new Uint8Array(e.buffer,e.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(e.buffer,e.byteOffset+n,16);n+=16,r[o]={type:E3,value:`${nt(c.subarray(0,4))}-${nt(c.subarray(4,6))}-${nt(c.subarray(6,8))}-${nt(c.subarray(8,10))}-${nt(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},l0;(function(t){t[t.boolTrue=0]="boolTrue",t[t.boolFalse=1]="boolFalse",t[t.byte=2]="byte",t[t.short=3]="short",t[t.integer=4]="integer",t[t.long=5]="long",t[t.byteArray=6]="byteArray",t[t.string=7]="string",t[t.timestamp=8]="timestamp",t[t.uuid=9]="uuid"})(l0||(l0={}));var u0="boolean",u3="byte",f3="short",h3="integer",m3="long",p3="binary",y3="string",g3="timestamp",E3="uuid",x3=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var f0=Gt(ma()),h0=4,ms=h0*2,Ws=4,C3=ms+Ws*2;function m0({byteLength:t,byteOffset:e,buffer:r}){if(t<C3)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,e,t),s=n.getUint32(0,!1);if(t!==s)throw new Error("Reported message length does not match received message length");let o=n.getUint32(h0,!1),i=n.getUint32(ms,!1),a=n.getUint32(t-Ws,!1),c=new f0.Crc32().update(new Uint8Array(r,e,ms));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,e+ms,t-(ms+Ws))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,e+ms+Ws,o),body:new Uint8Array(r,e+ms+Ws+o,s-o-(ms+Ws+Ws))}}var Kd=class{constructor(e,r){this.headerMarshaller=new Gd(e,r)}encode({headers:e,body:r}){let n=this.headerMarshaller.format(e),s=n.byteLength+r.byteLength+16,o=new Uint8Array(s),i=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new p0.Crc32;return i.setUint32(0,s,!1),i.setUint32(4,n.byteLength,!1),i.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(r,n.byteLength+12),i.setUint32(s-4,a.update(o.subarray(8,s-4)).digest(),!1),o}decode(e){let{headers:r,body:n}=m0(e);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(e){return this.headerMarshaller.format(e)}};function y0(t){let e=0,r=0,n=null,s=null,o=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);e=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},i=async function*(){let a=t[Symbol.asyncIterator]();for(;;){let{value:c,done:d}=await a.next();if(d){if(e)if(e===r)yield n;else throw new Error("Truncated event message received.");else return;return}let l=c.length,f=0;for(;f<l;){if(!n){let g=l-f;s||(s=new Uint8Array(4));let y=Math.min(4-r,g);if(s.set(c.slice(f,f+y),r),r+=y,f+=y,r<4)break;o(new DataView(s.buffer).getUint32(0,!1)),s=null}let u=Math.min(e-r,l-f);n.set(c.slice(f,f+u),r),r+=u,f+=u,e&&e===r&&(yield n,n=null,e=0,r=0)}}};return{[Symbol.asyncIterator]:i}}function g0(t,e){return{[Symbol.asyncIterator]:async function*(){for await(let r of t){let n=e.eventStreamCodec.decode(r),{value:s}=n.headers[":message-type"];if(s==="error"){let o=new Error(n.headers[":error-message"].value||"UnknownError");throw o.name=n.headers[":error-code"].value,o}else if(s==="exception"){let o=n.headers[":exception-type"].value,i={[o]:n},a=await e.deserializer(i);if(a.$unknown){let c=new Error(e.toUtf8(n.body));throw c.name=o,c}throw a[o]}else if(s==="event"){let o={[n.headers[":event-type"].value]:n},i=await e.deserializer(o);if(i.$unknown)continue;yield i}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}}}var Ba=class{constructor({utf8Encoder:e,utf8Decoder:r}){this.eventStreamCodec=new Kd(e,r),this.utfEncoder=e}deserialize(e,r){let n=y0(e);return g0(n,{eventStreamCodec:this.eventStreamCodec,deserializer:r,toUtf8:this.utfEncoder})}serialize(e,r){let n=this,s=async function*(){for await(let o of e)yield n.eventStreamCodec.encode(r(o));yield new Uint8Array(0)};return{[Symbol.asyncIterator]:s}}};var x0=require("stream");async function*E0(t){let e=!1,r=!1,n=new Array;for(t.on("error",s=>{if(e||(e=!0),s)throw s}),t.on("data",s=>{n.push(s)}),t.on("end",()=>{e=!0});!r;){let s=await new Promise(o=>setTimeout(()=>o(n.shift()),0));s&&(yield s),r=e&&n.length===0}}var Vd=class{constructor({utf8Encoder:e,utf8Decoder:r}){this.universalMarshaller=new Ba({utf8Decoder:r,utf8Encoder:e})}deserialize(e,r){let n=typeof e[Symbol.asyncIterator]=="function"?e:E0(e);return this.universalMarshaller.deserialize(n,r)}serialize(e,r){return x0.Readable.from(this.universalMarshaller.serialize(e,r))}};var C0=t=>new Vd(t);var S0=require("stream"),Ma=class extends S0.Writable{constructor(e,r){super(r),this.hash=e}_write(e,r,n){try{this.hash.update(At(e))}catch(s){return n(s)}n()}};var w0=(t,e)=>{if(e.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new t,n=new Ma(r);return e.pipe(n),new Promise((s,o)=>{e.on("error",i=>{n.end(),o(i)}),n.on("error",o),n.on("finish",()=>{r.digest().then(s).catch(o)})})};var S3="AWS_S3_USE_ARN_REGION",w3="s3_use_arn_region",b0={environmentVariableSelector:t=>Rr(t,S3,Qt.ENV),configFileSelector:t=>Rr(t,w3,Qt.CONFIG),default:!1};var _0=require("stream"),R0=(t,e)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=e,a=r!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,c=a?i(s,t):void 0,d=new _0.Readable({read:()=>{}});return t.on("data",l=>{d.push(`${(n(l)||0).toString(16)}\r
${l.toString()}\r
`)}),t.on("end",async()=>{if(d.push(`0\r
`),a){let l=r(await c);d.push(`${o}:${l}\r
`),d.push(`\r
`)}d.push(null)}),d};var Wd=require("stream"),k0=require("util"),A0="The stream has already been transformed.",T0=t=>{var n,s;if(!(t instanceof Wd.Readable)){let o=((s=(n=t==null?void 0:t.__proto__)==null?void 0:n.constructor)==null?void 0:s.name)||t;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let e=!1,r=async()=>{if(e)throw new Error(A0);return e=!0,await Pr(t)};return Object.assign(t,{transformToByteArray:r,transformToString:async o=>{let i=await r();return o===void 0||Buffer.isEncoding(o)?Zr(i.buffer,i.byteOffset,i.byteLength).toString(o):new k0.TextDecoder(o).decode(i)},transformToWebStream:()=>{if(e)throw new Error(A0);if(t.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Wd.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return e=!0,Wd.Readable.toWeb(t)}})};var Yd=class{constructor(e){this.sigv4Signer=new qs(e),this.signerOptions=e}async sign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(e,r)}return this.sigv4Signer.sign(e,r)}async presign(e,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(e,r)}return this.sigv4Signer.presign(e,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let e;try{if(e=typeof require=="function"&&require("@aws-sdk/signature-v4-crt").CrtSignerV4,typeof e!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new e({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}};var mm="required",h="type",x="rules",E="conditions",m="fn",p="argv",b="ref",Qe="assign",P="url",O="properties",q="authSchemes",H="disableDoubleEncoding",j="signingName",G="signingRegion",I="headers";var C="tree",Ft="isSet",La="substring",BR="hardwareType",MR="regionPrefix",N0="abbaSuffix",fm="outpostId",qa="aws.partition",L="stringEquals",Qs="isValidHostLabel",Oe="not",D="error",LR="parseURL",pm="s3-outposts",_="endpoint",N="booleanEquals",FR="aws.parseArn",V="s3",v0="aws.isVirtualHostableS3Bucket",Ne="getAttr",z="name",Vh="Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",UR="https://{Bucket}.s3.{partitionResult#dnsSuffix}",zR="bucketArn",$R="arnType",tl="",ym="s3-object-lambda",qR="accesspoint",gm="accessPointName",P0="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",O0="mrapPartition",I0="outpostType",D0="arnPrefix",Zs="{url#scheme}://{url#authority}{url#path}",HR="https://s3.{partitionResult#dnsSuffix}",Wh={[mm]:!1,[h]:"String"},Fa={[mm]:!0,default:!1,[h]:"Boolean"},Xd={[mm]:!1,[h]:"Boolean"},jR={[m]:Ft,[p]:[{[b]:"Bucket"}]},Mr={[b]:"Bucket"},B0={[b]:BR},M0={[E]:[{[m]:Oe,[p]:[{[m]:Ft,[p]:[{[b]:"Endpoint"}]}]}],[D]:"Expected a endpoint to be specified but no endpoint was found",[h]:D},W={[m]:Oe,[p]:[{[m]:Ft,[p]:[{[b]:"Endpoint"}]}]},se={[m]:Ft,[p]:[{[b]:"Endpoint"}]},ye={[m]:LR,[p]:[{[b]:"Endpoint"}],[Qe]:"url"},Qd={[q]:[{[H]:!0,[z]:"sigv4",[j]:pm,[G]:"{Region}"}]},qe={},L0={[b]:"ForcePathStyle"},F0={[E]:[{[m]:"uriEncode",[p]:[Mr],[Qe]:"uri_encoded_bucket"}],[h]:C,[x]:[{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},se],[D]:"Cannot set dual-stack in combination with a custom endpoint.",[h]:D},{[h]:C,[x]:[{[E]:[{[m]:qa,[p]:[{[b]:"Region"}],[Qe]:"partitionResult"}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:N,[p]:[{[b]:"Accelerate"},!1]}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:Oe,[p]:[{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:C,[x]:[{[_]:{[P]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:Oe,[p]:[{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[P]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ye,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ye,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ye,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:Oe,[p]:[{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:C,[x]:[{[_]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ye,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:Oe,[p]:[{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:Oe,[p]:[{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:C,[x]:[{[_]:{[P]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:Oe,[p]:[{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[P]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:Oe,[p]:[{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:C,[x]:[{[_]:{[P]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:Oe,[p]:[{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[P]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ye,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ye,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ye,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:Oe,[p]:[{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:C,[x]:[{[E]:[{[m]:L,[p]:[{[b]:"Region"},"us-east-1"]}],[_]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_},{[_]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ye,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:Oe,[p]:[{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:Oe,[p]:[{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:C,[x]:[{[E]:[{[m]:L,[p]:[{[b]:"Region"},"us-east-1"]}],[_]:{[P]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_},{[_]:{[P]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:Oe,[p]:[{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[P]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[I]:{}},[h]:_}]}]},{[D]:"Path-style addressing cannot be used with S3 Accelerate",[h]:D}]}]},{[D]:"A valid partition could not be determined",[h]:D}]}]},xe={[m]:N,[p]:[{[b]:"UseDualStack"},!0]},Ge={[m]:N,[p]:[{[b]:"Accelerate"},!1]},Re={[m]:N,[p]:[{[b]:"UseFIPS"},!0]},ce={[m]:Oe,[p]:[{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}]},ct={[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!0]},lt={[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},dt={[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!1]},he={[m]:N,[p]:[{[b]:"UseDualStack"},!1]},oe={[m]:N,[p]:[{[b]:"UseFIPS"},!1]},Ys={[D]:"A valid partition could not be determined",[h]:D},Yh={[E]:[Re,{[m]:L,[p]:[{[m]:Ne,[p]:[{[b]:"partitionResult"},z]},"aws-cn"]}],[D]:"Partition does not support FIPS",[h]:D},O3={[m]:L,[p]:[{[m]:Ne,[p]:[{[b]:"partitionResult"},z]},"aws-cn"]},mr={[m]:N,[p]:[{[b]:"Accelerate"},!0]},U0={[E]:[xe,Re,Ge,W,{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},z0={[P]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[O]:lt,[I]:{}},$0={[E]:[he,Re,Ge,W,{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},q0={[P]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[O]:lt,[I]:{}},H0={[E]:[xe,oe,mr,W,{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},j0={[P]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[O]:lt,[I]:{}},G0={[E]:[xe,oe,Ge,W,{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},K0={[P]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[O]:lt,[I]:{}},V0={[E]:[he,oe,Ge,se,ye,{[m]:N,[p]:[{[m]:Ne,[p]:[{[b]:"url"},"isIp"]},!0]},{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},W0={[m]:N,[p]:[{[m]:Ne,[p]:[{[b]:"url"},"isIp"]},!0]},Em={[b]:"url"},Y0={[E]:[he,oe,Ge,se,ye,{[m]:N,[p]:[{[m]:Ne,[p]:[Em,"isIp"]},!1]},{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},X0={[m]:N,[p]:[{[m]:Ne,[p]:[Em,"isIp"]},!1]},Xh={[P]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[O]:lt,[I]:{}},hm={[P]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[O]:lt,[I]:{}},Q0={[_]:hm,[h]:_},Z0={[E]:[he,oe,mr,W,{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},Qh={[P]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[O]:lt,[I]:{}},J0={[E]:[he,oe,Ge,W,{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:UR,[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},eR={[P]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[O]:lt,[I]:{}},Zd={[D]:"Invalid region: region was not a valid DNS name.",[h]:D},Nt={[b]:zR},GR={[b]:$R},Zh={[m]:Ne,[p]:[Nt,"service"]},xm={[b]:gm},tR={[E]:[xe],[D]:"S3 Object Lambda does not support Dual-stack",[h]:D},rR={[E]:[mr],[D]:"S3 Object Lambda does not support S3 Accelerate",[h]:D},nR={[E]:[{[m]:Ft,[p]:[{[b]:"DisableAccessPoints"}]},{[m]:N,[p]:[{[b]:"DisableAccessPoints"},!0]}],[D]:"Access points are not supported for this operation",[h]:D},Jh={[E]:[{[m]:Ft,[p]:[{[b]:"UseArnRegion"}]},{[m]:N,[p]:[{[b]:"UseArnRegion"},!1]},{[m]:Oe,[p]:[{[m]:L,[p]:[{[m]:Ne,[p]:[Nt,"region"]},"{Region}"]}]}],[D]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[h]:D},Cm={[m]:Ne,[p]:[{[b]:"bucketPartition"},z]},KR={[m]:Ne,[p]:[Nt,"accountId"]},sR={[E]:[Re,{[m]:L,[p]:[Cm,"aws-cn"]}],[D]:"Partition does not support FIPS",[h]:D},em={[q]:[{[H]:!0,[z]:"sigv4",[j]:ym,[G]:"{bucketArn#region}"}]},oR={[D]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[h]:D},tm={[D]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[h]:D},rm={[D]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[h]:D},nm={[D]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[h]:D},iR={[D]:"Could not load partition for ARN region `{bucketArn#region}`",[h]:D},aR={[D]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[h]:D},cR={[D]:"Invalid ARN: bucket ARN is missing a region",[h]:D},dR={[D]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[h]:D},Ua={[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{bucketArn#region}"}]},lR={[q]:[{[H]:!0,[z]:"sigv4",[j]:pm,[G]:"{bucketArn#region}"}]},uR={[b]:"UseObjectLambdaEndpoint"},sm={[q]:[{[H]:!0,[z]:"sigv4",[j]:ym,[G]:"{Region}"}]},fR={[E]:[Re,xe,se,ye,{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:Zs,[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},VR={[_]:{[P]:Zs,[O]:lt,[I]:{}},[h]:_},za={[P]:Zs,[O]:lt,[I]:{}},hR={[E]:[Re,xe,W,{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},mR={[P]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[O]:lt,[I]:{}},pR={[E]:[Re,he,se,ye,{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:Zs,[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},yR={[E]:[Re,he,W,{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},gR={[P]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[O]:lt,[I]:{}},ER={[E]:[oe,xe,se,ye,{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:Zs,[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},xR={[E]:[oe,xe,W,{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},CR={[P]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[O]:lt,[I]:{}},SR={[E]:[oe,he,se,ye,{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:Zs,[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},wR={[E]:[oe,he,W,{[m]:L,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[P]:HR,[O]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[I]:{}},[h]:_},bR={[P]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[O]:lt,[I]:{}},el=[{[b]:"Region"}],I3=[Mr],_R=[{[m]:Qs,[p]:[{[b]:fm},!1]}],RR=[{[m]:L,[p]:[{[b]:MR},"beta"]}],D3=[{[b]:"Endpoint"}],$a=[se,ye],AR=[jR],kR=[{[m]:FR,[p]:[Mr]}],B3=[xe,se],Xs=[{[m]:qa,[p]:el,[Qe]:"partitionResult"}],Ei=[{[m]:L,[p]:[{[b]:"Region"},"us-east-1"]}],TR=[{[m]:Qs,[p]:[{[b]:"Region"},!1]}],om=[{[m]:L,[p]:[GR,qR]}],NR=[{[m]:Ne,[p]:[Nt,"resourceId[1]"],[Qe]:gm},{[m]:Oe,[p]:[{[m]:L,[p]:[xm,tl]}]}],M3=[Nt,"resourceId[1]"],vR=[xe],im=[mr],am=[{[m]:Oe,[p]:[{[m]:L,[p]:[{[m]:Ne,[p]:[Nt,"region"]},tl]}]}],PR=[{[m]:Oe,[p]:[{[m]:Ft,[p]:[{[m]:Ne,[p]:[Nt,"resourceId[2]"]}]}]}],L3=[Nt,"resourceId[2]"],cm=[{[m]:qa,[p]:[{[m]:Ne,[p]:[Nt,"region"]}],[Qe]:"bucketPartition"}],OR=[{[m]:L,[p]:[Cm,{[m]:Ne,[p]:[{[b]:"partitionResult"},z]}]}],dm=[{[m]:Qs,[p]:[{[m]:Ne,[p]:[Nt,"region"]},!0]}],lm=[{[m]:Qs,[p]:[KR,!1]}],IR=[{[m]:Qs,[p]:[xm,!1]}],Jd=[Re],DR=[{[m]:Qs,[p]:[{[b]:"Region"},!0]}],um=[VR],F3={version:"1.0",parameters:{Bucket:Wh,Region:Wh,UseFIPS:Fa,UseDualStack:Fa,Endpoint:Wh,ForcePathStyle:Xd,Accelerate:Fa,UseGlobalEndpoint:Fa,UseObjectLambdaEndpoint:Xd,DisableAccessPoints:Xd,DisableMultiRegionAccessPoints:Fa,UseArnRegion:Xd},[x]:[{[h]:C,[x]:[{[E]:[{[m]:Ft,[p]:el}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:[jR,{[m]:La,[p]:[Mr,49,50,!0],[Qe]:BR},{[m]:La,[p]:[Mr,8,12,!0],[Qe]:MR},{[m]:La,[p]:[Mr,0,7,!0],[Qe]:N0},{[m]:La,[p]:[Mr,32,49,!0],[Qe]:fm},{[m]:qa,[p]:el,[Qe]:"regionPartition"},{[m]:L,[p]:[{[b]:N0},"--op-s3"]}],[h]:C,[x]:[{[E]:_R,[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:L,[p]:[B0,"e"]}],[h]:C,[x]:[{[E]:RR,[h]:C,[x]:[M0,{[E]:$a,endpoint:{[P]:"https://{Bucket}.ec2.{url#authority}",[O]:Qd,[I]:qe},[h]:_}]},{endpoint:{[P]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[O]:Qd,[I]:qe},[h]:_}]},{[E]:[{[m]:L,[p]:[B0,"o"]}],[h]:C,[x]:[{[E]:RR,[h]:C,[x]:[M0,{[E]:$a,endpoint:{[P]:"https://{Bucket}.op-{outpostId}.{url#authority}",[O]:Qd,[I]:qe},[h]:_}]},{endpoint:{[P]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[O]:Qd,[I]:qe},[h]:_}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[h]:D}]}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[h]:D}]},{[E]:AR,[h]:C,[x]:[{[E]:[se,{[m]:Oe,[p]:[{[m]:Ft,[p]:[{[m]:LR,[p]:D3}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[h]:D},{[h]:C,[x]:[{[E]:[{[m]:Ft,[p]:[L0]},{[m]:N,[p]:[L0,!0]}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:kR,error:"Path-style addressing cannot be used with ARN buckets",[h]:D},F0]}]},{[E]:[{[m]:v0,[p]:[Mr,!1]}],[h]:C,[x]:[{[E]:Xs,[h]:C,[x]:[{[h]:C,[x]:[{[E]:TR,[h]:C,[x]:[{[h]:C,[x]:[Yh,{[h]:C,[x]:[{[E]:[mr,Re],error:"Accelerate cannot be used with FIPS",[h]:D},{[h]:C,[x]:[{[E]:[mr,O3],error:"S3 Accelerate cannot be used in this region",[h]:D},{[h]:C,[x]:[{[E]:[se,xe],error:Vh,[h]:D},{[h]:C,[x]:[{[E]:[se,Re],error:Vh,[h]:D},{[h]:C,[x]:[{[E]:[se,mr],error:Vh,[h]:D},{[h]:C,[x]:[U0,U0,{[E]:[xe,Re,Ge,W,ce,ct],[h]:C,[x]:[{endpoint:z0,[h]:_}]},{[E]:[xe,Re,Ge,W,ce,dt],endpoint:z0,[h]:_},$0,$0,{[E]:[he,Re,Ge,W,ce,ct],[h]:C,[x]:[{endpoint:q0,[h]:_}]},{[E]:[he,Re,Ge,W,ce,dt],endpoint:q0,[h]:_},H0,H0,{[E]:[xe,oe,mr,W,ce,ct],[h]:C,[x]:[{endpoint:j0,[h]:_}]},{[E]:[xe,oe,mr,W,ce,dt],endpoint:j0,[h]:_},G0,G0,{[E]:[xe,oe,Ge,W,ce,ct],[h]:C,[x]:[{endpoint:K0,[h]:_}]},{[E]:[xe,oe,Ge,W,ce,dt],endpoint:K0,[h]:_},V0,Y0,V0,Y0,{[E]:[he,oe,Ge,se,ye,W0,ce,ct],[h]:C,[x]:[{[E]:Ei,endpoint:Xh,[h]:_},{endpoint:Xh,[h]:_}]},{[E]:[he,oe,Ge,se,ye,X0,ce,ct],[h]:C,[x]:[{[E]:Ei,endpoint:hm,[h]:_},Q0]},{[E]:[he,oe,Ge,se,ye,W0,ce,dt],endpoint:Xh,[h]:_},{[E]:[he,oe,Ge,se,ye,X0,ce,dt],endpoint:hm,[h]:_},Z0,Z0,{[E]:[he,oe,mr,W,ce,ct],[h]:C,[x]:[{[E]:Ei,endpoint:Qh,[h]:_},{endpoint:Qh,[h]:_}]},{[E]:[he,oe,mr,W,ce,dt],endpoint:Qh,[h]:_},J0,J0,{[E]:[he,oe,Ge,W,ce,ct],[h]:C,[x]:[{[E]:Ei,endpoint:{[P]:UR,[O]:lt,[I]:qe},[h]:_},{endpoint:eR,[h]:_}]},{[E]:[he,oe,Ge,W,ce,dt],endpoint:eR,[h]:_}]}]}]}]}]}]}]}]},Zd]}]},Ys]},{[E]:[se,ye,{[m]:L,[p]:[{[m]:Ne,[p]:[Em,"scheme"]},"http"]},{[m]:v0,[p]:[Mr,!0]},oe,he,Ge],[h]:C,[x]:[{[E]:Xs,[h]:C,[x]:[{[h]:C,[x]:[{[E]:TR,[h]:C,[x]:[Q0]},Zd]}]},Ys]},{[E]:[{[m]:FR,[p]:I3,[Qe]:zR}],[h]:C,[x]:[{[E]:[{[m]:Ne,[p]:[Nt,"resourceId[0]"],[Qe]:$R},{[m]:Oe,[p]:[{[m]:L,[p]:[GR,tl]}]}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:L,[p]:[Zh,ym]}],[h]:C,[x]:[{[E]:om,[h]:C,[x]:[{[h]:C,[x]:[{[E]:NR,[h]:C,[x]:[{[h]:C,[x]:[tR,{[h]:C,[x]:[rR,{[h]:C,[x]:[{[E]:am,[h]:C,[x]:[{[h]:C,[x]:[nR,{[h]:C,[x]:[{[E]:PR,[h]:C,[x]:[{[h]:C,[x]:[Jh,{[h]:C,[x]:[{[E]:cm,[h]:C,[x]:[{[h]:C,[x]:[{[E]:Xs,[h]:C,[x]:[{[h]:C,[x]:[{[E]:OR,[h]:C,[x]:[{[h]:C,[x]:[{[E]:dm,[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:L,[p]:[KR,tl]}],error:"Invalid ARN: Missing account id",[h]:D},{[h]:C,[x]:[{[E]:lm,[h]:C,[x]:[{[h]:C,[x]:[{[E]:IR,[h]:C,[x]:[{[h]:C,[x]:[sR,{[h]:C,[x]:[{[E]:$a,endpoint:{[P]:P0,[O]:em,[I]:qe},[h]:_},{[E]:Jd,endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:em,[I]:qe},[h]:_},{endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:em,[I]:qe},[h]:_}]}]}]},oR]}]},tm]}]}]},rm]}]},nm]}]},Ys]}]},iR]}]}]},aR]}]}]},cR]}]}]}]},dR]}]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[h]:D}]},{[E]:om,[h]:C,[x]:[{[E]:NR,[h]:C,[x]:[{[h]:C,[x]:[{[E]:am,[h]:C,[x]:[{[E]:om,[h]:C,[x]:[{[E]:am,[h]:C,[x]:[{[h]:C,[x]:[nR,{[h]:C,[x]:[{[E]:PR,[h]:C,[x]:[{[h]:C,[x]:[Jh,{[h]:C,[x]:[{[E]:cm,[h]:C,[x]:[{[h]:C,[x]:[{[E]:Xs,[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:L,[p]:[Cm,"{partitionResult#name}"]}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:dm,[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:L,[p]:[Zh,V]}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:lm,[h]:C,[x]:[{[h]:C,[x]:[{[E]:IR,[h]:C,[x]:[{[h]:C,[x]:[{[E]:im,error:"Access Points do not support S3 Accelerate",[h]:D},{[h]:C,[x]:[sR,{[h]:C,[x]:[{[E]:B3,error:"DualStack cannot be combined with a Host override (PrivateLink)",[h]:D},{[h]:C,[x]:[{[E]:[Re,xe],endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:Ua,[I]:qe},[h]:_},{[E]:[Re,he],endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:Ua,[I]:qe},[h]:_},{[E]:[oe,xe],endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:Ua,[I]:qe},[h]:_},{[E]:[oe,he,se,ye],endpoint:{[P]:P0,[O]:Ua,[I]:qe},[h]:_},{[E]:[oe,he],endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:Ua,[I]:qe},[h]:_}]}]}]}]}]},oR]}]},tm]}]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[h]:D}]}]},rm]}]},nm]}]},Ys]}]},iR]}]}]},aR]}]}]},cR]}]},{[h]:C,[x]:[{[E]:[{[m]:Qs,[p]:[xm,!0]}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:vR,error:"S3 MRAP does not support dual-stack",[h]:D},{[h]:C,[x]:[{[E]:Jd,error:"S3 MRAP does not support FIPS",[h]:D},{[h]:C,[x]:[{[E]:im,error:"S3 MRAP does not support S3 Accelerate",[h]:D},{[h]:C,[x]:[{[E]:[{[m]:N,[p]:[{[b]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[h]:D},{[h]:C,[x]:[{[E]:[{[m]:qa,[p]:el,[Qe]:O0}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:L,[p]:[{[m]:Ne,[p]:[{[b]:O0},z]},{[m]:Ne,[p]:[Nt,"partition"]}]}],[h]:C,[x]:[{endpoint:{[P]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[O]:{[q]:[{[H]:!0,name:"sigv4a",[j]:V,signingRegionSet:["*"]}]},[I]:qe},[h]:_}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[h]:D}]}]},{error:"{Region} was not a valid region",[h]:D}]}]}]}]}]}]},{error:"Invalid Access Point Name",[h]:D}]}]}]},dR]},{[E]:[{[m]:L,[p]:[Zh,pm]}],[h]:C,[x]:[{[E]:vR,error:"S3 Outposts does not support Dual-stack",[h]:D},{[h]:C,[x]:[{[E]:Jd,error:"S3 Outposts does not support FIPS",[h]:D},{[h]:C,[x]:[{[E]:im,error:"S3 Outposts does not support S3 Accelerate",[h]:D},{[h]:C,[x]:[{[E]:[{[m]:Ft,[p]:[{[m]:Ne,[p]:[Nt,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[h]:D},{[h]:C,[x]:[{[E]:[{[m]:Ne,[p]:M3,[Qe]:fm}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:_R,[h]:C,[x]:[{[h]:C,[x]:[Jh,{[h]:C,[x]:[{[E]:cm,[h]:C,[x]:[{[h]:C,[x]:[{[E]:Xs,[h]:C,[x]:[{[h]:C,[x]:[{[E]:OR,[h]:C,[x]:[{[h]:C,[x]:[{[E]:dm,[h]:C,[x]:[{[h]:C,[x]:[{[E]:lm,[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:Ne,[p]:L3,[Qe]:I0}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:Ne,[p]:[Nt,"resourceId[3]"],[Qe]:gm}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:L,[p]:[{[b]:I0},qR]}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:$a,endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[O]:lR,[I]:qe},[h]:_},{endpoint:{[P]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[O]:lR,[I]:qe},[h]:_}]}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[h]:D}]}]},{error:"Invalid ARN: expected an access point name",[h]:D}]}]},{error:"Invalid ARN: Expected a 4-component resource",[h]:D}]}]},tm]}]},rm]}]},nm]}]},Ys]}]},{error:"Could not load partition for ARN region {bucketArn#region}",[h]:D}]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[h]:D}]}]},{error:"Invalid ARN: The Outpost Id was not set",[h]:D}]}]}]}]}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[h]:D}]}]},{error:"Invalid ARN: No ARN type specified",[h]:D}]},{[E]:[{[m]:La,[p]:[Mr,0,4,!1],[Qe]:D0},{[m]:L,[p]:[{[b]:D0},"arn:"]},{[m]:Oe,[p]:[{[m]:Ft,[p]:kR}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[h]:D},F0]}]},{[E]:[{[m]:Ft,[p]:[uR]},{[m]:N,[p]:[uR,!0]}],[h]:C,[x]:[{[E]:Xs,[h]:C,[x]:[{[h]:C,[x]:[{[E]:DR,[h]:C,[x]:[{[h]:C,[x]:[tR,{[h]:C,[x]:[rR,{[h]:C,[x]:[Yh,{[h]:C,[x]:[{[E]:$a,endpoint:{[P]:Zs,[O]:sm,[I]:qe},[h]:_},{[E]:Jd,endpoint:{[P]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[O]:sm,[I]:qe},[h]:_},{endpoint:{[P]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[O]:sm,[I]:qe},[h]:_}]}]}]}]}]},Zd]}]},Ys]},{[E]:[{[m]:Oe,[p]:AR}],[h]:C,[x]:[{[E]:Xs,[h]:C,[x]:[{[h]:C,[x]:[{[E]:DR,[h]:C,[x]:[{[h]:C,[x]:[Yh,{[h]:C,[x]:[fR,fR,{[E]:[Re,xe,se,ye,ce,ct],[h]:C,[x]:um},{[E]:[Re,xe,se,ye,ce,dt],endpoint:za,[h]:_},hR,hR,{[E]:[Re,xe,W,ce,ct],[h]:C,[x]:[{endpoint:mR,[h]:_}]},{[E]:[Re,xe,W,ce,dt],endpoint:mR,[h]:_},pR,pR,{[E]:[Re,he,se,ye,ce,ct],[h]:C,[x]:um},{[E]:[Re,he,se,ye,ce,dt],endpoint:za,[h]:_},yR,yR,{[E]:[Re,he,W,ce,ct],[h]:C,[x]:[{endpoint:gR,[h]:_}]},{[E]:[Re,he,W,ce,dt],endpoint:gR,[h]:_},ER,ER,{[E]:[oe,xe,se,ye,ce,ct],[h]:C,[x]:um},{[E]:[oe,xe,se,ye,ce,dt],endpoint:za,[h]:_},xR,xR,{[E]:[oe,xe,W,ce,ct],[h]:C,[x]:[{endpoint:CR,[h]:_}]},{[E]:[oe,xe,W,ce,dt],endpoint:CR,[h]:_},SR,SR,{[E]:[oe,he,se,ye,ce,ct],[h]:C,[x]:[{[E]:Ei,endpoint:za,[h]:_},VR]},{[E]:[oe,he,se,ye,ce,dt],endpoint:za,[h]:_},wR,wR,{[E]:[oe,he,W,ce,ct],[h]:C,[x]:[{[E]:Ei,endpoint:{[P]:HR,[O]:lt,[I]:qe},[h]:_},{endpoint:bR,[h]:_}]},{[E]:[oe,he,W,ce,dt],endpoint:bR,[h]:_}]}]}]},Zd]}]},Ys]}]}]},{error:"A region must be set when sending requests to S3.",[h]:D}]}]},WR=F3;var YR=(t,e={})=>rs(WR,{endpointParams:t,logger:e.logger});var XR=t=>({apiVersion:"2006-03-01",base64Decoder:(t==null?void 0:t.base64Decoder)??cs,base64Encoder:(t==null?void 0:t.base64Encoder)??ds,disableHostPrefix:(t==null?void 0:t.disableHostPrefix)??!1,endpointProvider:(t==null?void 0:t.endpointProvider)??YR,logger:(t==null?void 0:t.logger)??new Cr,serviceId:(t==null?void 0:t.serviceId)??"S3",signerConstructor:(t==null?void 0:t.signerConstructor)??Yd,signingEscapePath:(t==null?void 0:t.signingEscapePath)??!1,urlParser:(t==null?void 0:t.urlParser)??_t,useArnRegion:(t==null?void 0:t.useArnRegion)??!1,utf8Decoder:(t==null?void 0:t.utf8Decoder)??_r,utf8Encoder:(t==null?void 0:t.utf8Encoder)??zn});var QR=t=>{Bn(process.version);let e=ls(t),r=()=>e().then(Dn),n=XR(t);return{...n,...t,runtime:"node",defaultsMode:e,bodyLengthChecker:(t==null?void 0:t.bodyLengthChecker)??is,credentialDefaultProvider:(t==null?void 0:t.credentialDefaultProvider)??c0(jd),defaultUserAgentProvider:(t==null?void 0:t.defaultUserAgentProvider)??as({serviceId:n.serviceId,clientVersion:xw.version}),eventStreamSerdeProvider:(t==null?void 0:t.eventStreamSerdeProvider)??C0,getAwsChunkedEncodingStream:(t==null?void 0:t.getAwsChunkedEncodingStream)??R0,maxAttempts:(t==null?void 0:t.maxAttempts)??ie(Yn),md5:(t==null?void 0:t.md5)??er.bind(null,"md5"),region:(t==null?void 0:t.region)??ie(Ar,Hn),requestHandler:(t==null?void 0:t.requestHandler)??new vr(r),retryMode:(t==null?void 0:t.retryMode)??ie({...Qn,default:async()=>(await r()).retryMode||Tr}),sdkStreamMixin:(t==null?void 0:t.sdkStreamMixin)??T0,sha1:(t==null?void 0:t.sha1)??er.bind(null,"sha1"),sha256:(t==null?void 0:t.sha256)??er.bind(null,"sha256"),streamCollector:(t==null?void 0:t.streamCollector)??Pr,streamHasher:(t==null?void 0:t.streamHasher)??w0,useArnRegion:(t==null?void 0:t.useArnRegion)??ie(b0),useDualstackEndpoint:(t==null?void 0:t.useDualstackEndpoint)??ie($n),useFipsEndpoint:(t==null?void 0:t.useFipsEndpoint)??ie(qn)}};var rl=class extends Sr{constructor(e){let r=QR(e),n=Ew(r),s=jn(n),o=On(s),i=Xn(o),a=i,c=ld(a),d=OC(c),l=es(d),f=mS(l);super(f),this.config=f,this.middlewareStack.use(Zn(this.config)),this.middlewareStack.use(Gn(this.config)),this.middlewareStack.use(Kn(this.config)),this.middlewareStack.use(Vn(this.config)),this.middlewareStack.use(Wn(this.config)),this.middlewareStack.use(fd(this.config)),this.middlewareStack.use(BC(this.config)),this.middlewareStack.use(yS(this.config)),this.middlewareStack.use(ns(this.config))}destroy(){super.destroy()}};var nl=class{constructor(){this.onabort=null,this._aborted=!1,Object.defineProperty(this,"_aborted",{value:!1,writable:!0})}get aborted(){return this._aborted}abort(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}};var sl=class{constructor(){this.signal=new nl}abort(){this.signal.abort()}};var al=require("events");var JR=require("fs");var ZR={lstatSync:()=>{}};var eA={...ZR,runtime:"node",lstatSync:JR.lstatSync};var ol=t=>{if(t==null)return 0;if(typeof t=="string"&&(t=Buffer.from(t)),typeof t.byteLength=="number")return t.byteLength;if(typeof t.length=="number")return t.length;if(typeof t.size=="number")return t.size;if(typeof t.path=="string")try{return eA.lstatSync(t.path).size}catch{return}};var _m=require("buffer"),sA=require("stream");async function*Sm(t,e){let r=1,n=0,s=e;for(;s<t.byteLength;)yield{partNumber:r,data:t.slice(n,s)},r+=1,n=s,s=n+e;yield{partNumber:r,data:t.slice(n),lastPart:!0}}var wm=require("buffer");async function*il(t,e,r){let n=1,s={chunks:[],length:0};for await(let o of r(t))for(s.chunks.push(o),s.length+=o.length;s.length>=e;){let i=s.chunks.length>1?wm.Buffer.concat(s.chunks):s.chunks[0];yield{partNumber:n,data:i.slice(0,e)},s.chunks=[i.slice(e)],s.length=s.chunks[0].length,n+=1}yield{partNumber:n,data:wm.Buffer.concat(s.chunks),lastPart:!0}}var tA=require("buffer");async function*rA(t){for await(let e of t)yield tA.Buffer.from(e)}var nA=require("buffer");async function*bm(t){let e=t.getReader();try{for(;;){let{done:r,value:n}=await e.read();if(r)return;yield nA.Buffer.from(n)}}catch(r){throw r}finally{e.releaseLock()}}var oA=(t,e)=>{if(t instanceof _m.Buffer)return Sm(t,e);if(t instanceof sA.Readable)return il(t,e,rA);if(t instanceof String||typeof t=="string"||t instanceof Uint8Array)return Sm(_m.Buffer.from(t),e);if(typeof t.stream=="function")return il(t.stream(),e,bm);if(t instanceof ReadableStream)return il(t,e,bm);throw new Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")};var Rm=1024*1024*5,cl=class extends al.EventEmitter{constructor(e){super(),this.MAX_PARTS=1e4,this.queueSize=4,this.partSize=Rm,this.leavePartsOnError=!1,this.tags=[],this.concurrentUploaders=[],this.uploadedParts=[],this.isMultiPart=!0,this.queueSize=e.queueSize||this.queueSize,this.partSize=e.partSize||this.partSize,this.leavePartsOnError=e.leavePartsOnError||this.leavePartsOnError,this.tags=e.tags||this.tags,this.client=e.client,this.params=e.params,this.__validateInput(),this.totalBytes=ol(this.params.Body),this.bytesUploadedSoFar=0,this.abortController=e.abortController??new sl}async abort(){this.abortController.abort()}async done(){return await Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)])}on(e,r){return this.uploadEvent=e,super.on(e,r)}async __uploadUsingPut(e){var y;this.isMultiPart=!1;let r={...this.params,Body:e.data},n=this.client.config,s=n.requestHandler,o=s instanceof al.EventEmitter?s:null,i=w=>{this.bytesUploadedSoFar=w.loaded,this.totalBytes=w.total,this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:e.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})};o!==null&&o.on("xhr.upload.progress",i);let a=await Promise.all([this.client.send(new zs(r)),(y=n==null?void 0:n.endpoint)==null?void 0:y.call(n)]),c=a[0],d=a[1];if(d||(d=Oc(await Pc(r,zs,{...n}))),!d)throw new Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');o!==null&&o.off("xhr.upload.progress",i);let l=this.params.Key.split("/").map(w=>Xr(w)).join("/"),f=Xr(this.params.Bucket),u=(()=>{let w=d.hostname.startsWith(`${f}.`);return this.client.config.forcePathStyle?`${d.protocol}//${d.hostname}/${f}/${l}`:w?`${d.protocol}//${d.hostname}/${l}`:`${d.protocol}//${f}.${d.hostname}/${l}`})();this.singleUploadResult={...c,Bucket:this.params.Bucket,Key:this.params.Key,Location:u};let g=ol(e.data);this.__notifyProgress({loaded:g,total:g,part:1,Key:this.params.Key,Bucket:this.params.Bucket})}async __createMultipartUpload(){if(!this.createMultiPartPromise){let r={...this.params,Body:void 0};this.createMultiPartPromise=this.client.send(new Po(r))}let e=await this.createMultiPartPromise;this.uploadId=e.UploadId}async __doConcurrentUpload(e){for await(let r of e){if(this.uploadedParts.length>this.MAX_PARTS)throw new Error(`Exceeded ${this.MAX_PARTS} as part of the upload to ${this.params.Key} and ${this.params.Bucket}.`);try{if(this.abortController.signal.aborted)return;if(r.partNumber===1&&r.lastPart)return await this.__uploadUsingPut(r);if(!this.uploadId&&(await this.__createMultipartUpload(),this.abortController.signal.aborted))return;let n=ol(r.data)||0,s=this.client.config.requestHandler,o=s instanceof al.EventEmitter?s:null,i=0,a=(d,l)=>{(Number(l.query.partNumber)||-1)===r.partNumber&&(d.total&&n&&(this.bytesUploadedSoFar+=d.loaded-i,i=d.loaded),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:r.partNumber,Key:this.params.Key,Bucket:this.params.Bucket}))};o!==null&&o.on("xhr.upload.progress",a);let c=await this.client.send(new Mo({...this.params,UploadId:this.uploadId,Body:r.data,PartNumber:r.partNumber}));if(o!==null&&o.off("xhr.upload.progress",a),this.abortController.signal.aborted)return;if(!c.ETag)throw new Error(`Part ${r.partNumber} is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?`);this.uploadedParts.push({PartNumber:r.partNumber,ETag:c.ETag,...c.ChecksumCRC32&&{ChecksumCRC32:c.ChecksumCRC32},...c.ChecksumCRC32C&&{ChecksumCRC32C:c.ChecksumCRC32C},...c.ChecksumSHA1&&{ChecksumSHA1:c.ChecksumSHA1},...c.ChecksumSHA256&&{ChecksumSHA256:c.ChecksumSHA256}}),o===null&&(this.bytesUploadedSoFar+=n),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:r.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})}catch(n){if(!this.uploadId||this.leavePartsOnError)throw n}}}async __doMultipartUpload(){let e=oA(this.params.Body,this.partSize);for(let n=0;n<this.queueSize;n++){let s=this.__doConcurrentUpload(e);this.concurrentUploaders.push(s)}if(await Promise.all(this.concurrentUploaders),this.abortController.signal.aborted)throw Object.assign(new Error("Upload aborted."),{name:"AbortError"});let r;if(this.isMultiPart){this.uploadedParts.sort((s,o)=>s.PartNumber-o.PartNumber);let n={...this.params,Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}};r=await this.client.send(new vo(n))}else r=this.singleUploadResult;return this.tags.length&&await this.client.send(new Bo({...this.params,Tagging:{TagSet:this.tags}})),r}__notifyProgress(e){this.uploadEvent&&this.emit(this.uploadEvent,e)}async __abortTimeout(e){return new Promise((r,n)=>{e.onabort=()=>{let s=new Error("Upload aborted.");s.name="AbortError",n(s)}})}__validateInput(){if(!this.params)throw new Error("InputError: Upload requires params to be passed to upload.");if(!this.client)throw new Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<Rm)throw new Error(`EntityTooSmall: Your proposed upload partsize [${this.partSize}] is smaller than the minimum allowed size [${Rm}] (5MB)`);if(this.queueSize<1)throw new Error("Queue size: Must have at least one uploading queue.")}};var AO=Gt(nN()),kO=Gt(bO());async function rG(){try{let t=(0,Ds.getInput)("bucket",{required:!0}),e=(0,Ds.getMultilineInput)("path",{required:!0}),r=(0,Ds.getInput)("name",{required:!0}),n=(0,Ds.getInput)("prefix"),s=(await Promise.all(e.map(l=>(0,kO.default)(l,{onlyFiles:!1,markDirectories:!0})))).flat(),o=Array.from(new Set(s)).filter((l,f,u)=>l.at(-1)!=="/"||!u.some((g,y)=>f!==y&&g.startsWith(l)&&g.length>l.length)),i=_O.posix.join(n,r+".tgz"),a=(0,AO.create)({gzip:!0},o).pipe(new RO.PassThrough);console.info("Uploading...");let c=new cl({client:new rl({}),params:{Bucket:t,Key:i,Body:a}}),d=0;c.on("httpUploadProgress",l=>{l.part&&l.part>d&&(d=l.part,l.loaded&&console.info("Still uploading...",Math.round(l.loaded)/1e6,"MB"))}),await c.done(),console.info("Upload complete.")}catch(t){console.info("Upload failed."),t instanceof Error&&(0,Ds.setFailed)(t)}}rG();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
