"use strict";var LO=Object.create;var _c=Object.defineProperty;var FO=Object.getOwnPropertyDescriptor;var UO=Object.getOwnPropertyNames;var zO=Object.getPrototypeOf,$O=Object.prototype.hasOwnProperty;var ze=(e,t)=>()=>(e&&(t=e(e=0)),t);var w=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),_o=(e,t)=>{for(var r in t)_c(e,r,{get:t[r],enumerable:!0})},EE=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of UO(t))!$O.call(e,s)&&s!==r&&_c(e,s,{get:()=>t[s],enumerable:!(n=FO(t,s))||n.enumerable});return e};var Vt=(e,t,r)=>(r=e!=null?LO(zO(e)):{},EE(t||!e||!e.__esModule?_c(r,"default",{value:e,enumerable:!0}):r,e)),Ro=e=>EE(_c({},"__esModule",{value:!0}),e);var Rc=w(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.toCommandProperties=Ao.toCommandValue=void 0;function qO(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}Ao.toCommandValue=qO;function HO(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}Ao.toCommandProperties=HO});var wE=w(Wt=>{"use strict";var jO=Wt&&Wt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),GO=Wt&&Wt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),KO=Wt&&Wt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&jO(t,e,r);return GO(t,e),t};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.issue=Wt.issueCommand=void 0;var VO=KO(require("os")),CE=Rc();function SE(e,t,r){let n=new Ju(e,t,r);process.stdout.write(n.toString()+VO.EOL)}Wt.issueCommand=SE;function WO(e,t=""){SE(e,{},t)}Wt.issue=WO;var xE="::",Ju=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=xE+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let s=this.properties[n];s&&(r?r=!1:t+=",",t+=`${n}=${XO(s)}`)}}return t+=`${xE}${YO(this.message)}`,t}};function YO(e){return CE.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function XO(e){return CE.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});function ia(){return Ac>kc.length-16&&(bE.default.randomFillSync(kc),Ac=0),kc.slice(Ac,Ac+=16)}var bE,kc,Ac,ef=ze(()=>{bE=Vt(require("crypto")),kc=new Uint8Array(256),Ac=kc.length});var _E,RE=ze(()=>{_E=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function QO(e){return typeof e=="string"&&_E.test(e)}var Nn,aa=ze(()=>{RE();Nn=QO});function ZO(e,t=0){let r=(rt[e[t+0]]+rt[e[t+1]]+rt[e[t+2]]+rt[e[t+3]]+"-"+rt[e[t+4]]+rt[e[t+5]]+"-"+rt[e[t+6]]+rt[e[t+7]]+"-"+rt[e[t+8]]+rt[e[t+9]]+"-"+rt[e[t+10]]+rt[e[t+11]]+rt[e[t+12]]+rt[e[t+13]]+rt[e[t+14]]+rt[e[t+15]]).toLowerCase();if(!Nn(r))throw TypeError("Stringified UUID is invalid");return r}var rt,vn,ca=ze(()=>{aa();rt=[];for(let e=0;e<256;++e)rt.push((e+256).toString(16).substr(1));vn=ZO});function JO(e,t,r){let n=t&&r||0,s=t||new Array(16);e=e||{};let o=e.node||AE,i=e.clockseq!==void 0?e.clockseq:tf;if(o==null||i==null){let u=e.random||(e.rng||ia)();o==null&&(o=AE=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),i==null&&(i=tf=(u[6]<<8|u[7])&16383)}let a=e.msecs!==void 0?e.msecs:Date.now(),c=e.nsecs!==void 0?e.nsecs:nf+1,d=a-rf+(c-nf)/1e4;if(d<0&&e.clockseq===void 0&&(i=i+1&16383),(d<0||a>rf)&&e.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");rf=a,nf=c,tf=i,a+=122192928e5;let l=((a&268435455)*1e4+c)%4294967296;s[n++]=l>>>24&255,s[n++]=l>>>16&255,s[n++]=l>>>8&255,s[n++]=l&255;let f=a/4294967296*1e4&268435455;s[n++]=f>>>8&255,s[n++]=f&255,s[n++]=f>>>24&15|16,s[n++]=f>>>16&255,s[n++]=i>>>8|128,s[n++]=i&255;for(let u=0;u<6;++u)s[n+u]=o[u];return t||vn(s)}var AE,tf,rf,nf,kE,TE=ze(()=>{ef();ca();rf=0,nf=0;kE=JO});function eI(e){if(!Nn(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Tc,sf=ze(()=>{aa();Tc=eI});function tI(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}function Nc(e,t,r){function n(s,o,i,a){if(typeof s=="string"&&(s=tI(s)),typeof o=="string"&&(o=Tc(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+s.length);if(c.set(o),c.set(s,o.length),c=r(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,i){a=a||0;for(let d=0;d<16;++d)i[a+d]=c[d];return i}return vn(c)}try{n.name=e}catch{}return n.DNS=rI,n.URL=nI,n}var rI,nI,of=ze(()=>{ca();sf();rI="6ba7b810-9dad-11d1-80b4-00c04fd430c8",nI="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function sI(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),NE.default.createHash("md5").update(e).digest()}var NE,vE,PE=ze(()=>{NE=Vt(require("crypto"));vE=sI});var oI,OE,IE=ze(()=>{of();PE();oI=Nc("v3",48,vE),OE=oI});function iI(e,t,r){e=e||{};let n=e.random||(e.rng||ia)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let s=0;s<16;++s)t[r+s]=n[s];return t}return vn(n)}var vc,DE=ze(()=>{ef();ca();vc=iI});function aI(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),BE.default.createHash("sha1").update(e).digest()}var BE,ME,LE=ze(()=>{BE=Vt(require("crypto"));ME=aI});var cI,FE,UE=ze(()=>{of();LE();cI=Nc("v5",80,ME),FE=cI});var zE,$E=ze(()=>{zE="00000000-0000-0000-0000-000000000000"});function dI(e){if(!Nn(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var qE,HE=ze(()=>{aa();qE=dI});var jE={};_o(jE,{NIL:()=>zE,parse:()=>Tc,stringify:()=>vn,v1:()=>kE,v3:()=>OE,v4:()=>vc,v5:()=>FE,validate:()=>Nn,version:()=>qE});var af=ze(()=>{TE();IE();DE();UE();$E();HE();aa();ca();sf()});var WE=w(Yt=>{"use strict";var lI=Yt&&Yt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),uI=Yt&&Yt.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),KE=Yt&&Yt.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&lI(t,e,r);return uI(t,e),t};Object.defineProperty(Yt,"__esModule",{value:!0});Yt.prepareKeyValueMessage=Yt.issueFileCommand=void 0;var GE=KE(require("fs")),cf=KE(require("os")),fI=(af(),Ro(jE)),VE=Rc();function hI(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!GE.existsSync(r))throw new Error(`Missing file at path: ${r}`);GE.appendFileSync(r,`${VE.toCommandValue(t)}${cf.EOL}`,{encoding:"utf8"})}Yt.issueFileCommand=hI;function mI(e,t){let r=`ghadelimiter_${fI.v4()}`,n=VE.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${cf.EOL}${n}${cf.EOL}${r}`}Yt.prepareKeyValueMessage=mI});var XE=w(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.checkBypass=ko.getProxyUrl=void 0;function pI(e){let t=e.protocol==="https:";if(YE(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}ko.getProxyUrl=pI;function YE(e){if(!e.hostname)return!1;let t=e.hostname;if(yI(t))return!0;let r=process.env.no_proxy||process.env.NO_PROXY||"";if(!r)return!1;let n;e.port?n=Number(e.port):e.protocol==="http:"?n=80:e.protocol==="https:"&&(n=443);let s=[e.hostname.toUpperCase()];typeof n=="number"&&s.push(`${s[0]}:${n}`);for(let o of r.split(",").map(i=>i.trim().toUpperCase()).filter(i=>i))if(o==="*"||s.some(i=>i===o||i.endsWith(`.${o}`)||o.startsWith(".")&&i.endsWith(`${o}`)))return!0;return!1}ko.checkBypass=YE;function yI(e){let t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}});var ex=w(To=>{"use strict";var sK=require("net"),gI=require("tls"),df=require("http"),QE=require("https"),EI=require("events"),oK=require("assert"),xI=require("util");To.httpOverHttp=CI;To.httpsOverHttp=SI;To.httpOverHttps=wI;To.httpsOverHttps=bI;function CI(e){var t=new Qr(e);return t.request=df.request,t}function SI(e){var t=new Qr(e);return t.request=df.request,t.createSocket=ZE,t.defaultPort=443,t}function wI(e){var t=new Qr(e);return t.request=QE.request,t}function bI(e){var t=new Qr(e);return t.request=QE.request,t.createSocket=ZE,t.defaultPort=443,t}function Qr(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||df.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,s,o,i){for(var a=JE(s,o,i),c=0,d=t.requests.length;c<d;++c){var l=t.requests[c];if(l.host===a.host&&l.port===a.port){t.requests.splice(c,1),l.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}xI.inherits(Qr,EI.EventEmitter);Qr.prototype.addRequest=function(t,r,n,s){var o=this,i=lf({request:t},o.options,JE(r,n,s));if(o.sockets.length>=this.maxSockets){o.requests.push(i);return}o.createSocket(i,function(a){a.on("free",c),a.on("close",d),a.on("agentRemove",d),t.onSocket(a);function c(){o.emit("free",a,i)}function d(l){o.removeSocket(a),a.removeListener("free",c),a.removeListener("close",d),a.removeListener("agentRemove",d)}})};Qr.prototype.createSocket=function(t,r){var n=this,s={};n.sockets.push(s);var o=lf({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(o.localAddress=t.localAddress),o.proxyAuth&&(o.headers=o.headers||{},o.headers["Proxy-Authorization"]="Basic "+new Buffer(o.proxyAuth).toString("base64")),Pn("making CONNECT request");var i=n.request(o);i.useChunkedEncodingByDefault=!1,i.once("response",a),i.once("upgrade",c),i.once("connect",d),i.once("error",l),i.end();function a(f){f.upgrade=!0}function c(f,u,g){process.nextTick(function(){d(f,u,g)})}function d(f,u,g){if(i.removeAllListeners(),u.removeAllListeners(),f.statusCode!==200){Pn("tunneling socket could not be established, statusCode=%d",f.statusCode),u.destroy();var y=new Error("tunneling socket could not be established, statusCode="+f.statusCode);y.code="ECONNRESET",t.request.emit("error",y),n.removeSocket(s);return}if(g.length>0){Pn("got illegal response body from proxy"),u.destroy();var y=new Error("got illegal response body from proxy");y.code="ECONNRESET",t.request.emit("error",y),n.removeSocket(s);return}return Pn("tunneling connection has established"),n.sockets[n.sockets.indexOf(s)]=u,r(u)}function l(f){i.removeAllListeners(),Pn(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var u=new Error("tunneling socket could not be established, cause="+f.message);u.code="ECONNRESET",t.request.emit("error",u),n.removeSocket(s)}};Qr.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(s){n.request.onSocket(s)})}};function ZE(e,t){var r=this;Qr.prototype.createSocket.call(r,e,function(n){var s=e.request.getHeader("host"),o=lf({},r.options,{socket:n,servername:s?s.replace(/:.*$/,""):e.host}),i=gI.connect(0,o);r.sockets[r.sockets.indexOf(n)]=i,t(i)})}function JE(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function lf(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var s=Object.keys(n),o=0,i=s.length;o<i;++o){var a=s[o];n[a]!==void 0&&(e[a]=n[a])}}return e}var Pn;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Pn=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Pn=function(){};To.debug=Pn});var rx=w((aK,tx)=>{tx.exports=ex()});var sx=w(pe=>{"use strict";var _I=pe&&pe.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),RI=pe&&pe.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Bc=pe&&pe.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&_I(t,e,r);return RI(t,e),t},Ke=pe&&pe.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(pe,"__esModule",{value:!0});pe.HttpClient=pe.isHttps=pe.HttpClientResponse=pe.HttpClientError=pe.getProxyUrl=pe.MediaTypes=pe.Headers=pe.HttpCodes=void 0;var Pc=Bc(require("http")),uf=Bc(require("https")),nx=Bc(XE()),Oc=Bc(rx()),hr;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(hr=pe.HttpCodes||(pe.HttpCodes={}));var St;(function(e){e.Accept="accept",e.ContentType="content-type"})(St=pe.Headers||(pe.Headers={}));var On;(function(e){e.ApplicationJson="application/json"})(On=pe.MediaTypes||(pe.MediaTypes={}));function AI(e){let t=nx.getProxyUrl(new URL(e));return t?t.href:""}pe.getProxyUrl=AI;var kI=[hr.MovedPermanently,hr.ResourceMoved,hr.SeeOther,hr.TemporaryRedirect,hr.PermanentRedirect],TI=[hr.BadGateway,hr.ServiceUnavailable,hr.GatewayTimeout],NI=["OPTIONS","GET","DELETE","HEAD"],vI=10,PI=5,No=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,No.prototype)}};pe.HttpClientError=No;var Dc=class{constructor(t){this.message=t}readBody(){return Ke(this,void 0,void 0,function*(){return new Promise(t=>Ke(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};pe.HttpClientResponse=Dc;function OI(e){return new URL(e).protocol==="https:"}pe.isHttps=OI;var ff=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return Ke(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return Ke(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return Ke(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return Ke(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return Ke(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return Ke(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return Ke(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,s){return Ke(this,void 0,void 0,function*(){return this.request(t,r,n,s)})}getJson(t,r={}){return Ke(this,void 0,void 0,function*(){r[St.Accept]=this._getExistingOrDefaultHeader(r,St.Accept,On.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return Ke(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[St.Accept]=this._getExistingOrDefaultHeader(n,St.Accept,On.ApplicationJson),n[St.ContentType]=this._getExistingOrDefaultHeader(n,St.ContentType,On.ApplicationJson);let o=yield this.post(t,s,n);return this._processResponse(o,this.requestOptions)})}putJson(t,r,n={}){return Ke(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[St.Accept]=this._getExistingOrDefaultHeader(n,St.Accept,On.ApplicationJson),n[St.ContentType]=this._getExistingOrDefaultHeader(n,St.ContentType,On.ApplicationJson);let o=yield this.put(t,s,n);return this._processResponse(o,this.requestOptions)})}patchJson(t,r,n={}){return Ke(this,void 0,void 0,function*(){let s=JSON.stringify(r,null,2);n[St.Accept]=this._getExistingOrDefaultHeader(n,St.Accept,On.ApplicationJson),n[St.ContentType]=this._getExistingOrDefaultHeader(n,St.ContentType,On.ApplicationJson);let o=yield this.patch(t,s,n);return this._processResponse(o,this.requestOptions)})}request(t,r,n,s){return Ke(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let o=new URL(r),i=this._prepareRequest(t,o,s),a=this._allowRetries&&NI.includes(t)?this._maxRetries+1:1,c=0,d;do{if(d=yield this.requestRaw(i,n),d&&d.message&&d.message.statusCode===hr.Unauthorized){let f;for(let u of this.handlers)if(u.canHandleAuthentication(d)){f=u;break}return f?f.handleAuthentication(this,i,n):d}let l=this._maxRedirects;for(;d.message.statusCode&&kI.includes(d.message.statusCode)&&this._allowRedirects&&l>0;){let f=d.message.headers.location;if(!f)break;let u=new URL(f);if(o.protocol==="https:"&&o.protocol!==u.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield d.readBody(),u.hostname!==o.hostname)for(let g in s)g.toLowerCase()==="authorization"&&delete s[g];i=this._prepareRequest(t,u,s),d=yield this.requestRaw(i,n),l--}if(!d.message.statusCode||!TI.includes(d.message.statusCode))return d;c+=1,c<a&&(yield d.readBody(),yield this._performExponentialBackoff(c))}while(c<a);return d})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return Ke(this,void 0,void 0,function*(){return new Promise((n,s)=>{function o(i,a){i?s(i):a?n(a):s(new Error("Unknown error"))}this.requestRawWithCallback(t,r,o)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let s=!1;function o(c,d){s||(s=!0,n(c,d))}let i=t.httpModule.request(t.options,c=>{let d=new Dc(c);o(void 0,d)}),a;i.on("socket",c=>{a=c}),i.setTimeout(this._socketTimeout||3*6e4,()=>{a&&a.end(),o(new Error(`Request timeout: ${t.options.path}`))}),i.on("error",function(c){o(c)}),r&&typeof r=="string"&&i.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){i.end()}),r.pipe(i)):i.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let s={};s.parsedUrl=r;let o=s.parsedUrl.protocol==="https:";s.httpModule=o?uf:Pc;let i=o?443:80;if(s.options={},s.options.host=s.parsedUrl.hostname,s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):i,s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||""),s.options.method=t,s.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(s.options.headers["user-agent"]=this.userAgent),s.options.agent=this._getAgent(s.parsedUrl),this.handlers)for(let a of this.handlers)a.prepareRequest(s.options);return s}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},Ic(this.requestOptions.headers),Ic(t||{})):Ic(t||{})}_getExistingOrDefaultHeader(t,r,n){let s;return this.requestOptions&&this.requestOptions.headers&&(s=Ic(this.requestOptions.headers)[r]),t[r]||s||n}_getAgent(t){let r,n=nx.getProxyUrl(t),s=n&&n.hostname;if(this._keepAlive&&s&&(r=this._proxyAgent),this._keepAlive&&!s&&(r=this._agent),r)return r;let o=t.protocol==="https:",i=100;if(this.requestOptions&&(i=this.requestOptions.maxSockets||Pc.globalAgent.maxSockets),n&&n.hostname){let a={maxSockets:i,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,d=n.protocol==="https:";o?c=d?Oc.httpsOverHttps:Oc.httpsOverHttp:c=d?Oc.httpOverHttps:Oc.httpOverHttp,r=c(a),this._proxyAgent=r}if(this._keepAlive&&!r){let a={keepAlive:this._keepAlive,maxSockets:i};r=o?new uf.Agent(a):new Pc.Agent(a),this._agent=r}return r||(r=o?uf.globalAgent:Pc.globalAgent),o&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return Ke(this,void 0,void 0,function*(){t=Math.min(vI,t);let r=PI*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return Ke(this,void 0,void 0,function*(){return new Promise((n,s)=>Ke(this,void 0,void 0,function*(){let o=t.message.statusCode||0,i={statusCode:o,result:null,headers:{}};o===hr.NotFound&&n(i);function a(l,f){if(typeof f=="string"){let u=new Date(f);if(!isNaN(u.valueOf()))return u}return f}let c,d;try{d=yield t.readBody(),d&&d.length>0&&(r&&r.deserializeDates?c=JSON.parse(d,a):c=JSON.parse(d),i.result=c),i.headers=t.message.headers}catch{}if(o>299){let l;c&&c.message?l=c.message:d&&d.length>0?l=d:l=`Failed request: (${o})`;let f=new No(l,o);f.result=i.result,s(f)}else n(i)}))})}};pe.HttpClient=ff;var Ic=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var ox=w(Cr=>{"use strict";var yf=Cr&&Cr.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.PersonalAccessTokenCredentialHandler=Cr.BearerCredentialHandler=Cr.BasicCredentialHandler=void 0;var hf=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return yf(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Cr.BasicCredentialHandler=hf;var mf=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return yf(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Cr.BearerCredentialHandler=mf;var pf=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return yf(this,void 0,void 0,function*(){throw new Error("not implemented")})}};Cr.PersonalAccessTokenCredentialHandler=pf});var cx=w(vo=>{"use strict";var ix=vo&&vo.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(vo,"__esModule",{value:!0});vo.OidcClient=void 0;var II=sx(),DI=ox(),ax=gf(),In=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new II.HttpClient("actions/oidc-client",[new DI.BearerCredentialHandler(In.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return ix(this,void 0,void 0,function*(){let o=(r=(yield In.createHttpClient().getJson(t).catch(i=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${i.statusCode}
 
        Error Message: ${i.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!o)throw new Error("Response json body do not have ID Token field");return o})}static getIDToken(t){return ix(this,void 0,void 0,function*(){try{let r=In.getIDTokenUrl();if(t){let s=encodeURIComponent(t);r=`${r}&audience=${s}`}ax.debug(`ID token url is ${r}`);let n=yield In.getCall(r);return ax.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};vo.OidcClient=In});var Sf=w(bt=>{"use strict";var Ef=bt&&bt.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(bt,"__esModule",{value:!0});bt.summary=bt.markdownSummary=bt.SUMMARY_DOCS_URL=bt.SUMMARY_ENV_VAR=void 0;var BI=require("os"),xf=require("fs"),{access:MI,appendFile:LI,writeFile:FI}=xf.promises;bt.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";bt.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Cf=class{constructor(){this._buffer=""}filePath(){return Ef(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[bt.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${bt.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield MI(t,xf.constants.R_OK|xf.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let s=Object.entries(n).map(([o,i])=>` ${o}="${i}"`).join("");return r?`<${t}${s}>${r}</${t}>`:`<${t}${s}>`}write(t){return Ef(this,void 0,void 0,function*(){let r=!!(t!=null&&t.overwrite),n=yield this.filePath();return yield(r?FI:LI)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Ef(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(BI.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),s=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(s).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",s=t.map(i=>this.wrap("li",i)).join(""),o=this.wrap(n,s);return this.addRaw(o).addEOL()}addTable(t){let r=t.map(s=>{let o=s.map(i=>{if(typeof i=="string")return this.wrap("td",i);let{header:a,data:c,colspan:d,rowspan:l}=i,f=a?"th":"td",u=Object.assign(Object.assign({},d&&{colspan:d}),l&&{rowspan:l});return this.wrap(f,c,u)}).join("");return this.wrap("tr",o)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:s,height:o}=n||{},i=Object.assign(Object.assign({},s&&{width:s}),o&&{height:o}),a=this.wrap("img",null,Object.assign({src:t,alt:r},i));return this.addRaw(a).addEOL()}addHeading(t,r){let n=`h${r}`,s=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",o=this.wrap(s,t);return this.addRaw(o).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),s=this.wrap("blockquote",t,n);return this.addRaw(s).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},dx=new Cf;bt.markdownSummary=dx;bt.summary=dx});var lx=w(_t=>{"use strict";var UI=_t&&_t.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zI=_t&&_t.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$I=_t&&_t.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&UI(t,e,r);return zI(t,e),t};Object.defineProperty(_t,"__esModule",{value:!0});_t.toPlatformPath=_t.toWin32Path=_t.toPosixPath=void 0;var qI=$I(require("path"));function HI(e){return e.replace(/[\\]/g,"/")}_t.toPosixPath=HI;function jI(e){return e.replace(/[/]/g,"\\")}_t.toWin32Path=jI;function GI(e){return e.replace(/[/\\]/g,qI.sep)}_t.toPlatformPath=GI});var gf=w(U=>{"use strict";var KI=U&&U.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),VI=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ux=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&KI(t,e,r);return VI(t,e),t},fx=U&&U.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})};Object.defineProperty(U,"__esModule",{value:!0});U.getIDToken=U.getState=U.saveState=U.group=U.endGroup=U.startGroup=U.info=U.notice=U.warning=U.error=U.debug=U.isDebug=U.setFailed=U.setCommandEcho=U.setOutput=U.getBooleanInput=U.getMultilineInput=U.getInput=U.addPath=U.setSecret=U.exportVariable=U.ExitCode=void 0;var Xt=wE(),Ls=WE(),Po=Rc(),hx=ux(require("os")),WI=ux(require("path")),YI=cx(),mx;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(mx=U.ExitCode||(U.ExitCode={}));function XI(e,t){let r=Po.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return Ls.issueFileCommand("ENV",Ls.prepareKeyValueMessage(e,t));Xt.issueCommand("set-env",{name:e},r)}U.exportVariable=XI;function QI(e){Xt.issueCommand("add-mask",{},e)}U.setSecret=QI;function ZI(e){process.env.GITHUB_PATH||""?Ls.issueFileCommand("PATH",e):Xt.issueCommand("add-path",{},e),process.env.PATH=`${e}${WI.delimiter}${process.env.PATH}`}U.addPath=ZI;function wf(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}U.getInput=wf;function JI(e,t){let r=wf(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}U.getMultilineInput=JI;function eD(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],s=wf(e,t);if(r.includes(s))return!0;if(n.includes(s))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}U.getBooleanInput=eD;function tD(e,t){if(process.env.GITHUB_OUTPUT||"")return Ls.issueFileCommand("OUTPUT",Ls.prepareKeyValueMessage(e,t));process.stdout.write(hx.EOL),Xt.issueCommand("set-output",{name:e},Po.toCommandValue(t))}U.setOutput=tD;function rD(e){Xt.issue("echo",e?"on":"off")}U.setCommandEcho=rD;function nD(e){process.exitCode=mx.Failure,px(e)}U.setFailed=nD;function sD(){return process.env.RUNNER_DEBUG==="1"}U.isDebug=sD;function oD(e){Xt.issueCommand("debug",{},e)}U.debug=oD;function px(e,t={}){Xt.issueCommand("error",Po.toCommandProperties(t),e instanceof Error?e.toString():e)}U.error=px;function iD(e,t={}){Xt.issueCommand("warning",Po.toCommandProperties(t),e instanceof Error?e.toString():e)}U.warning=iD;function aD(e,t={}){Xt.issueCommand("notice",Po.toCommandProperties(t),e instanceof Error?e.toString():e)}U.notice=aD;function cD(e){process.stdout.write(e+hx.EOL)}U.info=cD;function yx(e){Xt.issue("group",e)}U.startGroup=yx;function gx(){Xt.issue("endgroup")}U.endGroup=gx;function dD(e,t){return fx(this,void 0,void 0,function*(){yx(e);let r;try{r=yield t()}finally{gx()}return r})}U.group=dD;function lD(e,t){if(process.env.GITHUB_STATE||"")return Ls.issueFileCommand("STATE",Ls.prepareKeyValueMessage(e,t));Xt.issueCommand("save-state",{name:e},Po.toCommandValue(t))}U.saveState=lD;function uD(e){return process.env[`STATE_${e}`]||""}U.getState=uD;function fD(e){return fx(this,void 0,void 0,function*(){return yield YI.OidcClient.getIDToken(e)})}U.getIDToken=fD;var hD=Sf();Object.defineProperty(U,"summary",{enumerable:!0,get:function(){return hD.summary}});var mD=Sf();Object.defineProperty(U,"markdownSummary",{enumerable:!0,get:function(){return mD.markdownSummary}});var bf=lx();Object.defineProperty(U,"toPosixPath",{enumerable:!0,get:function(){return bf.toPosixPath}});Object.defineProperty(U,"toWin32Path",{enumerable:!0,get:function(){return bf.toWin32Path}});Object.defineProperty(U,"toPlatformPath",{enumerable:!0,get:function(){return bf.toPlatformPath}})});var Df=w(Jr=>{"use strict";var Lx=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",KD=Lx+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040",Fx="["+Lx+"]["+KD+"]*",VD=new RegExp("^"+Fx+"$"),WD=function(e,t){let r=[],n=t.exec(e);for(;n;){let s=[];s.startIndex=t.lastIndex-n[0].length;let o=n.length;for(let i=0;i<o;i++)s.push(n[i]);r.push(s),n=t.exec(e)}return r},YD=function(e){let t=VD.exec(e);return!(t===null||typeof t>"u")};Jr.isExist=function(e){return typeof e<"u"};Jr.isEmptyObject=function(e){return Object.keys(e).length===0};Jr.merge=function(e,t,r){if(t){let n=Object.keys(t),s=n.length;for(let o=0;o<s;o++)r==="strict"?e[n[o]]=[t[n[o]]]:e[n[o]]=t[n[o]]}};Jr.getValue=function(e){return Jr.isExist(e)?e:""};Jr.isName=YD;Jr.getAllMatches=WD;Jr.nameRegexp=Fx});var Mf=w(Hx=>{"use strict";var Bf=Df(),XD={allowBooleanAttributes:!1,unpairedTags:[]};Hx.validate=function(e,t){t=Object.assign({},XD,t);let r=[],n=!1,s=!1;e[0]==="\uFEFF"&&(e=e.substr(1));for(let o=0;o<e.length;o++)if(e[o]==="<"&&e[o+1]==="?"){if(o+=2,o=zx(e,o),o.err)return o}else if(e[o]==="<"){let i=o;if(o++,e[o]==="!"){o=$x(e,o);continue}else{let a=!1;e[o]==="/"&&(a=!0,o++);let c="";for(;o<e.length&&e[o]!==">"&&e[o]!==" "&&e[o]!=="	"&&e[o]!==`
`&&e[o]!=="\r";o++)c+=e[o];if(c=c.trim(),c[c.length-1]==="/"&&(c=c.substring(0,c.length-1),o--),!sB(c)){let f;return c.trim().length===0?f="Invalid space after '<'.":f="Tag '"+c+"' is an invalid name.",He("InvalidTag",f,kt(e,o))}let d=JD(e,o);if(d===!1)return He("InvalidAttr","Attributes for '"+c+"' have open quote.",kt(e,o));let l=d.value;if(o=d.index,l[l.length-1]==="/"){let f=o-l.length;l=l.substring(0,l.length-1);let u=qx(l,t);if(u===!0)n=!0;else return He(u.err.code,u.err.msg,kt(e,f+u.err.line))}else if(a)if(d.tagClosed){if(l.trim().length>0)return He("InvalidTag","Closing tag '"+c+"' can't have attributes or invalid starting.",kt(e,i));{let f=r.pop();if(c!==f.tagName){let u=kt(e,f.tagStartPos);return He("InvalidTag","Expected closing tag '"+f.tagName+"' (opened in line "+u.line+", col "+u.col+") instead of closing tag '"+c+"'.",kt(e,i))}r.length==0&&(s=!0)}}else return He("InvalidTag","Closing tag '"+c+"' doesn't have proper closing.",kt(e,o));else{let f=qx(l,t);if(f!==!0)return He(f.err.code,f.err.msg,kt(e,o-l.length+f.err.line));if(s===!0)return He("InvalidXml","Multiple possible root nodes found.",kt(e,o));t.unpairedTags.indexOf(c)!==-1||r.push({tagName:c,tagStartPos:i}),n=!0}for(o++;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="!"){o++,o=$x(e,o);continue}else if(e[o+1]==="?"){if(o=zx(e,++o),o.err)return o}else break;else if(e[o]==="&"){let f=rB(e,o);if(f==-1)return He("InvalidChar","char '&' is not expected.",kt(e,o));o=f}else if(s===!0&&!Ux(e[o]))return He("InvalidXml","Extra text at the end",kt(e,o));e[o]==="<"&&o--}}else{if(Ux(e[o]))continue;return He("InvalidChar","char '"+e[o]+"' is not expected.",kt(e,o))}if(n){if(r.length==1)return He("InvalidTag","Unclosed tag '"+r[0].tagName+"'.",kt(e,r[0].tagStartPos));if(r.length>0)return He("InvalidXml","Invalid '"+JSON.stringify(r.map(o=>o.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1})}else return He("InvalidXml","Start tag expected.",1);return!0};function Ux(e){return e===" "||e==="	"||e===`
`||e==="\r"}function zx(e,t){let r=t;for(;t<e.length;t++)if(e[t]=="?"||e[t]==" "){let n=e.substr(r,t-r);if(t>5&&n==="xml")return He("InvalidXml","XML declaration allowed only at the start of the document.",kt(e,t));if(e[t]=="?"&&e[t+1]==">"){t++;break}else continue}return t}function $x(e,t){if(e.length>t+5&&e[t+1]==="-"&&e[t+2]==="-"){for(t+=3;t<e.length;t++)if(e[t]==="-"&&e[t+1]==="-"&&e[t+2]===">"){t+=2;break}}else if(e.length>t+8&&e[t+1]==="D"&&e[t+2]==="O"&&e[t+3]==="C"&&e[t+4]==="T"&&e[t+5]==="Y"&&e[t+6]==="P"&&e[t+7]==="E"){let r=1;for(t+=8;t<e.length;t++)if(e[t]==="<")r++;else if(e[t]===">"&&(r--,r===0))break}else if(e.length>t+9&&e[t+1]==="["&&e[t+2]==="C"&&e[t+3]==="D"&&e[t+4]==="A"&&e[t+5]==="T"&&e[t+6]==="A"&&e[t+7]==="["){for(t+=8;t<e.length;t++)if(e[t]==="]"&&e[t+1]==="]"&&e[t+2]===">"){t+=2;break}}return t}var QD='"',ZD="'";function JD(e,t){let r="",n="",s=!1;for(;t<e.length;t++){if(e[t]===QD||e[t]===ZD)n===""?n=e[t]:n!==e[t]||(n="");else if(e[t]===">"&&n===""){s=!0;break}r+=e[t]}return n!==""?!1:{value:r,index:t,tagClosed:s}}var eB=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function qx(e,t){let r=Bf.getAllMatches(e,eB),n={};for(let s=0;s<r.length;s++){if(r[s][1].length===0)return He("InvalidAttr","Attribute '"+r[s][2]+"' has no space in starting.",ma(r[s]));if(r[s][3]!==void 0&&r[s][4]===void 0)return He("InvalidAttr","Attribute '"+r[s][2]+"' is without value.",ma(r[s]));if(r[s][3]===void 0&&!t.allowBooleanAttributes)return He("InvalidAttr","boolean attribute '"+r[s][2]+"' is not allowed.",ma(r[s]));let o=r[s][2];if(!nB(o))return He("InvalidAttr","Attribute '"+o+"' is an invalid name.",ma(r[s]));if(!n.hasOwnProperty(o))n[o]=1;else return He("InvalidAttr","Attribute '"+o+"' is repeated.",ma(r[s]))}return!0}function tB(e,t){let r=/\d/;for(e[t]==="x"&&(t++,r=/[\da-fA-F]/);t<e.length;t++){if(e[t]===";")return t;if(!e[t].match(r))break}return-1}function rB(e,t){if(t++,e[t]===";")return-1;if(e[t]==="#")return t++,tB(e,t);let r=0;for(;t<e.length;t++,r++)if(!(e[t].match(/\w/)&&r<20)){if(e[t]===";")break;return-1}return t}function He(e,t,r){return{err:{code:e,msg:t,line:r.line||r,col:r.col}}}function nB(e){return Bf.isName(e)}function sB(e){return Bf.isName(e)}function kt(e,t){let r=e.substring(0,t).split(/\r?\n/);return{line:r.length,col:r[r.length-1].length+1}}function ma(e){return e.startIndex+e[1].length}});var Gx=w(Lf=>{var jx={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1},oB=function(e){return Object.assign({},jx,e)};Lf.buildOptions=oB;Lf.defaultOptions=jx});var Vx=w((w4,Kx)=>{"use strict";var Ff=class{constructor(t){this.tagname=t,this.child=[],this[":@"]={}}add(t,r){t==="__proto__"&&(t="#__proto__"),this.child.push({[t]:r})}addChild(t){t.tagname==="__proto__"&&(t.tagname="#__proto__"),t[":@"]&&Object.keys(t[":@"]).length>0?this.child.push({[t.tagname]:t.child,[":@"]:t[":@"]}):this.child.push({[t.tagname]:t.child})}};Kx.exports=Ff});var Yx=w((b4,Wx)=>{function iB(e,t){let r={};if(e[t+3]==="O"&&e[t+4]==="C"&&e[t+5]==="T"&&e[t+6]==="Y"&&e[t+7]==="P"&&e[t+8]==="E"){t=t+9;let n=1,s=!1,o=!1,i=!1,a="";for(;t<e.length;t++)if(e[t]==="<"&&!i){if(s&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="N"&&e[t+4]==="T"&&e[t+5]==="I"&&e[t+6]==="T"&&e[t+7]==="Y")t+=7,o=!0;else if(s&&e[t+1]==="!"&&e[t+2]==="E"&&e[t+3]==="L"&&e[t+4]==="E"&&e[t+5]==="M"&&e[t+6]==="E"&&e[t+7]==="N"&&e[t+8]==="T")t+=8;else if(s&&e[t+1]==="!"&&e[t+2]==="A"&&e[t+3]==="T"&&e[t+4]==="T"&&e[t+5]==="L"&&e[t+6]==="I"&&e[t+7]==="S"&&e[t+8]==="T")t+=8;else if(s&&e[t+1]==="!"&&e[t+2]==="N"&&e[t+3]==="O"&&e[t+4]==="T"&&e[t+5]==="A"&&e[t+6]==="T"&&e[t+7]==="I"&&e[t+8]==="O"&&e[t+9]==="N")t+=9;else if(e[t+1]==="!"&&e[t+2]==="-"&&e[t+3]==="-")i=!0;else throw new Error("Invalid DOCTYPE");n++,a=""}else if(e[t]===">"){if(i?e[t-1]==="-"&&e[t-2]==="-"&&(i=!1,n--):(o&&(cB(a,r),o=!1),n--),n===0)break}else e[t]==="["?s=!0:a+=e[t];if(n!==0)throw new Error("Unclosed DOCTYPE")}else throw new Error("Invalid Tag instead of DOCTYPE");return{entities:r,i:t}}var aB=RegExp(`^\\s([a-zA-z0-0]+)[ 	](['"])([^&]+)\\2`);function cB(e,t){let r=aB.exec(e);r&&(t[r[1]]={regx:RegExp(`&${r[1]};`,"g"),val:r[3]})}Wx.exports=iB});var Qx=w((_4,Xx)=>{var dB=/^[-+]?0x[a-fA-F0-9]+$/,lB=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt);!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);var uB={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};function fB(e,t={}){if(t=Object.assign({},uB,t),!e||typeof e!="string")return e;let r=e.trim();if(t.skipLike!==void 0&&t.skipLike.test(r))return e;if(t.hex&&dB.test(r))return Number.parseInt(r,16);{let n=lB.exec(r);if(n){let s=n[1],o=n[2],i=hB(n[3]),a=n[4]||n[6];if(!t.leadingZeros&&o.length>0&&s&&r[2]!==".")return e;if(!t.leadingZeros&&o.length>0&&!s&&r[1]!==".")return e;{let c=Number(r),d=""+c;return d.search(/[eE]/)!==-1||a?t.eNotation?c:e:r.indexOf(".")!==-1?d==="0"&&i===""||d===i||s&&d==="-"+i?c:e:o?i===d||s+i===d?c:e:r===d||r===s+d?c:e}}else return e}}function hB(e){return e&&e.indexOf(".")!==-1&&(e=e.replace(/0+$/,""),e==="."?e="0":e[0]==="."?e="0"+e:e[e.length-1]==="."&&(e=e.substr(0,e.length-1))),e}Xx.exports=fB});var Jx=w((A4,Zx)=>{"use strict";var qf=Df(),pa=Vx(),mB=Yx(),pB=Qx(),R4="<((!\\[CDATA\\[([\\s\\S]*?)(]]>))|((NAME:)?(NAME))([^>]*)>|((\\/)(NAME)\\s*>))([^<]*)".replace(/NAME/g,qf.nameRegexp),Uf=class{constructor(t){this.options=t,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"¢"},pound:{regex:/&(pound|#163);/g,val:"£"},yen:{regex:/&(yen|#165);/g,val:"¥"},euro:{regex:/&(euro|#8364);/g,val:"€"},copyright:{regex:/&(copy|#169);/g,val:"©"},reg:{regex:/&(reg|#174);/g,val:"®"},inr:{regex:/&(inr|#8377);/g,val:"₹"}},this.addExternalEntities=yB,this.parseXml=SB,this.parseTextData=gB,this.resolveNameSpace=EB,this.buildAttributesMap=CB,this.isItStopNode=_B,this.replaceEntitiesValue=wB,this.readStopNodeData=AB,this.saveTextToParentTag=bB}};function yB(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];this.lastEntities[n]={regex:new RegExp("&"+n+";","g"),val:e[n]}}}function gB(e,t,r,n,s,o,i){if(e!==void 0&&(this.options.trimValues&&!n&&(e=e.trim()),e.length>0)){i||(e=this.replaceEntitiesValue(e));let a=this.options.tagValueProcessor(t,e,r,s,o);return a==null?e:typeof a!=typeof e||a!==e?a:this.options.trimValues?$f(e,this.options.parseTagValue,this.options.numberParseOptions):e.trim()===e?$f(e,this.options.parseTagValue,this.options.numberParseOptions):e}}function EB(e){if(this.options.removeNSPrefix){let t=e.split(":"),r=e.charAt(0)==="/"?"/":"";if(t[0]==="xmlns")return"";t.length===2&&(e=r+t[1])}return e}var xB=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function CB(e,t){if(!this.options.ignoreAttributes&&typeof e=="string"){let r=qf.getAllMatches(e,xB),n=r.length,s={};for(let o=0;o<n;o++){let i=this.resolveNameSpace(r[o][1]),a=r[o][4],c=this.options.attributeNamePrefix+i;if(i.length)if(this.options.transformAttributeName&&(c=this.options.transformAttributeName(c)),c==="__proto__"&&(c="#__proto__"),a!==void 0){this.options.trimValues&&(a=a.trim()),a=this.replaceEntitiesValue(a);let d=this.options.attributeValueProcessor(i,a,t);d==null?s[c]=a:typeof d!=typeof a||d!==a?s[c]=d:s[c]=$f(a,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(s[c]=!0)}if(!Object.keys(s).length)return;if(this.options.attributesGroupName){let o={};return o[this.options.attributesGroupName]=s,o}return s}}var SB=function(e){e=e.replace(/\r\n?/g,`
`);let t=new pa("!xml"),r=t,n="",s="";for(let o=0;o<e.length;o++)if(e[o]==="<")if(e[o+1]==="/"){let a=$s(e,">",o,"Closing Tag is not closed."),c=e.substring(o+2,a).trim();if(this.options.removeNSPrefix){let d=c.indexOf(":");d!==-1&&(c=c.substr(d+1))}this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&(n=this.saveTextToParentTag(n,r,s)),s=s.substr(0,s.lastIndexOf(".")),r=this.tagsNodeStack.pop(),n="",o=a}else if(e[o+1]==="?"){let a=zf(e,o,!1,"?>");if(!a)throw new Error("Pi Tag is not closed.");if(n=this.saveTextToParentTag(n,r,s),!(this.options.ignoreDeclaration&&a.tagName==="?xml"||this.options.ignorePiTags)){let c=new pa(a.tagName);c.add(this.options.textNodeName,""),a.tagName!==a.tagExp&&a.attrExpPresent&&(c[":@"]=this.buildAttributesMap(a.tagExp,s)),r.addChild(c)}o=a.closeIndex+1}else if(e.substr(o+1,3)==="!--"){let a=$s(e,"-->",o+4,"Comment is not closed.");if(this.options.commentPropName){let c=e.substring(o+4,a-2);n=this.saveTextToParentTag(n,r,s),r.add(this.options.commentPropName,[{[this.options.textNodeName]:c}])}o=a}else if(e.substr(o+1,2)==="!D"){let a=mB(e,o);this.docTypeEntities=a.entities,o=a.i}else if(e.substr(o+1,2)==="!["){let a=$s(e,"]]>",o,"CDATA is not closed.")-2,c=e.substring(o+9,a);if(n=this.saveTextToParentTag(n,r,s),this.options.cdataPropName)r.add(this.options.cdataPropName,[{[this.options.textNodeName]:c}]);else{let d=this.parseTextData(c,r.tagname,s,!0,!1,!0);d==null&&(d=""),r.add(this.options.textNodeName,d)}o=a+2}else{let a=zf(e,o,this.options.removeNSPrefix),c=a.tagName,d=a.tagExp,l=a.attrExpPresent,f=a.closeIndex;this.options.transformTagName&&(c=this.options.transformTagName(c)),r&&n&&r.tagname!=="!xml"&&(n=this.saveTextToParentTag(n,r,s,!1)),c!==t.tagname&&(s+=s?"."+c:c);let u=r;if(u&&this.options.unpairedTags.indexOf(u.tagname)!==-1&&(r=this.tagsNodeStack.pop()),this.isItStopNode(this.options.stopNodes,s,c)){let g="";if(d.length>0&&d.lastIndexOf("/")===d.length-1)o=a.closeIndex;else if(this.options.unpairedTags.indexOf(c)!==-1)o=a.closeIndex;else{let S=this.readStopNodeData(e,c,f+1);if(!S)throw new Error(`Unexpected end of ${c}`);o=S.i,g=S.tagContent}let y=new pa(c);c!==d&&l&&(y[":@"]=this.buildAttributesMap(d,s)),g&&(g=this.parseTextData(g,c,s,!0,l,!0,!0)),s=s.substr(0,s.lastIndexOf(".")),y.add(this.options.textNodeName,g),r.addChild(y)}else{if(d.length>0&&d.lastIndexOf("/")===d.length-1){c[c.length-1]==="/"?(c=c.substr(0,c.length-1),d=c):d=d.substr(0,d.length-1),this.options.transformTagName&&(c=this.options.transformTagName(c));let g=new pa(c);c!==d&&l&&(g[":@"]=this.buildAttributesMap(d,s)),s=s.substr(0,s.lastIndexOf(".")),r.addChild(g)}else{let g=new pa(c);this.tagsNodeStack.push(r),c!==d&&l&&(g[":@"]=this.buildAttributesMap(d,s)),r.addChild(g),r=g}n="",o=f}}else n+=e[o];return t.child},wB=function(e){if(this.options.processEntities){for(let t in this.docTypeEntities){let r=this.docTypeEntities[t];e=e.replace(r.regx,r.val)}for(let t in this.lastEntities){let r=this.lastEntities[t];e=e.replace(r.regex,r.val)}if(this.options.htmlEntities)for(let t in this.htmlEntities){let r=this.htmlEntities[t];e=e.replace(r.regex,r.val)}e=e.replace(this.ampEntity.regex,this.ampEntity.val)}return e};function bB(e,t,r,n){return e&&(n===void 0&&(n=Object.keys(t.child).length===0),e=this.parseTextData(e,t.tagname,r,!1,t[":@"]?Object.keys(t[":@"]).length!==0:!1,n),e!==void 0&&e!==""&&t.add(this.options.textNodeName,e),e=""),e}function _B(e,t,r){let n="*."+r;for(let s in e){let o=e[s];if(n===o||t===o)return!0}return!1}function RB(e,t,r=">"){let n,s="";for(let o=t;o<e.length;o++){let i=e[o];if(n)i===n&&(n="");else if(i==='"'||i==="'")n=i;else if(i===r[0])if(r[1]){if(e[o+1]===r[1])return{data:s,index:o}}else return{data:s,index:o};else i==="	"&&(i=" ");s+=i}}function $s(e,t,r,n){let s=e.indexOf(t,r);if(s===-1)throw new Error(n);return s+t.length-1}function zf(e,t,r,n=">"){let s=RB(e,t+1,n);if(!s)return;let o=s.data,i=s.index,a=o.search(/\s/),c=o,d=!0;if(a!==-1&&(c=o.substr(0,a).replace(/\s\s*$/,""),o=o.substr(a+1)),r){let l=c.indexOf(":");l!==-1&&(c=c.substr(l+1),d=c!==s.data.substr(l+1))}return{tagName:c,tagExp:o,closeIndex:i,attrExpPresent:d}}function AB(e,t,r){let n=r,s=1;for(;r<e.length;r++)if(e[r]==="<")if(e[r+1]==="/"){let o=$s(e,">",r,`${t} is not closed`);if(e.substring(r+2,o).trim()===t&&(s--,s===0))return{tagContent:e.substring(n,r),i:o};r=o}else if(e[r+1]==="?")r=$s(e,"?>",r+1,"StopNode is not closed.");else if(e.substr(r+1,3)==="!--")r=$s(e,"-->",r+3,"StopNode is not closed.");else if(e.substr(r+1,2)==="![")r=$s(e,"]]>",r,"StopNode is not closed.")-2;else{let o=zf(e,r,">");o&&((o&&o.tagName)===t&&o.tagExp[o.tagExp.length-1]!=="/"&&s++,r=o.closeIndex)}}function $f(e,t,r){if(t&&typeof e=="string"){let n=e.trim();return n==="true"?!0:n==="false"?!1:pB(e,r)}else return qf.isExist(e)?e:""}Zx.exports=Uf});var rC=w(tC=>{"use strict";function kB(e,t){return eC(e,t)}function eC(e,t,r){let n,s={};for(let o=0;o<e.length;o++){let i=e[o],a=TB(i),c="";if(r===void 0?c=a:c=r+"."+a,a===t.textNodeName)n===void 0?n=i[a]:n+=""+i[a];else{if(a===void 0)continue;if(i[a]){let d=eC(i[a],t,c),l=vB(d,t);i[":@"]?NB(d,i[":@"],c,t):Object.keys(d).length===1&&d[t.textNodeName]!==void 0&&!t.alwaysCreateTextNode?d=d[t.textNodeName]:Object.keys(d).length===0&&(t.alwaysCreateTextNode?d[t.textNodeName]="":d=""),s[a]!==void 0&&s.hasOwnProperty(a)?(Array.isArray(s[a])||(s[a]=[s[a]]),s[a].push(d)):t.isArray(a,c,l)?s[a]=[d]:s[a]=d}}}return typeof n=="string"?n.length>0&&(s[t.textNodeName]=n):n!==void 0&&(s[t.textNodeName]=n),s}function TB(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function NB(e,t,r,n){if(t){let s=Object.keys(t),o=s.length;for(let i=0;i<o;i++){let a=s[i];n.isArray(a,r+"."+a,!0,!0)?e[a]=[t[a]]:e[a]=t[a]}}}function vB(e,t){let r=Object.keys(e).length;return!!(r===0||r===1&&e[t.textNodeName])}tC.prettify=kB});var sC=w((T4,nC)=>{var{buildOptions:PB}=Gx(),OB=Jx(),{prettify:IB}=rC(),DB=Mf(),Hf=class{constructor(t){this.externalEntities={},this.options=PB(t)}parse(t,r){if(typeof t!="string")if(t.toString)t=t.toString();else throw new Error("XML data is accepted in String or Bytes[] form.");if(r){r===!0&&(r={});let o=DB.validate(t,r);if(o!==!0)throw Error(`${o.err.msg}:${o.err.line}:${o.err.col}`)}let n=new OB(this.options);n.addExternalEntities(this.externalEntities);let s=n.parseXml(t);return this.options.preserveOrder||s===void 0?s:IB(s,this.options)}addEntity(t,r){if(r.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(t.indexOf("&")!==-1||t.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(r==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[t]=r}};nC.exports=Hf});var dC=w((N4,cC)=>{var BB=`
`;function MB(e,t){let r="";return t.format&&t.indentBy.length>0&&(r=BB),iC(e,t,"",r)}function iC(e,t,r,n){let s="",o=!1;for(let i=0;i<e.length;i++){let a=e[i],c=LB(a),d="";if(r.length===0?d=c:d=`${r}.${c}`,c===t.textNodeName){let y=a[c];FB(d,t)||(y=t.tagValueProcessor(c,y),y=aC(y,t)),o&&(s+=n),s+=y,o=!1;continue}else if(c===t.cdataPropName){o&&(s+=n),s+=`<![CDATA[${a[c][0][t.textNodeName]}]]>`,o=!1;continue}else if(c===t.commentPropName){s+=n+`<!--${a[c][0][t.textNodeName]}-->`,o=!0;continue}else if(c[0]==="?"){let y=oC(a[":@"],t),S=c==="?xml"?"":n,R=a[c][0][t.textNodeName];R=R.length!==0?" "+R:"",s+=S+`<${c}${R}${y}?>`,o=!0;continue}let l=n;l!==""&&(l+=t.indentBy);let f=oC(a[":@"],t),u=n+`<${c}${f}`,g=iC(a[c],t,d,l);t.unpairedTags.indexOf(c)!==-1?t.suppressUnpairedNode?s+=u+">":s+=u+"/>":(!g||g.length===0)&&t.suppressEmptyNode?s+=u+"/>":g&&g.endsWith(">")?s+=u+`>${g}${n}</${c}>`:(s+=u+">",g&&n!==""&&(g.includes("/>")||g.includes("</"))?s+=n+t.indentBy+g+n:s+=g,s+=`</${c}>`),o=!0}return s}function LB(e){let t=Object.keys(e);for(let r=0;r<t.length;r++){let n=t[r];if(n!==":@")return n}}function oC(e,t){let r="";if(e&&!t.ignoreAttributes)for(let n in e){let s=t.attributeValueProcessor(n,e[n]);s=aC(s,t),s===!0&&t.suppressBooleanAttributes?r+=` ${n.substr(t.attributeNamePrefix.length)}`:r+=` ${n.substr(t.attributeNamePrefix.length)}="${s}"`}return r}function FB(e,t){e=e.substr(0,e.length-t.textNodeName.length-1);let r=e.substr(e.lastIndexOf(".")+1);for(let n in t.stopNodes)if(t.stopNodes[n]===e||t.stopNodes[n]==="*."+r)return!0;return!1}function aC(e,t){if(e&&e.length>0&&t.processEntities)for(let r=0;r<t.entities.length;r++){let n=t.entities[r];e=e.replace(n.regex,n.val)}return e}cC.exports=MB});var uC=w((v4,lC)=>{"use strict";var UB=dC(),zB={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(e,t){return t},attributeValueProcessor:function(e,t){return t},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[]};function Un(e){this.options=Object.assign({},zB,e),this.options.ignoreAttributes||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=HB),this.processTextOrObjNode=$B,this.options.format?(this.indentate=qB,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}Un.prototype.build=function(e){return this.options.preserveOrder?UB(e,this.options):(Array.isArray(e)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(e={[this.options.arrayNodeName]:e}),this.j2x(e,0).val)};Un.prototype.j2x=function(e,t){let r="",n="";for(let s in e)if(!(typeof e[s]>"u"))if(e[s]===null)s[0]==="?"?n+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+s+"/"+this.tagEndChar;else if(e[s]instanceof Date)n+=this.buildTextValNode(e[s],s,"",t);else if(typeof e[s]!="object"){let o=this.isAttribute(s);if(o)r+=this.buildAttrPairStr(o,""+e[s]);else if(s===this.options.textNodeName){let i=this.options.tagValueProcessor(s,""+e[s]);n+=this.replaceEntitiesValue(i)}else n+=this.buildTextValNode(e[s],s,"",t)}else if(Array.isArray(e[s])){let o=e[s].length;for(let i=0;i<o;i++){let a=e[s][i];typeof a>"u"||(a===null?s[0]==="?"?n+=this.indentate(t)+"<"+s+"?"+this.tagEndChar:n+=this.indentate(t)+"<"+s+"/"+this.tagEndChar:typeof a=="object"?n+=this.processTextOrObjNode(a,s,t):n+=this.buildTextValNode(a,s,"",t))}}else if(this.options.attributesGroupName&&s===this.options.attributesGroupName){let o=Object.keys(e[s]),i=o.length;for(let a=0;a<i;a++)r+=this.buildAttrPairStr(o[a],""+e[s][o[a]])}else n+=this.processTextOrObjNode(e[s],s,t);return{attrStr:r,val:n}};Un.prototype.buildAttrPairStr=function(e,t){return t=this.options.attributeValueProcessor(e,""+t),t=this.replaceEntitiesValue(t),this.options.suppressBooleanAttributes&&t==="true"?" "+e:" "+e+'="'+t+'"'};function $B(e,t,r){let n=this.j2x(e,r+1);return e[this.options.textNodeName]!==void 0&&Object.keys(e).length===1?this.buildTextValNode(e[this.options.textNodeName],t,n.attrStr,r):this.buildObjectNode(n.val,t,n.attrStr,r)}Un.prototype.buildObjectNode=function(e,t,r,n){if(e==="")return t[0]==="?"?this.indentate(n)+"<"+t+r+"?"+this.tagEndChar:this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar;{let s="</"+t+this.tagEndChar,o="";return t[0]==="?"&&(o="?",s=""),r&&e.indexOf("<")===-1?this.indentate(n)+"<"+t+r+o+">"+e+s:this.options.commentPropName!==!1&&t===this.options.commentPropName&&o.length===0?this.indentate(n)+`<!--${e}-->`+this.newLine:this.indentate(n)+"<"+t+r+o+this.tagEndChar+e+this.indentate(n)+s}};Un.prototype.closeTag=function(e){let t="";return this.options.unpairedTags.indexOf(e)!==-1?this.options.suppressUnpairedNode||(t="/"):this.options.suppressEmptyNode?t="/":t=`></${e}`,t};Un.prototype.buildTextValNode=function(e,t,r,n){if(this.options.cdataPropName!==!1&&t===this.options.cdataPropName)return this.indentate(n)+`<![CDATA[${e}]]>`+this.newLine;if(this.options.commentPropName!==!1&&t===this.options.commentPropName)return this.indentate(n)+`<!--${e}-->`+this.newLine;if(t[0]==="?")return this.indentate(n)+"<"+t+r+"?"+this.tagEndChar;{let s=this.options.tagValueProcessor(t,e);return s=this.replaceEntitiesValue(s),s===""?this.indentate(n)+"<"+t+r+this.closeTag(t)+this.tagEndChar:this.indentate(n)+"<"+t+r+">"+s+"</"+t+this.tagEndChar}};Un.prototype.replaceEntitiesValue=function(e){if(e&&e.length>0&&this.options.processEntities)for(let t=0;t<this.options.entities.length;t++){let r=this.options.entities[t];e=e.replace(r.regex,r.val)}return e};function qB(e){return this.options.indentBy.repeat(e)}function HB(e){return e.startsWith(this.options.attributeNamePrefix)?e.substr(this.attrPrefixLen):!1}lC.exports=Un});var jf=w((P4,fC)=>{"use strict";var jB=Mf(),GB=sC(),KB=uC();fC.exports={XMLParser:GB,XMLValidator:jB,XMLBuilder:KB}});var Jf={};_o(Jf,{__assign:()=>Qf,__asyncDelegator:()=>P1,__asyncGenerator:()=>v1,__asyncValues:()=>O1,__await:()=>ga,__awaiter:()=>_1,__classPrivateFieldGet:()=>M1,__classPrivateFieldSet:()=>L1,__createBinding:()=>A1,__decorate:()=>S1,__exportStar:()=>k1,__extends:()=>x1,__generator:()=>R1,__importDefault:()=>B1,__importStar:()=>D1,__makeTemplateObject:()=>I1,__metadata:()=>b1,__param:()=>w1,__read:()=>VC,__rest:()=>C1,__spread:()=>T1,__spreadArrays:()=>N1,__values:()=>Zf});function x1(e,t){Xf(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function C1(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function S1(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function w1(e,t){return function(r,n){t(r,n,e)}}function b1(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function _1(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function R1(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(l){d=[6,l],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function A1(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function k1(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Zf(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function VC(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function T1(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(VC(arguments[t]));return e}function N1(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function ga(e){return this instanceof ga?(this.v=e,this):new ga(e)}function v1(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(u){n[u]&&(s[u]=function(g){return new Promise(function(y,S){o.push([u,g,y,S])>1||a(u,g)})})}function a(u,g){try{c(n[u](g))}catch(y){f(o[0][3],y)}}function c(u){u.value instanceof ga?Promise.resolve(u.value.v).then(d,l):f(o[0][2],u)}function d(u){a("next",u)}function l(u){a("throw",u)}function f(u,g){u(g),o.shift(),o.length&&a(o[0][0],o[0][1])}}function P1(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(i){return(r=!r)?{value:ga(e[s](i)),done:s==="return"}:o?o(i):i}:o}}function O1(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Zf=="function"?Zf(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(a,c){i=e[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},i)}}function I1(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function D1(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function B1(e){return e&&e.__esModule?e:{default:e}}function M1(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function L1(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var Xf,Qf,eh=ze(()=>{Xf=function(e,t){return Xf=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},Xf(e,t)};Qf=function(){return Qf=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Qf.apply(this,arguments)}});var WC,YC,XC=ze(()=>{WC=e=>{let t=[];for(let r=0,n=e.length;r<n;r++){let s=e.charCodeAt(r);if(s<128)t.push(s);else if(s<2048)t.push(s>>6|192,s&63|128);else if(r+1<e.length&&(s&64512)===55296&&(e.charCodeAt(r+1)&64512)===56320){let o=65536+((s&1023)<<10)+(e.charCodeAt(++r)&1023);t.push(o>>18|240,o>>12&63|128,o>>6&63|128,o&63|128)}else t.push(s>>12|224,s>>6&63|128,s&63|128)}return Uint8Array.from(t)},YC=e=>{let t="";for(let r=0,n=e.length;r<n;r++){let s=e[r];if(s<128)t+=String.fromCharCode(s);else if(192<=s&&s<224){let o=e[++r];t+=String.fromCharCode((s&31)<<6|o&63)}else if(240<=s&&s<365){let i="%"+[s,e[++r],e[++r],e[++r]].map(a=>a.toString(16)).join("%");t+=decodeURIComponent(i)}else t+=String.fromCharCode((s&15)<<12|(e[++r]&63)<<6|e[++r]&63)}return t}});function QC(e){return new TextEncoder().encode(e)}function ZC(e){return new TextDecoder("utf-8").decode(e)}var JC=ze(()=>{});var eS={};_o(eS,{fromUtf8:()=>F1,toUtf8:()=>U1});var F1,U1,tS=ze(()=>{XC();JC();F1=e=>typeof TextEncoder=="function"?QC(e):WC(e),U1=e=>typeof TextDecoder=="function"?ZC(e):YC(e)});var rS=w(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.convertToBuffer=void 0;var z1=(tS(),Ro(eS)),$1=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:z1.fromUtf8;function q1(e){return e instanceof Uint8Array?e:typeof e=="string"?$1(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}jc.convertToBuffer=q1});var nS=w(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.isEmptyData=void 0;function H1(e){return typeof e=="string"?e.length===0:e.byteLength===0}Gc.isEmptyData=H1});var sS=w(Kc=>{"use strict";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.numToUint8=void 0;function j1(e){return new Uint8Array([(e&4278190080)>>24,(e&16711680)>>16,(e&65280)>>8,e&255])}Kc.numToUint8=j1});var oS=w(Vc=>{"use strict";Object.defineProperty(Vc,"__esModule",{value:!0});Vc.uint32ArrayFrom=void 0;function G1(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),r=0;r<e.length;)t[r]=e[r],r+=1;return t}return Uint32Array.from(e)}Vc.uint32ArrayFrom=G1});var Ea=w(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.uint32ArrayFrom=_r.numToUint8=_r.isEmptyData=_r.convertToBuffer=void 0;var K1=rS();Object.defineProperty(_r,"convertToBuffer",{enumerable:!0,get:function(){return K1.convertToBuffer}});var V1=nS();Object.defineProperty(_r,"isEmptyData",{enumerable:!0,get:function(){return V1.isEmptyData}});var W1=sS();Object.defineProperty(_r,"numToUint8",{enumerable:!0,get:function(){return W1.numToUint8}});var Y1=oS();Object.defineProperty(_r,"uint32ArrayFrom",{enumerable:!0,get:function(){return Y1.uint32ArrayFrom}})});var cS=w(Wc=>{"use strict";Object.defineProperty(Wc,"__esModule",{value:!0});Wc.AwsCrc32=void 0;var iS=(eh(),Ro(Jf)),th=Ea(),aS=xa(),X1=function(){function e(){this.crc32=new aS.Crc32}return e.prototype.update=function(t){(0,th.isEmptyData)(t)||this.crc32.update((0,th.convertToBuffer)(t))},e.prototype.digest=function(){return iS.__awaiter(this,void 0,void 0,function(){return iS.__generator(this,function(t){return[2,(0,th.numToUint8)(this.crc32.digest())]})})},e.prototype.reset=function(){this.crc32=new aS.Crc32},e}();Wc.AwsCrc32=X1});var xa=w(zn=>{"use strict";Object.defineProperty(zn,"__esModule",{value:!0});zn.AwsCrc32=zn.Crc32=zn.crc32=void 0;var Q1=(eh(),Ro(Jf)),Z1=Ea();function J1(e){return new dS().update(e).digest()}zn.crc32=J1;var dS=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var s=Q1.__values(t),o=s.next();!o.done;o=s.next()){var i=o.value;this.checksum=this.checksum>>>8^tM[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();zn.Crc32=dS;var eM=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],tM=(0,Z1.uint32ArrayFrom)(eM),rM=cS();Object.defineProperty(zn,"AwsCrc32",{enumerable:!0,get:function(){return rM.AwsCrc32}})});var oh={};_o(oh,{__assign:()=>nh,__asyncDelegator:()=>pM,__asyncGenerator:()=>mM,__asyncValues:()=>yM,__await:()=>Ca,__awaiter:()=>cM,__classPrivateFieldGet:()=>CM,__classPrivateFieldSet:()=>SM,__createBinding:()=>lM,__decorate:()=>oM,__exportStar:()=>uM,__extends:()=>nM,__generator:()=>dM,__importDefault:()=>xM,__importStar:()=>EM,__makeTemplateObject:()=>gM,__metadata:()=>aM,__param:()=>iM,__read:()=>lS,__rest:()=>sM,__spread:()=>fM,__spreadArrays:()=>hM,__values:()=>sh});function nM(e,t){rh(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function sM(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function oM(e,t,r,n){var s=arguments.length,o=s<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function iM(e,t){return function(r,n){t(r,n,e)}}function aM(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function cM(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(l){try{d(n.next(l))}catch(f){i(f)}}function c(l){try{d(n.throw(l))}catch(f){i(f)}}function d(l){l.done?o(l.value):s(l.value).then(a,c)}d((n=n.apply(e,t||[])).next())})}function dM(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(d){return function(l){return c([d,l])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,s&&(o=d[0]&2?s.return:d[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,d[1])).done)return o;switch(s=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,s=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){r.label=d[1];break}if(d[0]===6&&r.label<o[1]){r.label=o[1],o=d;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(d);break}o[2]&&r.ops.pop(),r.trys.pop();continue}d=t.call(e,r)}catch(l){d=[6,l],s=0}finally{n=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}function lM(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function uM(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function sh(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function lS(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,o=[],i;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(a){i={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return o}function fM(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(lS(arguments[t]));return e}function hM(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<r;t++)for(var o=arguments[t],i=0,a=o.length;i<a;i++,s++)n[s]=o[i];return n}function Ca(e){return this instanceof Ca?(this.v=e,this):new Ca(e)}function mM(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),s,o=[];return s={},i("next"),i("throw"),i("return"),s[Symbol.asyncIterator]=function(){return this},s;function i(u){n[u]&&(s[u]=function(g){return new Promise(function(y,S){o.push([u,g,y,S])>1||a(u,g)})})}function a(u,g){try{c(n[u](g))}catch(y){f(o[0][3],y)}}function c(u){u.value instanceof Ca?Promise.resolve(u.value.v).then(d,l):f(o[0][2],u)}function d(u){a("next",u)}function l(u){a("throw",u)}function f(u,g){u(g),o.shift(),o.length&&a(o[0][0],o[0][1])}}function pM(e){var t,r;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,o){t[s]=e[s]?function(i){return(r=!r)?{value:Ca(e[s](i)),done:s==="return"}:o?o(i):i}:o}}function yM(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof sh=="function"?sh(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(i){return new Promise(function(a,c){i=e[o](i),s(a,c,i.done,i.value)})}}function s(o,i,a,c){Promise.resolve(c).then(function(d){o({value:d,done:a})},i)}}function gM(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function EM(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function xM(e){return e&&e.__esModule?e:{default:e}}function CM(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function SM(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var rh,nh,ih=ze(()=>{rh=function(e,t){return rh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)n.hasOwnProperty(s)&&(r[s]=n[s])},rh(e,t)};nh=function(){return nh=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},nh.apply(this,arguments)}});var hS=w(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.AwsCrc32c=void 0;var uS=(ih(),Ro(oh)),ah=Ea(),fS=ch(),wM=function(){function e(){this.crc32c=new fS.Crc32c}return e.prototype.update=function(t){(0,ah.isEmptyData)(t)||this.crc32c.update((0,ah.convertToBuffer)(t))},e.prototype.digest=function(){return uS.__awaiter(this,void 0,void 0,function(){return uS.__generator(this,function(t){return[2,(0,ah.numToUint8)(this.crc32c.digest())]})})},e.prototype.reset=function(){this.crc32c=new fS.Crc32c},e}();Yc.AwsCrc32c=wM});var ch=w($n=>{"use strict";Object.defineProperty($n,"__esModule",{value:!0});$n.AwsCrc32c=$n.Crc32c=$n.crc32c=void 0;var bM=(ih(),Ro(oh)),_M=Ea();function RM(e){return new mS().update(e).digest()}$n.crc32c=RM;var mS=function(){function e(){this.checksum=4294967295}return e.prototype.update=function(t){var r,n;try{for(var s=bM.__values(t),o=s.next();!o.done;o=s.next()){var i=o.value;this.checksum=this.checksum>>>8^kM[(this.checksum^i)&255]}}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return this},e.prototype.digest=function(){return(this.checksum^4294967295)>>>0},e}();$n.Crc32c=mS;var AM=[0,4067132163,3778769143,324072436,3348797215,904991772,648144872,3570033899,2329499855,2024987596,1809983544,2575936315,1296289744,3207089363,2893594407,1578318884,274646895,3795141740,4049975192,51262619,3619967088,632279923,922689671,3298075524,2592579488,1760304291,2075979607,2312596564,1562183871,2943781820,3156637768,1313733451,549293790,3537243613,3246849577,871202090,3878099393,357341890,102525238,4101499445,2858735121,1477399826,1264559846,3107202533,1845379342,2677391885,2361733625,2125378298,820201905,3263744690,3520608582,598981189,4151959214,85089709,373468761,3827903834,3124367742,1213305469,1526817161,2842354314,2107672161,2412447074,2627466902,1861252501,1098587580,3004210879,2688576843,1378610760,2262928035,1955203488,1742404180,2511436119,3416409459,969524848,714683780,3639785095,205050476,4266873199,3976438427,526918040,1361435347,2739821008,2954799652,1114974503,2529119692,1691668175,2005155131,2247081528,3690758684,697762079,986182379,3366744552,476452099,3993867776,4250756596,255256311,1640403810,2477592673,2164122517,1922457750,2791048317,1412925310,1197962378,3037525897,3944729517,427051182,170179418,4165941337,746937522,3740196785,3451792453,1070968646,1905808397,2213795598,2426610938,1657317369,3053634322,1147748369,1463399397,2773627110,4215344322,153784257,444234805,3893493558,1021025245,3467647198,3722505002,797665321,2197175160,1889384571,1674398607,2443626636,1164749927,3070701412,2757221520,1446797203,137323447,4198817972,3910406976,461344835,3484808360,1037989803,781091935,3705997148,2460548119,1623424788,1939049696,2180517859,1429367560,2807687179,3020495871,1180866812,410100952,3927582683,4182430767,186734380,3756733383,763408580,1053836080,3434856499,2722870694,1344288421,1131464017,2971354706,1708204729,2545590714,2229949006,1988219213,680717673,3673779818,3383336350,1002577565,4010310262,493091189,238226049,4233660802,2987750089,1082061258,1395524158,2705686845,1972364758,2279892693,2494862625,1725896226,952904198,3399985413,3656866545,731699698,4283874585,222117402,510512622,3959836397,3280807620,837199303,582374963,3504198960,68661723,4135334616,3844915500,390545967,1230274059,3141532936,2825850620,1510247935,2395924756,2091215383,1878366691,2644384480,3553878443,565732008,854102364,3229815391,340358836,3861050807,4117890627,119113024,1493875044,2875275879,3090270611,1247431312,2660249211,1828433272,2141937292,2378227087,3811616794,291187481,34330861,4032846830,615137029,3603020806,3314634738,939183345,1776939221,2609017814,2295496738,2058945313,2926798794,1545135305,1330124605,3173225534,4084100981,17165430,307568514,3762199681,888469610,3332340585,3587147933,665062302,2042050490,2346497209,2559330125,1793573966,3190661285,1279665062,1595330642,2910671697],kM=(0,_M.uint32ArrayFrom)(AM),TM=hS();Object.defineProperty($n,"AwsCrc32c",{enumerable:!0,get:function(){return TM.AwsCrc32c}})});var ki=w((mde,mA)=>{"use strict";var hA=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);mA.exports=e=>e?Object.keys(e).map(t=>[hA.has(t)?hA.get(t):t,e[t]]).reduce((t,r)=>(t[r[0]]=r[1],t),Object.create(null)):{}});var El=w((pde,_A)=>{"use strict";var pA=typeof process=="object"&&process?process:{stdout:null,stderr:null},Z3=require("events"),yA=require("stream"),J3=require("string_decoder"),gA=J3.StringDecoder,ln=Symbol("EOF"),un=Symbol("maybeEmitEnd"),gs=Symbol("emittedEnd"),fl=Symbol("emittingEnd"),Wa=Symbol("emittedError"),hl=Symbol("closed"),EA=Symbol("read"),ml=Symbol("flush"),xA=Symbol("flushChunk"),Ot=Symbol("encoding"),fn=Symbol("decoder"),pl=Symbol("flowing"),Ya=Symbol("paused"),Ti=Symbol("resume"),Me=Symbol("buffer"),Fr=Symbol("pipes"),Je=Symbol("bufferLength"),Dm=Symbol("bufferPush"),Bm=Symbol("bufferShift"),ct=Symbol("objectMode"),Le=Symbol("destroyed"),Mm=Symbol("error"),Lm=Symbol("emitData"),CA=Symbol("emitEnd"),Fm=Symbol("emitEnd2"),hn=Symbol("async"),Um=Symbol("abort"),yl=Symbol("aborted"),ro=Symbol("signal"),Xa=e=>Promise.resolve().then(e),bA=global._MP_NO_ITERATOR_SYMBOLS_!=="1",SA=bA&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),wA=bA&&Symbol.iterator||Symbol("iterator not implemented"),eU=e=>e==="end"||e==="finish"||e==="prefinish",tU=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,rU=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),gl=class{constructor(t,r,n){this.src=t,this.dest=r,this.opts=n,this.ondrain=()=>t[Ti](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},zm=class extends gl{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,r,n){super(t,r,n),this.proxyErrors=s=>r.emit("error",s),t.on("error",this.proxyErrors)}},Qa=class extends yA{constructor(t){super(),this[pl]=!1,this[Ya]=!1,this[Fr]=[],this[Me]=[],this[ct]=t&&t.objectMode||!1,this[ct]?this[Ot]=null:this[Ot]=t&&t.encoding||null,this[Ot]==="buffer"&&(this[Ot]=null),this[hn]=t&&!!t.async||!1,this[fn]=this[Ot]?new gA(this[Ot]):null,this[ln]=!1,this[gs]=!1,this[fl]=!1,this[hl]=!1,this[Wa]=null,this.writable=!0,this.readable=!0,this[Je]=0,this[Le]=!1,t&&t.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Me]}),t&&t.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[Fr]}),this[ro]=t&&t.signal,this[yl]=!1,this[ro]&&(this[ro].addEventListener("abort",()=>this[Um]()),this[ro].aborted&&this[Um]())}get bufferLength(){return this[Je]}get encoding(){return this[Ot]}set encoding(t){if(this[ct])throw new Error("cannot set encoding in objectMode");if(this[Ot]&&t!==this[Ot]&&(this[fn]&&this[fn].lastNeed||this[Je]))throw new Error("cannot change encoding");this[Ot]!==t&&(this[fn]=t?new gA(t):null,this[Me].length&&(this[Me]=this[Me].map(r=>this[fn].write(r)))),this[Ot]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[ct]}set objectMode(t){this[ct]=this[ct]||!!t}get async(){return this[hn]}set async(t){this[hn]=this[hn]||!!t}[Um](){this[yl]=!0,this.emit("abort",this[ro].reason),this.destroy(this[ro].reason)}get aborted(){return this[yl]}set aborted(t){}write(t,r,n){if(this[yl])return!1;if(this[ln])throw new Error("write after end");if(this[Le])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let s=this[hn]?Xa:o=>o();return!this[ct]&&!Buffer.isBuffer(t)&&(rU(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):tU(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[ct]?(this.flowing&&this[Je]!==0&&this[ml](!0),this.flowing?this.emit("data",t):this[Dm](t),this[Je]!==0&&this.emit("readable"),n&&s(n),this.flowing):t.length?(typeof t=="string"&&!(r===this[Ot]&&!this[fn].lastNeed)&&(t=Buffer.from(t,r)),Buffer.isBuffer(t)&&this[Ot]&&(t=this[fn].write(t)),this.flowing&&this[Je]!==0&&this[ml](!0),this.flowing?this.emit("data",t):this[Dm](t),this[Je]!==0&&this.emit("readable"),n&&s(n),this.flowing):(this[Je]!==0&&this.emit("readable"),n&&s(n),this.flowing)}read(t){if(this[Le])return null;if(this[Je]===0||t===0||t>this[Je])return this[un](),null;this[ct]&&(t=null),this[Me].length>1&&!this[ct]&&(this.encoding?this[Me]=[this[Me].join("")]:this[Me]=[Buffer.concat(this[Me],this[Je])]);let r=this[EA](t||null,this[Me][0]);return this[un](),r}[EA](t,r){return t===r.length||t===null?this[Bm]():(this[Me][0]=r.slice(t),r=r.slice(0,t),this[Je]-=t),this.emit("data",r),!this[Me].length&&!this[ln]&&this.emit("drain"),r}end(t,r,n){return typeof t=="function"&&(n=t,t=null),typeof r=="function"&&(n=r,r="utf8"),t&&this.write(t,r),n&&this.once("end",n),this[ln]=!0,this.writable=!1,(this.flowing||!this[Ya])&&this[un](),this}[Ti](){this[Le]||(this[Ya]=!1,this[pl]=!0,this.emit("resume"),this[Me].length?this[ml]():this[ln]?this[un]():this.emit("drain"))}resume(){return this[Ti]()}pause(){this[pl]=!1,this[Ya]=!0}get destroyed(){return this[Le]}get flowing(){return this[pl]}get paused(){return this[Ya]}[Dm](t){this[ct]?this[Je]+=1:this[Je]+=t.length,this[Me].push(t)}[Bm](){return this[ct]?this[Je]-=1:this[Je]-=this[Me][0].length,this[Me].shift()}[ml](t){do;while(this[xA](this[Bm]())&&this[Me].length);!t&&!this[Me].length&&!this[ln]&&this.emit("drain")}[xA](t){return this.emit("data",t),this.flowing}pipe(t,r){if(this[Le])return;let n=this[gs];return r=r||{},t===pA.stdout||t===pA.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&t.end():(this[Fr].push(r.proxyErrors?new zm(this,t,r):new gl(this,t,r)),this[hn]?Xa(()=>this[Ti]()):this[Ti]()),t}unpipe(t){let r=this[Fr].find(n=>n.dest===t);r&&(this[Fr].splice(this[Fr].indexOf(r),1),r.unpipe())}addListener(t,r){return this.on(t,r)}on(t,r){let n=super.on(t,r);return t==="data"&&!this[Fr].length&&!this.flowing?this[Ti]():t==="readable"&&this[Je]!==0?super.emit("readable"):eU(t)&&this[gs]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Wa]&&(this[hn]?Xa(()=>r.call(this,this[Wa])):r.call(this,this[Wa])),n}get emittedEnd(){return this[gs]}[un](){!this[fl]&&!this[gs]&&!this[Le]&&this[Me].length===0&&this[ln]&&(this[fl]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[hl]&&this.emit("close"),this[fl]=!1)}emit(t,r,...n){if(t!=="error"&&t!=="close"&&t!==Le&&this[Le])return;if(t==="data")return!this[ct]&&!r?!1:this[hn]?Xa(()=>this[Lm](r)):this[Lm](r);if(t==="end")return this[CA]();if(t==="close"){if(this[hl]=!0,!this[gs]&&!this[Le])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(t==="error"){this[Wa]=r,super.emit(Mm,r);let o=!this[ro]||this.listeners("error").length?super.emit("error",r):!1;return this[un](),o}else if(t==="resume"){let o=super.emit("resume");return this[un](),o}else if(t==="finish"||t==="prefinish"){let o=super.emit(t);return this.removeAllListeners(t),o}let s=super.emit(t,r,...n);return this[un](),s}[Lm](t){for(let n of this[Fr])n.dest.write(t)===!1&&this.pause();let r=super.emit("data",t);return this[un](),r}[CA](){this[gs]||(this[gs]=!0,this.readable=!1,this[hn]?Xa(()=>this[Fm]()):this[Fm]())}[Fm](){if(this[fn]){let r=this[fn].end();if(r){for(let n of this[Fr])n.dest.write(r);super.emit("data",r)}}for(let r of this[Fr])r.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[ct]||(t.dataLength=0);let r=this.promise();return this.on("data",n=>{t.push(n),this[ct]||(t.dataLength+=n.length)}),r.then(()=>t)}concat(){return this[ct]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[ct]?Promise.reject(new Error("cannot concat in objectMode")):this[Ot]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,r)=>{this.on(Le,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>t())})}[SA](){let t=!1,r=()=>(this.pause(),t=!0,Promise.resolve({done:!0}));return{next:()=>{if(t)return r();let s=this.read();if(s!==null)return Promise.resolve({done:!1,value:s});if(this[ln])return r();let o=null,i=null,a=f=>{this.removeListener("data",c),this.removeListener("end",d),this.removeListener(Le,l),r(),i(f)},c=f=>{this.removeListener("error",a),this.removeListener("end",d),this.removeListener(Le,l),this.pause(),o({value:f,done:!!this[ln]})},d=()=>{this.removeListener("error",a),this.removeListener("data",c),this.removeListener(Le,l),r(),o({done:!0})},l=()=>a(new Error("stream destroyed"));return new Promise((f,u)=>{i=u,o=f,this.once(Le,l),this.once("error",a),this.once("end",d),this.once("data",c)})},throw:r,return:r,[SA](){return this}}}[wA](){let t=!1,r=()=>(this.pause(),this.removeListener(Mm,r),this.removeListener(Le,r),this.removeListener("end",r),t=!0,{done:!0}),n=()=>{if(t)return r();let s=this.read();return s===null?r():{value:s}};return this.once("end",r),this.once(Mm,r),this.once(Le,r),{next:n,throw:r,return:r,[wA](){return this}}}destroy(t){return this[Le]?(t?this.emit("error",t):this.emit(Le),this):(this[Le]=!0,this[Me].length=0,this[Je]=0,typeof this.close=="function"&&!this[hl]&&this.close(),t?this.emit("error",t):this.emit(Le),this)}static isStream(t){return!!t&&(t instanceof Qa||t instanceof yA||t instanceof Z3&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}};_A.exports=Qa});var AA=w((yde,RA)=>{var nU=require("zlib").constants||{ZLIB_VERNUM:4736};RA.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},nU))});var Km=w((gde,BA)=>{"use strict";var kA=typeof process=="object"&&process?process:{stdout:null,stderr:null},sU=require("events"),TA=require("stream"),NA=require("string_decoder").StringDecoder,mn=Symbol("EOF"),pn=Symbol("maybeEmitEnd"),Es=Symbol("emittedEnd"),xl=Symbol("emittingEnd"),Za=Symbol("emittedError"),Cl=Symbol("closed"),vA=Symbol("read"),Sl=Symbol("flush"),PA=Symbol("flushChunk"),It=Symbol("encoding"),yn=Symbol("decoder"),wl=Symbol("flowing"),Ja=Symbol("paused"),Ni=Symbol("resume"),et=Symbol("bufferLength"),$m=Symbol("bufferPush"),qm=Symbol("bufferShift"),mt=Symbol("objectMode"),pt=Symbol("destroyed"),Hm=Symbol("emitData"),OA=Symbol("emitEnd"),jm=Symbol("emitEnd2"),gn=Symbol("async"),ec=e=>Promise.resolve().then(e),IA=global._MP_NO_ITERATOR_SYMBOLS_!=="1",oU=IA&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),iU=IA&&Symbol.iterator||Symbol("iterator not implemented"),aU=e=>e==="end"||e==="finish"||e==="prefinish",cU=e=>e instanceof ArrayBuffer||typeof e=="object"&&e.constructor&&e.constructor.name==="ArrayBuffer"&&e.byteLength>=0,dU=e=>!Buffer.isBuffer(e)&&ArrayBuffer.isView(e),bl=class{constructor(t,r,n){this.src=t,this.dest=r,this.opts=n,this.ondrain=()=>t[Ni](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Gm=class extends bl{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(t,r,n){super(t,r,n),this.proxyErrors=s=>r.emit("error",s),t.on("error",this.proxyErrors)}};BA.exports=class DA extends TA{constructor(t){super(),this[wl]=!1,this[Ja]=!1,this.pipes=[],this.buffer=[],this[mt]=t&&t.objectMode||!1,this[mt]?this[It]=null:this[It]=t&&t.encoding||null,this[It]==="buffer"&&(this[It]=null),this[gn]=t&&!!t.async||!1,this[yn]=this[It]?new NA(this[It]):null,this[mn]=!1,this[Es]=!1,this[xl]=!1,this[Cl]=!1,this[Za]=null,this.writable=!0,this.readable=!0,this[et]=0,this[pt]=!1}get bufferLength(){return this[et]}get encoding(){return this[It]}set encoding(t){if(this[mt])throw new Error("cannot set encoding in objectMode");if(this[It]&&t!==this[It]&&(this[yn]&&this[yn].lastNeed||this[et]))throw new Error("cannot change encoding");this[It]!==t&&(this[yn]=t?new NA(t):null,this.buffer.length&&(this.buffer=this.buffer.map(r=>this[yn].write(r)))),this[It]=t}setEncoding(t){this.encoding=t}get objectMode(){return this[mt]}set objectMode(t){this[mt]=this[mt]||!!t}get async(){return this[gn]}set async(t){this[gn]=this[gn]||!!t}write(t,r,n){if(this[mn])throw new Error("write after end");if(this[pt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");let s=this[gn]?ec:o=>o();return!this[mt]&&!Buffer.isBuffer(t)&&(dU(t)?t=Buffer.from(t.buffer,t.byteOffset,t.byteLength):cU(t)?t=Buffer.from(t):typeof t!="string"&&(this.objectMode=!0)),this[mt]?(this.flowing&&this[et]!==0&&this[Sl](!0),this.flowing?this.emit("data",t):this[$m](t),this[et]!==0&&this.emit("readable"),n&&s(n),this.flowing):t.length?(typeof t=="string"&&!(r===this[It]&&!this[yn].lastNeed)&&(t=Buffer.from(t,r)),Buffer.isBuffer(t)&&this[It]&&(t=this[yn].write(t)),this.flowing&&this[et]!==0&&this[Sl](!0),this.flowing?this.emit("data",t):this[$m](t),this[et]!==0&&this.emit("readable"),n&&s(n),this.flowing):(this[et]!==0&&this.emit("readable"),n&&s(n),this.flowing)}read(t){if(this[pt])return null;if(this[et]===0||t===0||t>this[et])return this[pn](),null;this[mt]&&(t=null),this.buffer.length>1&&!this[mt]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[et])]);let r=this[vA](t||null,this.buffer[0]);return this[pn](),r}[vA](t,r){return t===r.length||t===null?this[qm]():(this.buffer[0]=r.slice(t),r=r.slice(0,t),this[et]-=t),this.emit("data",r),!this.buffer.length&&!this[mn]&&this.emit("drain"),r}end(t,r,n){return typeof t=="function"&&(n=t,t=null),typeof r=="function"&&(n=r,r="utf8"),t&&this.write(t,r),n&&this.once("end",n),this[mn]=!0,this.writable=!1,(this.flowing||!this[Ja])&&this[pn](),this}[Ni](){this[pt]||(this[Ja]=!1,this[wl]=!0,this.emit("resume"),this.buffer.length?this[Sl]():this[mn]?this[pn]():this.emit("drain"))}resume(){return this[Ni]()}pause(){this[wl]=!1,this[Ja]=!0}get destroyed(){return this[pt]}get flowing(){return this[wl]}get paused(){return this[Ja]}[$m](t){this[mt]?this[et]+=1:this[et]+=t.length,this.buffer.push(t)}[qm](){return this.buffer.length&&(this[mt]?this[et]-=1:this[et]-=this.buffer[0].length),this.buffer.shift()}[Sl](t){do;while(this[PA](this[qm]()));!t&&!this.buffer.length&&!this[mn]&&this.emit("drain")}[PA](t){return t?(this.emit("data",t),this.flowing):!1}pipe(t,r){if(this[pt])return;let n=this[Es];return r=r||{},t===kA.stdout||t===kA.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&t.end():(this.pipes.push(r.proxyErrors?new Gm(this,t,r):new bl(this,t,r)),this[gn]?ec(()=>this[Ni]()):this[Ni]()),t}unpipe(t){let r=this.pipes.find(n=>n.dest===t);r&&(this.pipes.splice(this.pipes.indexOf(r),1),r.unpipe())}addListener(t,r){return this.on(t,r)}on(t,r){let n=super.on(t,r);return t==="data"&&!this.pipes.length&&!this.flowing?this[Ni]():t==="readable"&&this[et]!==0?super.emit("readable"):aU(t)&&this[Es]?(super.emit(t),this.removeAllListeners(t)):t==="error"&&this[Za]&&(this[gn]?ec(()=>r.call(this,this[Za])):r.call(this,this[Za])),n}get emittedEnd(){return this[Es]}[pn](){!this[xl]&&!this[Es]&&!this[pt]&&this.buffer.length===0&&this[mn]&&(this[xl]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Cl]&&this.emit("close"),this[xl]=!1)}emit(t,r,...n){if(t!=="error"&&t!=="close"&&t!==pt&&this[pt])return;if(t==="data")return r?this[gn]?ec(()=>this[Hm](r)):this[Hm](r):!1;if(t==="end")return this[OA]();if(t==="close"){if(this[Cl]=!0,!this[Es]&&!this[pt])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(t==="error"){this[Za]=r;let o=super.emit("error",r);return this[pn](),o}else if(t==="resume"){let o=super.emit("resume");return this[pn](),o}else if(t==="finish"||t==="prefinish"){let o=super.emit(t);return this.removeAllListeners(t),o}let s=super.emit(t,r,...n);return this[pn](),s}[Hm](t){for(let n of this.pipes)n.dest.write(t)===!1&&this.pause();let r=super.emit("data",t);return this[pn](),r}[OA](){this[Es]||(this[Es]=!0,this.readable=!1,this[gn]?ec(()=>this[jm]()):this[jm]())}[jm](){if(this[yn]){let r=this[yn].end();if(r){for(let n of this.pipes)n.dest.write(r);super.emit("data",r)}}for(let r of this.pipes)r.end();let t=super.emit("end");return this.removeAllListeners("end"),t}collect(){let t=[];this[mt]||(t.dataLength=0);let r=this.promise();return this.on("data",n=>{t.push(n),this[mt]||(t.dataLength+=n.length)}),r.then(()=>t)}concat(){return this[mt]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(t=>this[mt]?Promise.reject(new Error("cannot concat in objectMode")):this[It]?t.join(""):Buffer.concat(t,t.dataLength))}promise(){return new Promise((t,r)=>{this.on(pt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>t())})}[oU](){return{next:()=>{let r=this.read();if(r!==null)return Promise.resolve({done:!1,value:r});if(this[mn])return Promise.resolve({done:!0});let n=null,s=null,o=d=>{this.removeListener("data",i),this.removeListener("end",a),s(d)},i=d=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),n({value:d,done:!!this[mn]})},a=()=>{this.removeListener("error",o),this.removeListener("data",i),n({done:!0})},c=()=>o(new Error("stream destroyed"));return new Promise((d,l)=>{s=l,n=d,this.once(pt,c),this.once("error",o),this.once("end",a),this.once("data",i)})}}}[iU](){return{next:()=>{let r=this.read();return{value:r,done:r===null}}}}destroy(t){return this[pt]?(t?this.emit("error",t):this.emit(pt),this):(this[pt]=!0,this.buffer.length=0,this[et]=0,typeof this.close=="function"&&!this[Cl]&&this.close(),t?this.emit("error",t):this.emit(pt),this)}static isStream(t){return!!t&&(t instanceof DA||t instanceof TA||t instanceof sU&&(typeof t.pipe=="function"||typeof t.write=="function"&&typeof t.end=="function"))}}});var cp=w($t=>{"use strict";var Qm=require("assert"),xs=require("buffer").Buffer,FA=require("zlib"),no=$t.constants=AA(),lU=Km(),MA=xs.concat,so=Symbol("_superWrite"),Pi=class extends Error{constructor(t){super("zlib: "+t.message),this.code=t.code,this.errno=t.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+t.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},uU=Symbol("opts"),tc=Symbol("flushFlag"),LA=Symbol("finishFlushFlag"),ap=Symbol("fullFlushFlag"),Se=Symbol("handle"),_l=Symbol("onError"),vi=Symbol("sawError"),Vm=Symbol("level"),Wm=Symbol("strategy"),Ym=Symbol("ended"),Ede=Symbol("_defaultFullFlush"),Rl=class extends lU{constructor(t,r){if(!t||typeof t!="object")throw new TypeError("invalid options for ZlibBase constructor");super(t),this[vi]=!1,this[Ym]=!1,this[uU]=t,this[tc]=t.flush,this[LA]=t.finishFlush;try{this[Se]=new FA[r](t)}catch(n){throw new Pi(n)}this[_l]=n=>{this[vi]||(this[vi]=!0,this.close(),this.emit("error",n))},this[Se].on("error",n=>this[_l](new Pi(n))),this.once("end",()=>this.close)}close(){this[Se]&&(this[Se].close(),this[Se]=null,this.emit("close"))}reset(){if(!this[vi])return Qm(this[Se],"zlib binding closed"),this[Se].reset()}flush(t){this.ended||(typeof t!="number"&&(t=this[ap]),this.write(Object.assign(xs.alloc(0),{[tc]:t})))}end(t,r,n){return t&&this.write(t,r),this.flush(this[LA]),this[Ym]=!0,super.end(null,null,n)}get ended(){return this[Ym]}write(t,r,n){if(typeof r=="function"&&(n=r,r="utf8"),typeof t=="string"&&(t=xs.from(t,r)),this[vi])return;Qm(this[Se],"zlib binding closed");let s=this[Se]._handle,o=s.close;s.close=()=>{};let i=this[Se].close;this[Se].close=()=>{},xs.concat=d=>d;let a;try{let d=typeof t[tc]=="number"?t[tc]:this[tc];a=this[Se]._processChunk(t,d),xs.concat=MA}catch(d){xs.concat=MA,this[_l](new Pi(d))}finally{this[Se]&&(this[Se]._handle=s,s.close=o,this[Se].close=i,this[Se].removeAllListeners("error"))}this[Se]&&this[Se].on("error",d=>this[_l](new Pi(d)));let c;if(a)if(Array.isArray(a)&&a.length>0){c=this[so](xs.from(a[0]));for(let d=1;d<a.length;d++)c=this[so](a[d])}else c=this[so](xs.from(a));return n&&n(),c}[so](t){return super.write(t)}},En=class extends Rl{constructor(t,r){t=t||{},t.flush=t.flush||no.Z_NO_FLUSH,t.finishFlush=t.finishFlush||no.Z_FINISH,super(t,r),this[ap]=no.Z_FULL_FLUSH,this[Vm]=t.level,this[Wm]=t.strategy}params(t,r){if(!this[vi]){if(!this[Se])throw new Error("cannot switch params when binding is closed");if(!this[Se].params)throw new Error("not supported in this implementation");if(this[Vm]!==t||this[Wm]!==r){this.flush(no.Z_SYNC_FLUSH),Qm(this[Se],"zlib binding closed");let n=this[Se].flush;this[Se].flush=(s,o)=>{this.flush(s),o()};try{this[Se].params(t,r)}finally{this[Se].flush=n}this[Se]&&(this[Vm]=t,this[Wm]=r)}}}},Zm=class extends En{constructor(t){super(t,"Deflate")}},Jm=class extends En{constructor(t){super(t,"Inflate")}},Xm=Symbol("_portable"),ep=class extends En{constructor(t){super(t,"Gzip"),this[Xm]=t&&!!t.portable}[so](t){return this[Xm]?(this[Xm]=!1,t[9]=255,super[so](t)):super[so](t)}},tp=class extends En{constructor(t){super(t,"Gunzip")}},rp=class extends En{constructor(t){super(t,"DeflateRaw")}},np=class extends En{constructor(t){super(t,"InflateRaw")}},sp=class extends En{constructor(t){super(t,"Unzip")}},Al=class extends Rl{constructor(t,r){t=t||{},t.flush=t.flush||no.BROTLI_OPERATION_PROCESS,t.finishFlush=t.finishFlush||no.BROTLI_OPERATION_FINISH,super(t,r),this[ap]=no.BROTLI_OPERATION_FLUSH}},op=class extends Al{constructor(t){super(t,"BrotliCompress")}},ip=class extends Al{constructor(t){super(t,"BrotliDecompress")}};$t.Deflate=Zm;$t.Inflate=Jm;$t.Gzip=ep;$t.Gunzip=tp;$t.DeflateRaw=rp;$t.InflateRaw=np;$t.Unzip=sp;typeof FA.BrotliCompress=="function"?($t.BrotliCompress=op,$t.BrotliDecompress=ip):$t.BrotliCompress=$t.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Oi=w((Sde,UA)=>{var fU=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;UA.exports=fU!=="win32"?e=>e:e=>e&&e.replace(/\\/g,"/")});var kl=w((bde,zA)=>{"use strict";var hU=El(),dp=Oi(),lp=Symbol("slurp");zA.exports=class extends hU{constructor(t,r,n){switch(super(),this.pause(),this.extended=r,this.globalExtended=n,this.header=t,this.startBlockSize=512*Math.ceil(t.size/512),this.blockRemain=this.startBlockSize,this.remain=t.size,this.type=t.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=dp(t.path),this.mode=t.mode,this.mode&&(this.mode=this.mode&4095),this.uid=t.uid,this.gid=t.gid,this.uname=t.uname,this.gname=t.gname,this.size=t.size,this.mtime=t.mtime,this.atime=t.atime,this.ctime=t.ctime,this.linkpath=dp(t.linkpath),this.uname=t.uname,this.gname=t.gname,r&&this[lp](r),n&&this[lp](n,!0)}write(t){let r=t.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");let n=this.remain,s=this.blockRemain;return this.remain=Math.max(0,n-r),this.blockRemain=Math.max(0,s-r),this.ignore?!0:n>=r?super.write(t):super.write(t.slice(0,n))}[lp](t,r){for(let n in t)t[n]!==null&&t[n]!==void 0&&!(r&&n==="path")&&(this[n]=n==="path"||n==="linkpath"?dp(t[n]):t[n])}}});var up=w(Tl=>{"use strict";Tl.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);Tl.code=new Map(Array.from(Tl.name).map(e=>[e[1],e[0]]))});var jA=w((Rde,HA)=>{"use strict";var mU=(e,t)=>{if(Number.isSafeInteger(e))e<0?yU(e,t):pU(e,t);else throw Error("cannot encode number outside of javascript safe integer range");return t},pU=(e,t)=>{t[0]=128;for(var r=t.length;r>1;r--)t[r-1]=e&255,e=Math.floor(e/256)},yU=(e,t)=>{t[0]=255;var r=!1;e=e*-1;for(var n=t.length;n>1;n--){var s=e&255;e=Math.floor(e/256),r?t[n-1]=$A(s):s===0?t[n-1]=0:(r=!0,t[n-1]=qA(s))}},gU=e=>{let t=e[0],r=t===128?xU(e.slice(1,e.length)):t===255?EU(e):null;if(r===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(r))throw Error("parsed number outside of javascript safe integer range");return r},EU=e=>{for(var t=e.length,r=0,n=!1,s=t-1;s>-1;s--){var o=e[s],i;n?i=$A(o):o===0?i=o:(n=!0,i=qA(o)),i!==0&&(r-=i*Math.pow(256,t-s-1))}return r},xU=e=>{for(var t=e.length,r=0,n=t-1;n>-1;n--){var s=e[n];s!==0&&(r+=s*Math.pow(256,t-n-1))}return r},$A=e=>(255^e)&255,qA=e=>(255^e)+1&255;HA.exports={encode:mU,parse:gU}});var Di=w((Ade,KA)=>{"use strict";var fp=up(),Ii=require("path").posix,GA=jA(),hp=Symbol("slurp"),qt=Symbol("type"),yp=class{constructor(t,r,n,s){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[qt]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(t)?this.decode(t,r||0,n,s):t&&this.set(t)}decode(t,r,n,s){if(r||(r=0),!t||!(t.length>=r+512))throw new Error("need 512 bytes for header");if(this.path=oo(t,r,100),this.mode=Cs(t,r+100,8),this.uid=Cs(t,r+108,8),this.gid=Cs(t,r+116,8),this.size=Cs(t,r+124,12),this.mtime=mp(t,r+136,12),this.cksum=Cs(t,r+148,12),this[hp](n),this[hp](s,!0),this[qt]=oo(t,r+156,1),this[qt]===""&&(this[qt]="0"),this[qt]==="0"&&this.path.slice(-1)==="/"&&(this[qt]="5"),this[qt]==="5"&&(this.size=0),this.linkpath=oo(t,r+157,100),t.slice(r+257,r+265).toString()==="ustar\x0000")if(this.uname=oo(t,r+265,32),this.gname=oo(t,r+297,32),this.devmaj=Cs(t,r+329,8),this.devmin=Cs(t,r+337,8),t[r+475]!==0){let i=oo(t,r+345,155);this.path=i+"/"+this.path}else{let i=oo(t,r+345,130);i&&(this.path=i+"/"+this.path),this.atime=mp(t,r+476,12),this.ctime=mp(t,r+488,12)}let o=8*32;for(let i=r;i<r+148;i++)o+=t[i];for(let i=r+156;i<r+512;i++)o+=t[i];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[hp](t,r){for(let n in t)t[n]!==null&&t[n]!==void 0&&!(r&&n==="path")&&(this[n]=t[n])}encode(t,r){if(t||(t=this.block=Buffer.alloc(512),r=0),r||(r=0),!(t.length>=r+512))throw new Error("need 512 bytes for header");let n=this.ctime||this.atime?130:155,s=CU(this.path||"",n),o=s[0],i=s[1];this.needPax=s[2],this.needPax=io(t,r,100,o)||this.needPax,this.needPax=Ss(t,r+100,8,this.mode)||this.needPax,this.needPax=Ss(t,r+108,8,this.uid)||this.needPax,this.needPax=Ss(t,r+116,8,this.gid)||this.needPax,this.needPax=Ss(t,r+124,12,this.size)||this.needPax,this.needPax=pp(t,r+136,12,this.mtime)||this.needPax,t[r+156]=this[qt].charCodeAt(0),this.needPax=io(t,r+157,100,this.linkpath)||this.needPax,t.write("ustar\x0000",r+257,8),this.needPax=io(t,r+265,32,this.uname)||this.needPax,this.needPax=io(t,r+297,32,this.gname)||this.needPax,this.needPax=Ss(t,r+329,8,this.devmaj)||this.needPax,this.needPax=Ss(t,r+337,8,this.devmin)||this.needPax,this.needPax=io(t,r+345,n,i)||this.needPax,t[r+475]!==0?this.needPax=io(t,r+345,155,i)||this.needPax:(this.needPax=io(t,r+345,130,i)||this.needPax,this.needPax=pp(t,r+476,12,this.atime)||this.needPax,this.needPax=pp(t,r+488,12,this.ctime)||this.needPax);let a=8*32;for(let c=r;c<r+148;c++)a+=t[c];for(let c=r+156;c<r+512;c++)a+=t[c];return this.cksum=a,Ss(t,r+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(t){for(let r in t)t[r]!==null&&t[r]!==void 0&&(this[r]=t[r])}get type(){return fp.name.get(this[qt])||this[qt]}get typeKey(){return this[qt]}set type(t){fp.code.has(t)?this[qt]=fp.code.get(t):this[qt]=t}},CU=(e,t)=>{let n=e,s="",o,i=Ii.parse(e).root||".";if(Buffer.byteLength(n)<100)o=[n,s,!1];else{s=Ii.dirname(n),n=Ii.basename(n);do Buffer.byteLength(n)<=100&&Buffer.byteLength(s)<=t?o=[n,s,!1]:Buffer.byteLength(n)>100&&Buffer.byteLength(s)<=t?o=[n.slice(0,100-1),s,!0]:(n=Ii.join(Ii.basename(s),n),s=Ii.dirname(s));while(s!==i&&!o);o||(o=[e.slice(0,100-1),"",!0])}return o},oo=(e,t,r)=>e.slice(t,t+r).toString("utf8").replace(/\0.*/,""),mp=(e,t,r)=>SU(Cs(e,t,r)),SU=e=>e===null?null:new Date(e*1e3),Cs=(e,t,r)=>e[t]&128?GA.parse(e.slice(t,t+r)):bU(e,t,r),wU=e=>isNaN(e)?null:e,bU=(e,t,r)=>wU(parseInt(e.slice(t,t+r).toString("utf8").replace(/\0.*$/,"").trim(),8)),_U={12:8589934591,8:2097151},Ss=(e,t,r,n)=>n===null?!1:n>_U[r]||n<0?(GA.encode(n,e.slice(t,t+r)),!0):(RU(e,t,r,n),!1),RU=(e,t,r,n)=>e.write(AU(n,r),t,r,"ascii"),AU=(e,t)=>kU(Math.floor(e).toString(8),t),kU=(e,t)=>(e.length===t-1?e:new Array(t-e.length-1).join("0")+e+" ")+"\0",pp=(e,t,r,n)=>n===null?!1:Ss(e,t,r,n.getTime()/1e3),TU=new Array(156).join("\0"),io=(e,t,r,n)=>n===null?!1:(e.write(n+TU,t,r,"utf8"),n.length!==Buffer.byteLength(n)||n.length>r);KA.exports=yp});var Nl=w((kde,VA)=>{"use strict";var NU=Di(),vU=require("path"),rc=class{constructor(t,r){this.atime=t.atime||null,this.charset=t.charset||null,this.comment=t.comment||null,this.ctime=t.ctime||null,this.gid=t.gid||null,this.gname=t.gname||null,this.linkpath=t.linkpath||null,this.mtime=t.mtime||null,this.path=t.path||null,this.size=t.size||null,this.uid=t.uid||null,this.uname=t.uname||null,this.dev=t.dev||null,this.ino=t.ino||null,this.nlink=t.nlink||null,this.global=r||!1}encode(){let t=this.encodeBody();if(t==="")return null;let r=Buffer.byteLength(t),n=512*Math.ceil(1+r/512),s=Buffer.allocUnsafe(n);for(let o=0;o<512;o++)s[o]=0;new NU({path:("PaxHeader/"+vU.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:r,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(s),s.write(t,512,r,"utf8");for(let o=r+512;o<s.length;o++)s[o]=0;return s}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(t){if(this[t]===null||this[t]===void 0)return"";let r=this[t]instanceof Date?this[t].getTime()/1e3:this[t],n=" "+(t==="dev"||t==="ino"||t==="nlink"?"SCHILY.":"")+t+"="+r+`
`,s=Buffer.byteLength(n),o=Math.floor(Math.log(s)/Math.log(10))+1;return s+o>=Math.pow(10,o)&&(o+=1),o+s+n}};rc.parse=(e,t,r)=>new rc(PU(OU(e),t),r);var PU=(e,t)=>t?Object.keys(e).reduce((r,n)=>(r[n]=e[n],r),t):e,OU=e=>e.replace(/\n$/,"").split(`
`).reduce(IU,Object.create(null)),IU=(e,t)=>{let r=parseInt(t,10);if(r!==Buffer.byteLength(t)+1)return e;t=t.slice((r+" ").length);let n=t.split("="),s=n.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!s)return e;let o=n.join("=");return e[s]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(s)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,e};VA.exports=rc});var Bi=w((Tde,WA)=>{WA.exports=e=>{let t=e.length-1,r=-1;for(;t>-1&&e.charAt(t)==="/";)r=t,t--;return r===-1?e:e.slice(0,r)}});var vl=w((Nde,YA)=>{"use strict";YA.exports=e=>class extends e{warn(t,r,n={}){this.file&&(n.file=this.file),this.cwd&&(n.cwd=this.cwd),n.code=r instanceof Error&&r.code||t,n.tarCode=t,!this.strict&&n.recoverable!==!1?(r instanceof Error&&(n=Object.assign(r,n),r=r.message),this.emit("warn",n.tarCode,r,n)):r instanceof Error?this.emit("error",Object.assign(r,n)):this.emit("error",Object.assign(new Error(`${t}: ${r}`),n))}}});var Ep=w((Pde,XA)=>{"use strict";var Pl=["|","<",">","?",":"],gp=Pl.map(e=>String.fromCharCode(61440+e.charCodeAt(0))),DU=new Map(Pl.map((e,t)=>[e,gp[t]])),BU=new Map(gp.map((e,t)=>[e,Pl[t]]));XA.exports={encode:e=>Pl.reduce((t,r)=>t.split(r).join(DU.get(r)),e),decode:e=>gp.reduce((t,r)=>t.split(r).join(BU.get(r)),e)}});var xp=w((Ode,ZA)=>{var{isAbsolute:MU,parse:QA}=require("path").win32;ZA.exports=e=>{let t="",r=QA(e);for(;MU(e)||r.root;){let n=e.charAt(0)==="/"&&e.slice(0,4)!=="//?/"?"/":r.root;e=e.slice(n.length),t+=n,r=QA(e)}return[t,e]}});var ek=w((Ide,JA)=>{"use strict";JA.exports=(e,t,r)=>(e&=4095,r&&(e=(e|384)&-19),t&&(e&256&&(e|=64),e&32&&(e|=8),e&4&&(e|=1)),e)});var Np=w((Mde,mk)=>{"use strict";var ak=El(),ck=Nl(),dk=Di(),zr=require("fs"),tk=require("path"),Ur=Oi(),LU=Bi(),lk=(e,t)=>t?(e=Ur(e).replace(/^\.(\/|$)/,""),LU(t)+"/"+e):Ur(e),FU=16*1024*1024,rk=Symbol("process"),nk=Symbol("file"),sk=Symbol("directory"),Sp=Symbol("symlink"),ok=Symbol("hardlink"),nc=Symbol("header"),Ol=Symbol("read"),wp=Symbol("lstat"),Il=Symbol("onlstat"),bp=Symbol("onread"),_p=Symbol("onreadlink"),Rp=Symbol("openfile"),Ap=Symbol("onopenfile"),ws=Symbol("close"),Dl=Symbol("mode"),kp=Symbol("awaitDrain"),Cp=Symbol("ondrain"),$r=Symbol("prefix"),ik=Symbol("hadError"),uk=vl(),UU=Ep(),fk=xp(),hk=ek(),Bl=uk(class extends ak{constructor(t,r){if(r=r||{},super(r),typeof t!="string")throw new TypeError("path is required");this.path=Ur(t),this.portable=!!r.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=r.maxReadSize||FU,this.linkCache=r.linkCache||new Map,this.statCache=r.statCache||new Map,this.preservePaths=!!r.preservePaths,this.cwd=Ur(r.cwd||process.cwd()),this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.mtime=r.mtime||null,this.prefix=r.prefix?Ur(r.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[s,o]=fk(this.path);s&&(this.path=o,n=s)}this.win32=!!r.win32||process.platform==="win32",this.win32&&(this.path=UU.decode(this.path.replace(/\\/g,"/")),t=t.replace(/\\/g,"/")),this.absolute=Ur(r.absolute||tk.resolve(this.cwd,t)),this.path===""&&(this.path="./"),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.statCache.has(this.absolute)?this[Il](this.statCache.get(this.absolute)):this[wp]()}emit(t,...r){return t==="error"&&(this[ik]=!0),super.emit(t,...r)}[wp](){zr.lstat(this.absolute,(t,r)=>{if(t)return this.emit("error",t);this[Il](r)})}[Il](t){this.statCache.set(this.absolute,t),this.stat=t,t.isFile()||(t.size=0),this.type=$U(t),this.emit("stat",t),this[rk]()}[rk](){switch(this.type){case"File":return this[nk]();case"Directory":return this[sk]();case"SymbolicLink":return this[Sp]();default:return this.end()}}[Dl](t){return hk(t,this.type==="Directory",this.portable)}[$r](t){return lk(t,this.prefix)}[nc](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new dk({path:this[$r](this.path),linkpath:this.type==="Link"?this[$r](this.linkpath):this.linkpath,mode:this[Dl](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new ck({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[$r](this.path),linkpath:this.type==="Link"?this[$r](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[sk](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[nc](),this.end()}[Sp](){zr.readlink(this.absolute,(t,r)=>{if(t)return this.emit("error",t);this[_p](r)})}[_p](t){this.linkpath=Ur(t),this[nc](),this.end()}[ok](t){this.type="Link",this.linkpath=Ur(tk.relative(this.cwd,t)),this.stat.size=0,this[nc](),this.end()}[nk](){if(this.stat.nlink>1){let t=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(t)){let r=this.linkCache.get(t);if(r.indexOf(this.cwd)===0)return this[ok](r)}this.linkCache.set(t,this.absolute)}if(this[nc](),this.stat.size===0)return this.end();this[Rp]()}[Rp](){zr.open(this.absolute,"r",(t,r)=>{if(t)return this.emit("error",t);this[Ap](r)})}[Ap](t){if(this.fd=t,this[ik])return this[ws]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let r=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(r),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[Ol]()}[Ol](){let{fd:t,buf:r,offset:n,length:s,pos:o}=this;zr.read(t,r,n,s,o,(i,a)=>{if(i)return this[ws](()=>this.emit("error",i));this[bp](a)})}[ws](t){zr.close(this.fd,t)}[bp](t){if(t<=0&&this.remain>0){let s=new Error("encountered unexpected EOF");return s.path=this.absolute,s.syscall="read",s.code="EOF",this[ws](()=>this.emit("error",s))}if(t>this.remain){let s=new Error("did not encounter expected EOF");return s.path=this.absolute,s.syscall="read",s.code="EOF",this[ws](()=>this.emit("error",s))}if(t===this.remain)for(let s=t;s<this.length&&t<this.blockRemain;s++)this.buf[s+this.offset]=0,t++,this.remain++;let r=this.offset===0&&t===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+t);this.write(r)?this[Cp]():this[kp](()=>this[Cp]())}[kp](t){this.once("drain",t)}write(t){if(this.blockRemain<t.length){let r=new Error("writing more data than expected");return r.path=this.absolute,this.emit("error",r)}return this.remain-=t.length,this.blockRemain-=t.length,this.pos+=t.length,this.offset+=t.length,super.write(t)}[Cp](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[ws](t=>t?this.emit("error",t):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[Ol]()}}),Tp=class extends Bl{[wp](){this[Il](zr.lstatSync(this.absolute))}[Sp](){this[_p](zr.readlinkSync(this.absolute))}[Rp](){this[Ap](zr.openSync(this.absolute,"r"))}[Ol](){let t=!0;try{let{fd:r,buf:n,offset:s,length:o,pos:i}=this,a=zr.readSync(r,n,s,o,i);this[bp](a),t=!1}finally{if(t)try{this[ws](()=>{})}catch{}}}[kp](t){t()}[ws](t){zr.closeSync(this.fd),t()}},zU=uk(class extends ak{constructor(t,r){r=r||{},super(r),this.preservePaths=!!r.preservePaths,this.portable=!!r.portable,this.strict=!!r.strict,this.noPax=!!r.noPax,this.noMtime=!!r.noMtime,this.readEntry=t,this.type=t.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=r.prefix||null,this.path=Ur(t.path),this.mode=this[Dl](t.mode),this.uid=this.portable?null:t.uid,this.gid=this.portable?null:t.gid,this.uname=this.portable?null:t.uname,this.gname=this.portable?null:t.gname,this.size=t.size,this.mtime=this.noMtime?null:r.mtime||t.mtime,this.atime=this.portable?null:t.atime,this.ctime=this.portable?null:t.ctime,this.linkpath=Ur(t.linkpath),typeof r.onwarn=="function"&&this.on("warn",r.onwarn);let n=!1;if(!this.preservePaths){let[s,o]=fk(this.path);s&&(this.path=o,n=s)}this.remain=t.size,this.blockRemain=t.startBlockSize,this.header=new dk({path:this[$r](this.path),linkpath:this.type==="Link"?this[$r](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),n&&this.warn("TAR_ENTRY_INFO",`stripping ${n} from absolute path`,{entry:this,path:n+this.path}),this.header.encode()&&!this.noPax&&super.write(new ck({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[$r](this.path),linkpath:this.type==="Link"?this[$r](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),t.pipe(this)}[$r](t){return lk(t,this.prefix)}[Dl](t){return hk(t,this.type==="Directory",this.portable)}write(t){let r=t.length;if(r>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=r,super.write(t)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});Bl.Sync=Tp;Bl.Tar=zU;var $U=e=>e.isFile()?"File":e.isDirectory()?"Directory":e.isSymbolicLink()?"SymbolicLink":"Unsupported";mk.exports=Bl});var yk=w((Lde,pk)=>{"use strict";pk.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}});var vp=w((Fde,gk)=>{"use strict";gk.exports=de;de.Node=ao;de.create=de;function de(e){var t=this;if(t instanceof de||(t=new de),t.tail=null,t.head=null,t.length=0,e&&typeof e.forEach=="function")e.forEach(function(s){t.push(s)});else if(arguments.length>0)for(var r=0,n=arguments.length;r<n;r++)t.push(arguments[r]);return t}de.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t};de.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};de.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}};de.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)HU(this,arguments[e]);return this.length};de.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)jU(this,arguments[e]);return this.length};de.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};de.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};de.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++)e.call(t,r.value,n,this),r=r.next};de.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--)e.call(t,r.value,n,this),r=r.prev};de.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++)r=r.next;if(t===e&&r!==null)return r.value};de.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++)r=r.prev;if(t===e&&r!==null)return r.value};de.prototype.map=function(e,t){t=t||this;for(var r=new de,n=this.head;n!==null;)r.push(e.call(t,n.value,this)),n=n.next;return r};de.prototype.mapReverse=function(e,t){t=t||this;for(var r=new de,n=this.tail;n!==null;)r.push(e.call(t,n.value,this)),n=n.prev;return r};de.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=0;n!==null;s++)r=e(r,n.value,s),n=n.next;return r};de.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var s=this.length-1;n!==null;s--)r=e(r,n.value,s),n=n.prev;return r};de.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;r!==null;t++)e[t]=r.value,r=r.next;return e};de.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;r!==null;t++)e[t]=r.value,r=r.prev;return e};de.prototype.slice=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new de;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(;s!==null&&n<t;n++,s=s.next)r.push(s.value);return r};de.prototype.sliceReverse=function(e,t){t=t||this.length,t<0&&(t+=this.length),e=e||0,e<0&&(e+=this.length);var r=new de;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var n=this.length,s=this.tail;s!==null&&n>t;n--)s=s.prev;for(;s!==null&&n>e;n--,s=s.prev)r.push(s.value);return r};de.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,s=this.head;s!==null&&n<e;n++)s=s.next;for(var o=[],n=0;s&&n<t;n++)o.push(s.value),s=this.removeNode(s);s===null&&(s=this.tail),s!==this.head&&s!==this.tail&&(s=s.prev);for(var n=0;n<r.length;n++)s=qU(this,s,r[n]);return o};de.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};function qU(e,t,r){var n=t===e.head?new ao(r,null,t,e):new ao(r,t,t.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function HU(e,t){e.tail=new ao(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function jU(e,t){e.head=new ao(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ao(e,t,r,n){if(!(this instanceof ao))return new ao(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}try{yk()(de)}catch{}});var jl=w((zde,_k)=>{"use strict";var ql=class{constructor(t,r){this.path=t||"./",this.absolute=r,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},GU=El(),KU=cp(),VU=kl(),Up=Np(),WU=Up.Sync,YU=Up.Tar,XU=vp(),Ek=Buffer.alloc(1024),Fl=Symbol("onStat"),Ml=Symbol("ended"),qr=Symbol("queue"),Mi=Symbol("current"),co=Symbol("process"),Ll=Symbol("processing"),xk=Symbol("processJob"),Hr=Symbol("jobs"),Pp=Symbol("jobDone"),Ul=Symbol("addFSEntry"),Ck=Symbol("addTarEntry"),Bp=Symbol("stat"),Mp=Symbol("readdir"),zl=Symbol("onreaddir"),$l=Symbol("pipe"),Sk=Symbol("entry"),Op=Symbol("entryOpt"),Lp=Symbol("writeEntryClass"),bk=Symbol("write"),Ip=Symbol("ondrain"),Hl=require("fs"),wk=require("path"),QU=vl(),Dp=Oi(),zp=QU(class extends GU{constructor(t){super(t),t=t||Object.create(null),this.opt=t,this.file=t.file||"",this.cwd=t.cwd||process.cwd(),this.maxReadSize=t.maxReadSize,this.preservePaths=!!t.preservePaths,this.strict=!!t.strict,this.noPax=!!t.noPax,this.prefix=Dp(t.prefix||""),this.linkCache=t.linkCache||new Map,this.statCache=t.statCache||new Map,this.readdirCache=t.readdirCache||new Map,this[Lp]=Up,typeof t.onwarn=="function"&&this.on("warn",t.onwarn),this.portable=!!t.portable,this.zip=null,t.gzip?(typeof t.gzip!="object"&&(t.gzip={}),this.portable&&(t.gzip.portable=!0),this.zip=new KU.Gzip(t.gzip),this.zip.on("data",r=>super.write(r)),this.zip.on("end",r=>super.end()),this.zip.on("drain",r=>this[Ip]()),this.on("resume",r=>this.zip.resume())):this.on("drain",this[Ip]),this.noDirRecurse=!!t.noDirRecurse,this.follow=!!t.follow,this.noMtime=!!t.noMtime,this.mtime=t.mtime||null,this.filter=typeof t.filter=="function"?t.filter:r=>!0,this[qr]=new XU,this[Hr]=0,this.jobs=+t.jobs||4,this[Ll]=!1,this[Ml]=!1}[bk](t){return super.write(t)}add(t){return this.write(t),this}end(t){return t&&this.write(t),this[Ml]=!0,this[co](),this}write(t){if(this[Ml])throw new Error("write after end");return t instanceof VU?this[Ck](t):this[Ul](t),this.flowing}[Ck](t){let r=Dp(wk.resolve(this.cwd,t.path));if(!this.filter(t.path,t))t.resume();else{let n=new ql(t.path,r,!1);n.entry=new YU(t,this[Op](n)),n.entry.on("end",s=>this[Pp](n)),this[Hr]+=1,this[qr].push(n)}this[co]()}[Ul](t){let r=Dp(wk.resolve(this.cwd,t));this[qr].push(new ql(t,r)),this[co]()}[Bp](t){t.pending=!0,this[Hr]+=1;let r=this.follow?"stat":"lstat";Hl[r](t.absolute,(n,s)=>{t.pending=!1,this[Hr]-=1,n?this.emit("error",n):this[Fl](t,s)})}[Fl](t,r){this.statCache.set(t.absolute,r),t.stat=r,this.filter(t.path,r)||(t.ignore=!0),this[co]()}[Mp](t){t.pending=!0,this[Hr]+=1,Hl.readdir(t.absolute,(r,n)=>{if(t.pending=!1,this[Hr]-=1,r)return this.emit("error",r);this[zl](t,n)})}[zl](t,r){this.readdirCache.set(t.absolute,r),t.readdir=r,this[co]()}[co](){if(!this[Ll]){this[Ll]=!0;for(let t=this[qr].head;t!==null&&this[Hr]<this.jobs;t=t.next)if(this[xk](t.value),t.value.ignore){let r=t.next;this[qr].removeNode(t),t.next=r}this[Ll]=!1,this[Ml]&&!this[qr].length&&this[Hr]===0&&(this.zip?this.zip.end(Ek):(super.write(Ek),super.end()))}}get[Mi](){return this[qr]&&this[qr].head&&this[qr].head.value}[Pp](t){this[qr].shift(),this[Hr]-=1,this[co]()}[xk](t){if(!t.pending){if(t.entry){t===this[Mi]&&!t.piped&&this[$l](t);return}if(t.stat||(this.statCache.has(t.absolute)?this[Fl](t,this.statCache.get(t.absolute)):this[Bp](t)),!!t.stat&&!t.ignore&&!(!this.noDirRecurse&&t.stat.isDirectory()&&!t.readdir&&(this.readdirCache.has(t.absolute)?this[zl](t,this.readdirCache.get(t.absolute)):this[Mp](t),!t.readdir))){if(t.entry=this[Sk](t),!t.entry){t.ignore=!0;return}t===this[Mi]&&!t.piped&&this[$l](t)}}}[Op](t){return{onwarn:(r,n,s)=>this.warn(r,n,s),noPax:this.noPax,cwd:this.cwd,absolute:t.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[Sk](t){this[Hr]+=1;try{return new this[Lp](t.path,this[Op](t)).on("end",()=>this[Pp](t)).on("error",r=>this.emit("error",r))}catch(r){this.emit("error",r)}}[Ip](){this[Mi]&&this[Mi].entry&&this[Mi].entry.resume()}[$l](t){t.piped=!0,t.readdir&&t.readdir.forEach(s=>{let o=t.path,i=o==="./"?"":o.replace(/\/*$/,"/");this[Ul](i+s)});let r=t.entry,n=this.zip;n?r.on("data",s=>{n.write(s)||r.pause()}):r.on("data",s=>{super.write(s)||r.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),Fp=class extends zp{constructor(t){super(t),this[Lp]=WU}pause(){}resume(){}[Bp](t){let r=this.follow?"statSync":"lstatSync";this[Fl](t,Hl[r](t.absolute))}[Mp](t,r){this[zl](t,Hl.readdirSync(t.absolute))}[$l](t){let r=t.entry,n=this.zip;t.readdir&&t.readdir.forEach(s=>{let o=t.path,i=o==="./"?"":o.replace(/\/*$/,"/");this[Ul](i+s)}),n?r.on("data",s=>{n.write(s)}):r.on("data",s=>{super[bk](s)})}};zp.Sync=Fp;_k.exports=zp});var ji=w(oc=>{"use strict";var ZU=Km(),JU=require("events").EventEmitter,Dt=require("fs"),Hp=Dt.writev;if(!Hp){let e=process.binding("fs"),t=e.FSReqWrap||e.FSReqCallback;Hp=(r,n,s,o)=>{let i=(c,d)=>o(c,d,n),a=new t;a.oncomplete=i,e.writeBuffers(r,n,s,a)}}var qi=Symbol("_autoClose"),yr=Symbol("_close"),sc=Symbol("_ended"),Ee=Symbol("_fd"),Rk=Symbol("_finished"),_s=Symbol("_flags"),$p=Symbol("_flush"),jp=Symbol("_handleChunk"),Gp=Symbol("_makeBuf"),Yl=Symbol("_mode"),Gl=Symbol("_needDrain"),zi=Symbol("_onerror"),Hi=Symbol("_onopen"),qp=Symbol("_onread"),Fi=Symbol("_onwrite"),Rs=Symbol("_open"),xn=Symbol("_path"),lo=Symbol("_pos"),jr=Symbol("_queue"),Ui=Symbol("_read"),Ak=Symbol("_readSize"),bs=Symbol("_reading"),Kl=Symbol("_remain"),kk=Symbol("_size"),Vl=Symbol("_write"),Li=Symbol("_writing"),Wl=Symbol("_defaultFlag"),$i=Symbol("_errored"),Xl=class extends ZU{constructor(t,r){if(r=r||{},super(r),this.readable=!0,this.writable=!1,typeof t!="string")throw new TypeError("path must be a string");this[$i]=!1,this[Ee]=typeof r.fd=="number"?r.fd:null,this[xn]=t,this[Ak]=r.readSize||16*1024*1024,this[bs]=!1,this[kk]=typeof r.size=="number"?r.size:1/0,this[Kl]=this[kk],this[qi]=typeof r.autoClose=="boolean"?r.autoClose:!0,typeof this[Ee]=="number"?this[Ui]():this[Rs]()}get fd(){return this[Ee]}get path(){return this[xn]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[Rs](){Dt.open(this[xn],"r",(t,r)=>this[Hi](t,r))}[Hi](t,r){t?this[zi](t):(this[Ee]=r,this.emit("open",r),this[Ui]())}[Gp](){return Buffer.allocUnsafe(Math.min(this[Ak],this[Kl]))}[Ui](){if(!this[bs]){this[bs]=!0;let t=this[Gp]();if(t.length===0)return process.nextTick(()=>this[qp](null,0,t));Dt.read(this[Ee],t,0,t.length,null,(r,n,s)=>this[qp](r,n,s))}}[qp](t,r,n){this[bs]=!1,t?this[zi](t):this[jp](r,n)&&this[Ui]()}[yr](){if(this[qi]&&typeof this[Ee]=="number"){let t=this[Ee];this[Ee]=null,Dt.close(t,r=>r?this.emit("error",r):this.emit("close"))}}[zi](t){this[bs]=!0,this[yr](),this.emit("error",t)}[jp](t,r){let n=!1;return this[Kl]-=t,t>0&&(n=super.write(t<r.length?r.slice(0,t):r)),(t===0||this[Kl]<=0)&&(n=!1,this[yr](),super.end()),n}emit(t,r){switch(t){case"prefinish":case"finish":break;case"drain":typeof this[Ee]=="number"&&this[Ui]();break;case"error":return this[$i]?void 0:(this[$i]=!0,super.emit(t,r));default:return super.emit(t,r)}}},Kp=class extends Xl{[Rs](){let t=!0;try{this[Hi](null,Dt.openSync(this[xn],"r")),t=!1}finally{t&&this[yr]()}}[Ui](){let t=!0;try{if(!this[bs]){this[bs]=!0;do{let r=this[Gp](),n=r.length===0?0:Dt.readSync(this[Ee],r,0,r.length,null);if(!this[jp](n,r))break}while(!0);this[bs]=!1}t=!1}finally{t&&this[yr]()}}[yr](){if(this[qi]&&typeof this[Ee]=="number"){let t=this[Ee];this[Ee]=null,Dt.closeSync(t),this.emit("close")}}},Ql=class extends JU{constructor(t,r){r=r||{},super(r),this.readable=!1,this.writable=!0,this[$i]=!1,this[Li]=!1,this[sc]=!1,this[Gl]=!1,this[jr]=[],this[xn]=t,this[Ee]=typeof r.fd=="number"?r.fd:null,this[Yl]=r.mode===void 0?438:r.mode,this[lo]=typeof r.start=="number"?r.start:null,this[qi]=typeof r.autoClose=="boolean"?r.autoClose:!0;let n=this[lo]!==null?"r+":"w";this[Wl]=r.flags===void 0,this[_s]=this[Wl]?n:r.flags,this[Ee]===null&&this[Rs]()}emit(t,r){if(t==="error"){if(this[$i])return;this[$i]=!0}return super.emit(t,r)}get fd(){return this[Ee]}get path(){return this[xn]}[zi](t){this[yr](),this[Li]=!0,this.emit("error",t)}[Rs](){Dt.open(this[xn],this[_s],this[Yl],(t,r)=>this[Hi](t,r))}[Hi](t,r){this[Wl]&&this[_s]==="r+"&&t&&t.code==="ENOENT"?(this[_s]="w",this[Rs]()):t?this[zi](t):(this[Ee]=r,this.emit("open",r),this[$p]())}end(t,r){return t&&this.write(t,r),this[sc]=!0,!this[Li]&&!this[jr].length&&typeof this[Ee]=="number"&&this[Fi](null,0),this}write(t,r){return typeof t=="string"&&(t=Buffer.from(t,r)),this[sc]?(this.emit("error",new Error("write() after end()")),!1):this[Ee]===null||this[Li]||this[jr].length?(this[jr].push(t),this[Gl]=!0,!1):(this[Li]=!0,this[Vl](t),!0)}[Vl](t){Dt.write(this[Ee],t,0,t.length,this[lo],(r,n)=>this[Fi](r,n))}[Fi](t,r){t?this[zi](t):(this[lo]!==null&&(this[lo]+=r),this[jr].length?this[$p]():(this[Li]=!1,this[sc]&&!this[Rk]?(this[Rk]=!0,this[yr](),this.emit("finish")):this[Gl]&&(this[Gl]=!1,this.emit("drain"))))}[$p](){if(this[jr].length===0)this[sc]&&this[Fi](null,0);else if(this[jr].length===1)this[Vl](this[jr].pop());else{let t=this[jr];this[jr]=[],Hp(this[Ee],t,this[lo],(r,n)=>this[Fi](r,n))}}[yr](){if(this[qi]&&typeof this[Ee]=="number"){let t=this[Ee];this[Ee]=null,Dt.close(t,r=>r?this.emit("error",r):this.emit("close"))}}},Vp=class extends Ql{[Rs](){let t;if(this[Wl]&&this[_s]==="r+")try{t=Dt.openSync(this[xn],this[_s],this[Yl])}catch(r){if(r.code==="ENOENT")return this[_s]="w",this[Rs]();throw r}else t=Dt.openSync(this[xn],this[_s],this[Yl]);this[Hi](null,t)}[yr](){if(this[qi]&&typeof this[Ee]=="number"){let t=this[Ee];this[Ee]=null,Dt.closeSync(t),this.emit("close")}}[Vl](t){let r=!0;try{this[Fi](null,Dt.writeSync(this[Ee],t,0,t.length,this[lo])),r=!1}finally{if(r)try{this[yr]()}catch{}}}};oc.ReadStream=Xl;oc.ReadStreamSync=Kp;oc.WriteStream=Ql;oc.WriteStreamSync=Vp});var su=w((Hde,Bk)=>{"use strict";var e2=vl(),t2=Di(),r2=require("events"),n2=vp(),s2=1024*1024,o2=kl(),Tk=Nl(),i2=cp(),{nextTick:a2}=require("process"),Wp=Buffer.from([31,139]),ir=Symbol("state"),uo=Symbol("writeEntry"),Cn=Symbol("readEntry"),Yp=Symbol("nextEntry"),Nk=Symbol("processEntry"),ar=Symbol("extendedHeader"),ic=Symbol("globalExtendedHeader"),As=Symbol("meta"),vk=Symbol("emitMeta"),Ae=Symbol("buffer"),Sn=Symbol("queue"),fo=Symbol("ended"),Pk=Symbol("emittedEnd"),ho=Symbol("emit"),Bt=Symbol("unzip"),Zl=Symbol("consumeChunk"),Jl=Symbol("consumeChunkSub"),Xp=Symbol("consumeBody"),Ok=Symbol("consumeMeta"),Ik=Symbol("consumeHeader"),eu=Symbol("consuming"),Qp=Symbol("bufferConcat"),Zp=Symbol("maybeEnd"),ac=Symbol("writing"),ks=Symbol("aborted"),tu=Symbol("onDone"),mo=Symbol("sawValidEntry"),ru=Symbol("sawNullBlock"),nu=Symbol("sawEOF"),Dk=Symbol("closeStream"),c2=e=>!0;Bk.exports=e2(class extends r2{constructor(t){t=t||{},super(t),this.file=t.file||"",this[mo]=null,this.on(tu,r=>{(this[ir]==="begin"||this[mo]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),t.ondone?this.on(tu,t.ondone):this.on(tu,r=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!t.strict,this.maxMetaEntrySize=t.maxMetaEntrySize||s2,this.filter=typeof t.filter=="function"?t.filter:c2,this.writable=!0,this.readable=!1,this[Sn]=new n2,this[Ae]=null,this[Cn]=null,this[uo]=null,this[ir]="begin",this[As]="",this[ar]=null,this[ic]=null,this[fo]=!1,this[Bt]=null,this[ks]=!1,this[ru]=!1,this[nu]=!1,this.on("end",()=>this[Dk]()),typeof t.onwarn=="function"&&this.on("warn",t.onwarn),typeof t.onentry=="function"&&this.on("entry",t.onentry)}[Ik](t,r){this[mo]===null&&(this[mo]=!1);let n;try{n=new t2(t,r,this[ar],this[ic])}catch(s){return this.warn("TAR_ENTRY_INVALID",s)}if(n.nullBlock)this[ru]?(this[nu]=!0,this[ir]==="begin"&&(this[ir]="header"),this[ho]("eof")):(this[ru]=!0,this[ho]("nullBlock"));else if(this[ru]=!1,!n.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:n});else if(!n.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:n});else{let s=n.type;if(/^(Symbolic)?Link$/.test(s)&&!n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:n});else if(!/^(Symbolic)?Link$/.test(s)&&n.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:n});else{let o=this[uo]=new o2(n,this[ar],this[ic]);if(!this[mo])if(o.remain){let i=()=>{o.invalid||(this[mo]=!0)};o.on("end",i)}else this[mo]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[ho]("ignoredEntry",o),this[ir]="ignore",o.resume()):o.size>0&&(this[As]="",o.on("data",i=>this[As]+=i),this[ir]="meta"):(this[ar]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[ho]("ignoredEntry",o),this[ir]=o.remain?"ignore":"header",o.resume()):(o.remain?this[ir]="body":(this[ir]="header",o.end()),this[Cn]?this[Sn].push(o):(this[Sn].push(o),this[Yp]())))}}}[Dk](){a2(()=>this.emit("close"))}[Nk](t){let r=!0;return t?Array.isArray(t)?this.emit.apply(this,t):(this[Cn]=t,this.emit("entry",t),t.emittedEnd||(t.on("end",n=>this[Yp]()),r=!1)):(this[Cn]=null,r=!1),r}[Yp](){do;while(this[Nk](this[Sn].shift()));if(!this[Sn].length){let t=this[Cn];!t||t.flowing||t.size===t.remain?this[ac]||this.emit("drain"):t.once("drain",n=>this.emit("drain"))}}[Xp](t,r){let n=this[uo],s=n.blockRemain,o=s>=t.length&&r===0?t:t.slice(r,r+s);return n.write(o),n.blockRemain||(this[ir]="header",this[uo]=null,n.end()),o.length}[Ok](t,r){let n=this[uo],s=this[Xp](t,r);return this[uo]||this[vk](n),s}[ho](t,r,n){!this[Sn].length&&!this[Cn]?this.emit(t,r,n):this[Sn].push([t,r,n])}[vk](t){switch(this[ho]("meta",this[As]),t.type){case"ExtendedHeader":case"OldExtendedHeader":this[ar]=Tk.parse(this[As],this[ar],!1);break;case"GlobalExtendedHeader":this[ic]=Tk.parse(this[As],this[ic],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[ar]=this[ar]||Object.create(null),this[ar].path=this[As].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[ar]=this[ar]||Object.create(null),this[ar].linkpath=this[As].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+t.type)}}abort(t){this[ks]=!0,this.emit("abort",t),this.warn("TAR_ABORT",t,{recoverable:!1})}write(t){if(this[ks])return;if(this[Bt]===null&&t){if(this[Ae]&&(t=Buffer.concat([this[Ae],t]),this[Ae]=null),t.length<Wp.length)return this[Ae]=t,!0;for(let n=0;this[Bt]===null&&n<Wp.length;n++)t[n]!==Wp[n]&&(this[Bt]=!1);if(this[Bt]===null){let n=this[fo];this[fo]=!1,this[Bt]=new i2.Unzip,this[Bt].on("data",o=>this[Zl](o)),this[Bt].on("error",o=>this.abort(o)),this[Bt].on("end",o=>{this[fo]=!0,this[Zl]()}),this[ac]=!0;let s=this[Bt][n?"end":"write"](t);return this[ac]=!1,s}}this[ac]=!0,this[Bt]?this[Bt].write(t):this[Zl](t),this[ac]=!1;let r=this[Sn].length?!1:this[Cn]?this[Cn].flowing:!0;return!r&&!this[Sn].length&&this[Cn].once("drain",n=>this.emit("drain")),r}[Qp](t){t&&!this[ks]&&(this[Ae]=this[Ae]?Buffer.concat([this[Ae],t]):t)}[Zp](){if(this[fo]&&!this[Pk]&&!this[ks]&&!this[eu]){this[Pk]=!0;let t=this[uo];if(t&&t.blockRemain){let r=this[Ae]?this[Ae].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${t.blockRemain} more bytes, only ${r} available)`,{entry:t}),this[Ae]&&t.write(this[Ae]),t.end()}this[ho](tu)}}[Zl](t){if(this[eu])this[Qp](t);else if(!t&&!this[Ae])this[Zp]();else{if(this[eu]=!0,this[Ae]){this[Qp](t);let r=this[Ae];this[Ae]=null,this[Jl](r)}else this[Jl](t);for(;this[Ae]&&this[Ae].length>=512&&!this[ks]&&!this[nu];){let r=this[Ae];this[Ae]=null,this[Jl](r)}this[eu]=!1}(!this[Ae]||this[fo])&&this[Zp]()}[Jl](t){let r=0,n=t.length;for(;r+512<=n&&!this[ks]&&!this[nu];)switch(this[ir]){case"begin":case"header":this[Ik](t,r),r+=512;break;case"ignore":case"body":r+=this[Xp](t,r);break;case"meta":r+=this[Ok](t,r);break;default:throw new Error("invalid state: "+this[ir])}r<n&&(this[Ae]?this[Ae]=Buffer.concat([t.slice(r),this[Ae]]):this[Ae]=t.slice(r))}end(t){this[ks]||(this[Bt]?this[Bt].end(t):(this[fo]=!0,this.write(t)))}})});var ou=w((jde,Uk)=>{"use strict";var d2=ki(),Lk=su(),Gi=require("fs"),l2=ji(),Mk=require("path"),Jp=Bi();Uk.exports=(e,t,r)=>{typeof e=="function"?(r=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(r=t,t=null),t?t=Array.from(t):t=[];let n=d2(e);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return t.length&&f2(n,t),n.noResume||u2(n),n.file&&n.sync?h2(n):n.file?m2(n,r):Fk(n)};var u2=e=>{let t=e.onentry;e.onentry=t?r=>{t(r),r.resume()}:r=>r.resume()},f2=(e,t)=>{let r=new Map(t.map(o=>[Jp(o),!0])),n=e.filter,s=(o,i)=>{let a=i||Mk.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):s(Mk.dirname(o),a);return r.set(o,c),c};e.filter=n?(o,i)=>n(o,i)&&s(Jp(o)):o=>s(Jp(o))},h2=e=>{let t=Fk(e),r=e.file,n=!0,s;try{let o=Gi.statSync(r),i=e.maxReadSize||16*1024*1024;if(o.size<i)t.end(Gi.readFileSync(r));else{let a=0,c=Buffer.allocUnsafe(i);for(s=Gi.openSync(r,"r");a<o.size;){let d=Gi.readSync(s,c,0,i,a);a+=d,t.write(c.slice(0,d))}t.end()}n=!1}finally{if(n&&s)try{Gi.closeSync(s)}catch{}}},m2=(e,t)=>{let r=new Lk(e),n=e.maxReadSize||16*1024*1024,s=e.file,o=new Promise((i,a)=>{r.on("error",a),r.on("end",i),Gi.stat(s,(c,d)=>{if(c)a(c);else{let l=new l2.ReadStream(s,{readSize:n,size:d.size});l.on("error",a),l.pipe(r)}})});return t?o.then(t,t):o},Fk=e=>new Lk(e)});var Gk=w((Gde,jk)=>{"use strict";var p2=ki(),iu=jl(),zk=ji(),$k=ou(),qk=require("path");jk.exports=(e,t,r)=>{if(typeof t=="function"&&(r=t),Array.isArray(e)&&(t=e,e={}),!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");t=Array.from(t);let n=p2(e);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return n.file&&n.sync?y2(n,t):n.file?g2(n,t,r):n.sync?E2(n,t):x2(n,t)};var y2=(e,t)=>{let r=new iu.Sync(e),n=new zk.WriteStreamSync(e.file,{mode:e.mode||438});r.pipe(n),Hk(r,t)},g2=(e,t,r)=>{let n=new iu(e),s=new zk.WriteStream(e.file,{mode:e.mode||438});n.pipe(s);let o=new Promise((i,a)=>{s.on("error",a),s.on("close",i),n.on("error",a)});return ey(n,t),r?o.then(r,r):o},Hk=(e,t)=>{t.forEach(r=>{r.charAt(0)==="@"?$k({file:qk.resolve(e.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>e.add(n)}):e.add(r)}),e.end()},ey=(e,t)=>{for(;t.length;){let r=t.shift();if(r.charAt(0)==="@")return $k({file:qk.resolve(e.cwd,r.slice(1)),noResume:!0,onentry:n=>e.add(n)}).then(n=>ey(e,t));e.add(r)}e.end()},E2=(e,t)=>{let r=new iu.Sync(e);return Hk(r,t),r},x2=(e,t)=>{let r=new iu(e);return ey(r,t),r}});var ty=w((Kde,Zk)=>{"use strict";var C2=ki(),Kk=jl(),Ht=require("fs"),Vk=ji(),Wk=ou(),Yk=require("path"),Xk=Di();Zk.exports=(e,t,r)=>{let n=C2(e);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),n.sync?S2(n,t):b2(n,t,r)};var S2=(e,t)=>{let r=new Kk.Sync(e),n=!0,s,o;try{try{s=Ht.openSync(e.file,"r+")}catch(c){if(c.code==="ENOENT")s=Ht.openSync(e.file,"w+");else throw c}let i=Ht.fstatSync(s),a=Buffer.alloc(512);e:for(o=0;o<i.size;o+=512){for(let l=0,f=0;l<512;l+=f){if(f=Ht.readSync(s,a,l,a.length-l,o+l),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!f)break e}let c=new Xk(a);if(!c.cksumValid)break;let d=512*Math.ceil(c.size/512);if(o+d+512>i.size)break;o+=d,e.mtimeCache&&e.mtimeCache.set(c.path,c.mtime)}n=!1,w2(e,r,o,s,t)}finally{if(n)try{Ht.closeSync(s)}catch{}}},w2=(e,t,r,n,s)=>{let o=new Vk.WriteStreamSync(e.file,{fd:n,start:r});t.pipe(o),_2(t,s)},b2=(e,t,r)=>{t=Array.from(t);let n=new Kk(e),s=(i,a,c)=>{let d=(y,S)=>{y?Ht.close(i,R=>c(y)):c(null,S)},l=0;if(a===0)return d(null,0);let f=0,u=Buffer.alloc(512),g=(y,S)=>{if(y)return d(y);if(f+=S,f<512&&S)return Ht.read(i,u,f,u.length-f,l+f,g);if(l===0&&u[0]===31&&u[1]===139)return d(new Error("cannot append to compressed archives"));if(f<512)return d(null,l);let R=new Xk(u);if(!R.cksumValid)return d(null,l);let O=512*Math.ceil(R.size/512);if(l+O+512>a||(l+=O+512,l>=a))return d(null,l);e.mtimeCache&&e.mtimeCache.set(R.path,R.mtime),f=0,Ht.read(i,u,0,512,l,g)};Ht.read(i,u,0,512,l,g)},o=new Promise((i,a)=>{n.on("error",a);let c="r+",d=(l,f)=>{if(l&&l.code==="ENOENT"&&c==="r+")return c="w+",Ht.open(e.file,c,d);if(l)return a(l);Ht.fstat(f,(u,g)=>{if(u)return Ht.close(f,()=>a(u));s(f,g.size,(y,S)=>{if(y)return a(y);let R=new Vk.WriteStream(e.file,{fd:f,start:S});n.pipe(R),R.on("error",a),R.on("close",i),Qk(n,t)})})};Ht.open(e.file,c,d)});return r?o.then(r,r):o},_2=(e,t)=>{t.forEach(r=>{r.charAt(0)==="@"?Wk({file:Yk.resolve(e.cwd,r.slice(1)),sync:!0,noResume:!0,onentry:n=>e.add(n)}):e.add(r)}),e.end()},Qk=(e,t)=>{for(;t.length;){let r=t.shift();if(r.charAt(0)==="@")return Wk({file:Yk.resolve(e.cwd,r.slice(1)),noResume:!0,onentry:n=>e.add(n)}).then(n=>Qk(e,t));e.add(r)}e.end()}});var eT=w((Vde,Jk)=>{"use strict";var R2=ki(),A2=ty();Jk.exports=(e,t,r)=>{let n=R2(e);if(!n.file)throw new TypeError("file is required");if(n.gzip)throw new TypeError("cannot append to compressed archives");if(!t||!Array.isArray(t)||!t.length)throw new TypeError("no files or directories specified");return t=Array.from(t),k2(n),A2(n,t,r)};var k2=e=>{let t=e.filter;e.mtimeCache||(e.mtimeCache=new Map),e.filter=t?(r,n)=>t(r,n)&&!(e.mtimeCache.get(r)>n.mtime):(r,n)=>!(e.mtimeCache.get(r)>n.mtime)}});var nT=w((Wde,rT)=>{var{promisify:tT}=require("util"),Ts=require("fs"),T2=e=>{if(!e)e={mode:511,fs:Ts};else if(typeof e=="object")e={mode:511,fs:Ts,...e};else if(typeof e=="number")e={mode:e,fs:Ts};else if(typeof e=="string")e={mode:parseInt(e,8),fs:Ts};else throw new TypeError("invalid options argument");return e.mkdir=e.mkdir||e.fs.mkdir||Ts.mkdir,e.mkdirAsync=tT(e.mkdir),e.stat=e.stat||e.fs.stat||Ts.stat,e.statAsync=tT(e.stat),e.statSync=e.statSync||e.fs.statSync||Ts.statSync,e.mkdirSync=e.mkdirSync||e.fs.mkdirSync||Ts.mkdirSync,e};rT.exports=T2});var oT=w((Yde,sT)=>{var N2=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:v2,parse:P2}=require("path"),O2=e=>{if(/\0/.test(e))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:e,code:"ERR_INVALID_ARG_VALUE"});if(e=v2(e),N2==="win32"){let t=/[*|"<>?:]/,{root:r}=P2(e);if(t.test(e.substr(r.length)))throw Object.assign(new Error("Illegal characters in path."),{path:e,code:"EINVAL"})}return e};sT.exports=O2});var lT=w((Xde,dT)=>{var{dirname:iT}=require("path"),aT=(e,t,r=void 0)=>r===t?Promise.resolve():e.statAsync(t).then(n=>n.isDirectory()?r:void 0,n=>n.code==="ENOENT"?aT(e,iT(t),t):void 0),cT=(e,t,r=void 0)=>{if(r!==t)try{return e.statSync(t).isDirectory()?r:void 0}catch(n){return n.code==="ENOENT"?cT(e,iT(t),t):void 0}};dT.exports={findMade:aT,findMadeSync:cT}});var sy=w((Qde,fT)=>{var{dirname:uT}=require("path"),ry=(e,t,r)=>{t.recursive=!1;let n=uT(e);return n===e?t.mkdirAsync(e,t).catch(s=>{if(s.code!=="EISDIR")throw s}):t.mkdirAsync(e,t).then(()=>r||e,s=>{if(s.code==="ENOENT")return ry(n,t).then(o=>ry(e,t,o));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;return t.statAsync(e).then(o=>{if(o.isDirectory())return r;throw s},()=>{throw s})})},ny=(e,t,r)=>{let n=uT(e);if(t.recursive=!1,n===e)try{return t.mkdirSync(e,t)}catch(s){if(s.code!=="EISDIR")throw s;return}try{return t.mkdirSync(e,t),r||e}catch(s){if(s.code==="ENOENT")return ny(e,t,ny(n,t,r));if(s.code!=="EEXIST"&&s.code!=="EROFS")throw s;try{if(!t.statSync(e).isDirectory())throw s}catch{throw s}}};fT.exports={mkdirpManual:ry,mkdirpManualSync:ny}});var pT=w((Zde,mT)=>{var{dirname:hT}=require("path"),{findMade:I2,findMadeSync:D2}=lT(),{mkdirpManual:B2,mkdirpManualSync:M2}=sy(),L2=(e,t)=>(t.recursive=!0,hT(e)===e?t.mkdirAsync(e,t):I2(t,e).then(n=>t.mkdirAsync(e,t).then(()=>n).catch(s=>{if(s.code==="ENOENT")return B2(e,t);throw s}))),F2=(e,t)=>{if(t.recursive=!0,hT(e)===e)return t.mkdirSync(e,t);let n=D2(t,e);try{return t.mkdirSync(e,t),n}catch(s){if(s.code==="ENOENT")return M2(e,t);throw s}};mT.exports={mkdirpNative:L2,mkdirpNativeSync:F2}});var xT=w((Jde,ET)=>{var yT=require("fs"),U2=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,oy=U2.replace(/^v/,"").split("."),gT=+oy[0]>10||+oy[0]==10&&+oy[1]>=12,z2=gT?e=>e.mkdir===yT.mkdir:()=>!1,$2=gT?e=>e.mkdirSync===yT.mkdirSync:()=>!1;ET.exports={useNative:z2,useNativeSync:$2}});var RT=w((ele,_T)=>{var Ki=nT(),Vi=oT(),{mkdirpNative:CT,mkdirpNativeSync:ST}=pT(),{mkdirpManual:wT,mkdirpManualSync:bT}=sy(),{useNative:q2,useNativeSync:H2}=xT(),Wi=(e,t)=>(e=Vi(e),t=Ki(t),q2(t)?CT(e,t):wT(e,t)),j2=(e,t)=>(e=Vi(e),t=Ki(t),H2(t)?ST(e,t):bT(e,t));Wi.sync=j2;Wi.native=(e,t)=>CT(Vi(e),Ki(t));Wi.manual=(e,t)=>wT(Vi(e),Ki(t));Wi.nativeSync=(e,t)=>ST(Vi(e),Ki(t));Wi.manualSync=(e,t)=>bT(Vi(e),Ki(t));_T.exports=Wi});var OT=w((tle,PT)=>{"use strict";var cr=require("fs"),po=require("path"),G2=cr.lchown?"lchown":"chown",K2=cr.lchownSync?"lchownSync":"chownSync",kT=cr.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),AT=(e,t,r)=>{try{return cr[K2](e,t,r)}catch(n){if(n.code!=="ENOENT")throw n}},V2=(e,t,r)=>{try{return cr.chownSync(e,t,r)}catch(n){if(n.code!=="ENOENT")throw n}},W2=kT?(e,t,r,n)=>s=>{!s||s.code!=="EISDIR"?n(s):cr.chown(e,t,r,n)}:(e,t,r,n)=>n,iy=kT?(e,t,r)=>{try{return AT(e,t,r)}catch(n){if(n.code!=="EISDIR")throw n;V2(e,t,r)}}:(e,t,r)=>AT(e,t,r),Y2=process.version,TT=(e,t,r)=>cr.readdir(e,t,r),X2=(e,t)=>cr.readdirSync(e,t);/^v4\./.test(Y2)&&(TT=(e,t,r)=>cr.readdir(e,r));var au=(e,t,r,n)=>{cr[G2](e,t,r,W2(e,t,r,s=>{n(s&&s.code!=="ENOENT"?s:null)}))},NT=(e,t,r,n,s)=>{if(typeof t=="string")return cr.lstat(po.resolve(e,t),(o,i)=>{if(o)return s(o.code!=="ENOENT"?o:null);i.name=t,NT(e,i,r,n,s)});if(t.isDirectory())ay(po.resolve(e,t.name),r,n,o=>{if(o)return s(o);let i=po.resolve(e,t.name);au(i,r,n,s)});else{let o=po.resolve(e,t.name);au(o,r,n,s)}},ay=(e,t,r,n)=>{TT(e,{withFileTypes:!0},(s,o)=>{if(s){if(s.code==="ENOENT")return n();if(s.code!=="ENOTDIR"&&s.code!=="ENOTSUP")return n(s)}if(s||!o.length)return au(e,t,r,n);let i=o.length,a=null,c=d=>{if(!a){if(d)return n(a=d);if(--i===0)return au(e,t,r,n)}};o.forEach(d=>NT(e,d,t,r,c))})},Q2=(e,t,r,n)=>{if(typeof t=="string")try{let s=cr.lstatSync(po.resolve(e,t));s.name=t,t=s}catch(s){if(s.code==="ENOENT")return;throw s}t.isDirectory()&&vT(po.resolve(e,t.name),r,n),iy(po.resolve(e,t.name),r,n)},vT=(e,t,r)=>{let n;try{n=X2(e,{withFileTypes:!0})}catch(s){if(s.code==="ENOENT")return;if(s.code==="ENOTDIR"||s.code==="ENOTSUP")return iy(e,t,r);throw s}return n&&n.length&&n.forEach(s=>Q2(e,s,t,r)),iy(e,t,r)};PT.exports=ay;ay.sync=vT});var MT=w((rle,cy)=>{"use strict";var IT=RT(),dr=require("fs"),cu=require("path"),DT=OT(),gr=Oi(),du=class extends Error{constructor(t,r){super("Cannot extract through symbolic link"),this.path=r,this.symlink=t}get name(){return"SylinkError"}},lu=class extends Error{constructor(t,r){super(r+": Cannot cd into '"+t+"'"),this.path=t,this.code=r}get name(){return"CwdError"}},uu=(e,t)=>e.get(gr(t)),cc=(e,t,r)=>e.set(gr(t),r),Z2=(e,t)=>{dr.stat(e,(r,n)=>{(r||!n.isDirectory())&&(r=new lu(e,r&&r.code||"ENOTDIR")),t(r)})};cy.exports=(e,t,r)=>{e=gr(e);let n=t.umask,s=t.mode|448,o=(s&n)!==0,i=t.uid,a=t.gid,c=typeof i=="number"&&typeof a=="number"&&(i!==t.processUid||a!==t.processGid),d=t.preserve,l=t.unlink,f=t.cache,u=gr(t.cwd),g=(R,O)=>{R?r(R):(cc(f,e,!0),O&&c?DT(O,i,a,re=>g(re)):o?dr.chmod(e,s,r):r())};if(f&&uu(f,e)===!0)return g();if(e===u)return Z2(e,g);if(d)return IT(e,{mode:s}).then(R=>g(null,R),g);let S=gr(cu.relative(u,e)).split("/");fu(u,S,s,f,l,u,null,g)};var fu=(e,t,r,n,s,o,i,a)=>{if(!t.length)return a(null,i);let c=t.shift(),d=gr(cu.resolve(e+"/"+c));if(uu(n,d))return fu(d,t,r,n,s,o,i,a);dr.mkdir(d,r,BT(d,t,r,n,s,o,i,a))},BT=(e,t,r,n,s,o,i,a)=>c=>{c?dr.lstat(e,(d,l)=>{if(d)d.path=d.path&&gr(d.path),a(d);else if(l.isDirectory())fu(e,t,r,n,s,o,i,a);else if(s)dr.unlink(e,f=>{if(f)return a(f);dr.mkdir(e,r,BT(e,t,r,n,s,o,i,a))});else{if(l.isSymbolicLink())return a(new du(e,e+"/"+t.join("/")));a(c)}}):(i=i||e,fu(e,t,r,n,s,o,i,a))},J2=e=>{let t=!1,r="ENOTDIR";try{t=dr.statSync(e).isDirectory()}catch(n){r=n.code}finally{if(!t)throw new lu(e,r)}};cy.exports.sync=(e,t)=>{e=gr(e);let r=t.umask,n=t.mode|448,s=(n&r)!==0,o=t.uid,i=t.gid,a=typeof o=="number"&&typeof i=="number"&&(o!==t.processUid||i!==t.processGid),c=t.preserve,d=t.unlink,l=t.cache,f=gr(t.cwd),u=R=>{cc(l,e,!0),R&&a&&DT.sync(R,o,i),s&&dr.chmodSync(e,n)};if(l&&uu(l,e)===!0)return u();if(e===f)return J2(f),u();if(c)return u(IT.sync(e,n));let y=gr(cu.relative(f,e)).split("/"),S=null;for(let R=y.shift(),O=f;R&&(O+="/"+R);R=y.shift())if(O=gr(cu.resolve(O)),!uu(l,O))try{dr.mkdirSync(O,n),S=S||O,cc(l,O,!0)}catch{let Q=dr.lstatSync(O);if(Q.isDirectory()){cc(l,O,!0);continue}else if(d){dr.unlinkSync(O),dr.mkdirSync(O,n),S=S||O,cc(l,O,!0);continue}else if(Q.isSymbolicLink())return new du(O,O+"/"+y.join("/"))}return u(S)}});var ly=w((nle,LT)=>{var dy=Object.create(null),{hasOwnProperty:ez}=Object.prototype;LT.exports=e=>(ez.call(dy,e)||(dy[e]=e.normalize("NFKD")),dy[e])});var $T=w((sle,zT)=>{var FT=require("assert"),tz=ly(),rz=Bi(),{join:UT}=require("path"),nz=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,sz=nz==="win32";zT.exports=()=>{let e=new Map,t=new Map,r=d=>d.split("/").slice(0,-1).reduce((f,u)=>(f.length&&(u=UT(f[f.length-1],u)),f.push(u||"/"),f),[]),n=new Set,s=d=>{let l=t.get(d);if(!l)throw new Error("function does not have any path reservations");return{paths:l.paths.map(f=>e.get(f)),dirs:[...l.dirs].map(f=>e.get(f))}},o=d=>{let{paths:l,dirs:f}=s(d);return l.every(u=>u[0]===d)&&f.every(u=>u[0]instanceof Set&&u[0].has(d))},i=d=>n.has(d)||!o(d)?!1:(n.add(d),d(()=>a(d)),!0),a=d=>{if(!n.has(d))return!1;let{paths:l,dirs:f}=t.get(d),u=new Set;return l.forEach(g=>{let y=e.get(g);FT.equal(y[0],d),y.length===1?e.delete(g):(y.shift(),typeof y[0]=="function"?u.add(y[0]):y[0].forEach(S=>u.add(S)))}),f.forEach(g=>{let y=e.get(g);FT(y[0]instanceof Set),y[0].size===1&&y.length===1?e.delete(g):y[0].size===1?(y.shift(),u.add(y[0])):y[0].delete(d)}),n.delete(d),u.forEach(g=>i(g)),!0};return{check:o,reserve:(d,l)=>{d=sz?["win32 parallelization disabled"]:d.map(u=>tz(rz(UT(u))).toLowerCase());let f=new Set(d.map(u=>r(u)).reduce((u,g)=>u.concat(g)));return t.set(l,{dirs:f,paths:d}),d.forEach(u=>{let g=e.get(u);g?g.push(l):e.set(u,[l])}),f.forEach(u=>{let g=e.get(u);g?g[g.length-1]instanceof Set?g[g.length-1].add(l):g.push(new Set([l])):e.set(u,[new Set([l])])}),i(l)}}}});var jT=w((ole,HT)=>{var oz=process.env.__FAKE_PLATFORM__||process.platform,iz=oz==="win32",az=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:cz,O_TRUNC:dz,O_WRONLY:lz,UV_FS_O_FILEMAP:qT=0}=az.constants,uz=iz&&!!qT,fz=512*1024,hz=qT|dz|cz|lz;HT.exports=uz?e=>e<fz?hz:"w":()=>"w"});var xy=w((ile,sN)=>{"use strict";var mz=require("assert"),pz=su(),le=require("fs"),yz=ji(),wn=require("path"),tN=MT(),GT=Ep(),gz=$T(),Ez=xp(),jt=Oi(),xz=Bi(),Cz=ly(),KT=Symbol("onEntry"),hy=Symbol("checkFs"),VT=Symbol("checkFs2"),pu=Symbol("pruneCache"),my=Symbol("isReusable"),lr=Symbol("makeFs"),py=Symbol("file"),yy=Symbol("directory"),yu=Symbol("link"),WT=Symbol("symlink"),YT=Symbol("hardlink"),XT=Symbol("unsupported"),QT=Symbol("checkPath"),Ns=Symbol("mkdir"),yt=Symbol("onError"),hu=Symbol("pending"),ZT=Symbol("pend"),Yi=Symbol("unpend"),uy=Symbol("ended"),fy=Symbol("maybeClose"),gy=Symbol("skip"),dc=Symbol("doChown"),lc=Symbol("uid"),uc=Symbol("gid"),fc=Symbol("checkedCwd"),rN=require("crypto"),nN=jT(),Sz=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,hc=Sz==="win32",wz=(e,t)=>{if(!hc)return le.unlink(e,t);let r=e+".DELETE."+rN.randomBytes(16).toString("hex");le.rename(e,r,n=>{if(n)return t(n);le.unlink(r,t)})},bz=e=>{if(!hc)return le.unlinkSync(e);let t=e+".DELETE."+rN.randomBytes(16).toString("hex");le.renameSync(e,t),le.unlinkSync(t)},JT=(e,t,r)=>e===e>>>0?e:t===t>>>0?t:r,eN=e=>Cz(xz(jt(e))).toLowerCase(),_z=(e,t)=>{t=eN(t);for(let r of e.keys()){let n=eN(r);(n===t||n.indexOf(t+"/")===0)&&e.delete(r)}},Rz=e=>{for(let t of e.keys())e.delete(t)},mc=class extends pz{constructor(t){if(t||(t={}),t.ondone=r=>{this[uy]=!0,this[fy]()},super(t),this[fc]=!1,this.reservations=gz(),this.transform=typeof t.transform=="function"?t.transform:null,this.writable=!0,this.readable=!1,this[hu]=0,this[uy]=!1,this.dirCache=t.dirCache||new Map,typeof t.uid=="number"||typeof t.gid=="number"){if(typeof t.uid!="number"||typeof t.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(t.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=t.uid,this.gid=t.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;t.preserveOwner===void 0&&typeof t.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!t.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=t.forceChown===!0,this.win32=!!t.win32||hc,this.newer=!!t.newer,this.keep=!!t.keep,this.noMtime=!!t.noMtime,this.preservePaths=!!t.preservePaths,this.unlink=!!t.unlink,this.cwd=jt(wn.resolve(t.cwd||process.cwd())),this.strip=+t.strip||0,this.processUmask=t.noChmod?0:process.umask(),this.umask=typeof t.umask=="number"?t.umask:this.processUmask,this.dmode=t.dmode||511&~this.umask,this.fmode=t.fmode||438&~this.umask,this.on("entry",r=>this[KT](r))}warn(t,r,n={}){return(t==="TAR_BAD_ARCHIVE"||t==="TAR_ABORT")&&(n.recoverable=!1),super.warn(t,r,n)}[fy](){this[uy]&&this[hu]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[QT](t){if(this.strip){let r=jt(t.path).split("/");if(r.length<this.strip)return!1;if(t.path=r.slice(this.strip).join("/"),t.type==="Link"){let n=jt(t.linkpath).split("/");if(n.length>=this.strip)t.linkpath=n.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let r=jt(t.path),n=r.split("/");if(n.includes("..")||hc&&/^[a-z]:\.\.$/i.test(n[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:t,path:r}),!1;let[s,o]=Ez(r);s&&(t.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${s} from absolute path`,{entry:t,path:r}))}if(wn.isAbsolute(t.path)?t.absolute=jt(wn.resolve(t.path)):t.absolute=jt(wn.resolve(this.cwd,t.path)),!this.preservePaths&&t.absolute.indexOf(this.cwd+"/")!==0&&t.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:t,path:jt(t.path),resolvedPath:t.absolute,cwd:this.cwd}),!1;if(t.absolute===this.cwd&&t.type!=="Directory"&&t.type!=="GNUDumpDir")return!1;if(this.win32){let{root:r}=wn.win32.parse(t.absolute);t.absolute=r+GT.encode(t.absolute.slice(r.length));let{root:n}=wn.win32.parse(t.path);t.path=n+GT.encode(t.path.slice(n.length))}return!0}[KT](t){if(!this[QT](t))return t.resume();switch(mz.equal(typeof t.absolute,"string"),t.type){case"Directory":case"GNUDumpDir":t.mode&&(t.mode=t.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[hy](t);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[XT](t)}}[yt](t,r){t.name==="CwdError"?this.emit("error",t):(this.warn("TAR_ENTRY_ERROR",t,{entry:r}),this[Yi](),r.resume())}[Ns](t,r,n){tN(jt(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r,noChmod:this.noChmod},n)}[dc](t){return this.forceChown||this.preserveOwner&&(typeof t.uid=="number"&&t.uid!==this.processUid||typeof t.gid=="number"&&t.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[lc](t){return JT(this.uid,t.uid,this.processUid)}[uc](t){return JT(this.gid,t.gid,this.processGid)}[py](t,r){let n=t.mode&4095||this.fmode,s=new yz.WriteStream(t.absolute,{flags:nN(t.size),mode:n,autoClose:!1});s.on("error",c=>{s.fd&&le.close(s.fd,()=>{}),s.write=()=>!0,this[yt](c,t),r()});let o=1,i=c=>{if(c){s.fd&&le.close(s.fd,()=>{}),this[yt](c,t),r();return}--o===0&&le.close(s.fd,d=>{d?this[yt](d,t):this[Yi](),r()})};s.on("finish",c=>{let d=t.absolute,l=s.fd;if(t.mtime&&!this.noMtime){o++;let f=t.atime||new Date,u=t.mtime;le.futimes(l,f,u,g=>g?le.utimes(d,f,u,y=>i(y&&g)):i())}if(this[dc](t)){o++;let f=this[lc](t),u=this[uc](t);le.fchown(l,f,u,g=>g?le.chown(d,f,u,y=>i(y&&g)):i())}i()});let a=this.transform&&this.transform(t)||t;a!==t&&(a.on("error",c=>{this[yt](c,t),r()}),t.pipe(a)),a.pipe(s)}[yy](t,r){let n=t.mode&4095||this.dmode;this[Ns](t.absolute,n,s=>{if(s){this[yt](s,t),r();return}let o=1,i=a=>{--o===0&&(r(),this[Yi](),t.resume())};t.mtime&&!this.noMtime&&(o++,le.utimes(t.absolute,t.atime||new Date,t.mtime,i)),this[dc](t)&&(o++,le.chown(t.absolute,this[lc](t),this[uc](t),i)),i()})}[XT](t){t.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${t.type}`,{entry:t}),t.resume()}[WT](t,r){this[yu](t,t.linkpath,"symlink",r)}[YT](t,r){let n=jt(wn.resolve(this.cwd,t.linkpath));this[yu](t,n,"link",r)}[ZT](){this[hu]++}[Yi](){this[hu]--,this[fy]()}[gy](t){this[Yi](),t.resume()}[my](t,r){return t.type==="File"&&!this.unlink&&r.isFile()&&r.nlink<=1&&!hc}[hy](t){this[ZT]();let r=[t.path];t.linkpath&&r.push(t.linkpath),this.reservations.reserve(r,n=>this[VT](t,n))}[pu](t){t.type==="SymbolicLink"?Rz(this.dirCache):t.type!=="Directory"&&_z(this.dirCache,t.absolute)}[VT](t,r){this[pu](t);let n=a=>{this[pu](t),r(a)},s=()=>{this[Ns](this.cwd,this.dmode,a=>{if(a){this[yt](a,t),n();return}this[fc]=!0,o()})},o=()=>{if(t.absolute!==this.cwd){let a=jt(wn.dirname(t.absolute));if(a!==this.cwd)return this[Ns](a,this.dmode,c=>{if(c){this[yt](c,t),n();return}i()})}i()},i=()=>{le.lstat(t.absolute,(a,c)=>{if(c&&(this.keep||this.newer&&c.mtime>t.mtime)){this[gy](t),n();return}if(a||this[my](t,c))return this[lr](null,t,n);if(c.isDirectory()){if(t.type==="Directory"){let d=!this.noChmod&&t.mode&&(c.mode&4095)!==t.mode,l=f=>this[lr](f,t,n);return d?le.chmod(t.absolute,t.mode,l):l()}if(t.absolute!==this.cwd)return le.rmdir(t.absolute,d=>this[lr](d,t,n))}if(t.absolute===this.cwd)return this[lr](null,t,n);wz(t.absolute,d=>this[lr](d,t,n))})};this[fc]?o():s()}[lr](t,r,n){if(t){this[yt](t,r),n();return}switch(r.type){case"File":case"OldFile":case"ContiguousFile":return this[py](r,n);case"Link":return this[YT](r,n);case"SymbolicLink":return this[WT](r,n);case"Directory":case"GNUDumpDir":return this[yy](r,n)}}[yu](t,r,n,s){le[n](r,t.absolute,o=>{o?this[yt](o,t):(this[Yi](),t.resume()),s()})}},mu=e=>{try{return[null,e()]}catch(t){return[t,null]}},Ey=class extends mc{[lr](t,r){return super[lr](t,r,()=>{})}[hy](t){if(this[pu](t),!this[fc]){let o=this[Ns](this.cwd,this.dmode);if(o)return this[yt](o,t);this[fc]=!0}if(t.absolute!==this.cwd){let o=jt(wn.dirname(t.absolute));if(o!==this.cwd){let i=this[Ns](o,this.dmode);if(i)return this[yt](i,t)}}let[r,n]=mu(()=>le.lstatSync(t.absolute));if(n&&(this.keep||this.newer&&n.mtime>t.mtime))return this[gy](t);if(r||this[my](t,n))return this[lr](null,t);if(n.isDirectory()){if(t.type==="Directory"){let i=!this.noChmod&&t.mode&&(n.mode&4095)!==t.mode,[a]=i?mu(()=>{le.chmodSync(t.absolute,t.mode)}):[];return this[lr](a,t)}let[o]=mu(()=>le.rmdirSync(t.absolute));this[lr](o,t)}let[s]=t.absolute===this.cwd?[]:mu(()=>bz(t.absolute));this[lr](s,t)}[py](t,r){let n=t.mode&4095||this.fmode,s=a=>{let c;try{le.closeSync(o)}catch(d){c=d}(a||c)&&this[yt](a||c,t),r()},o;try{o=le.openSync(t.absolute,nN(t.size),n)}catch(a){return s(a)}let i=this.transform&&this.transform(t)||t;i!==t&&(i.on("error",a=>this[yt](a,t)),t.pipe(i)),i.on("data",a=>{try{le.writeSync(o,a,0,a.length)}catch(c){s(c)}}),i.on("end",a=>{let c=null;if(t.mtime&&!this.noMtime){let d=t.atime||new Date,l=t.mtime;try{le.futimesSync(o,d,l)}catch(f){try{le.utimesSync(t.absolute,d,l)}catch{c=f}}}if(this[dc](t)){let d=this[lc](t),l=this[uc](t);try{le.fchownSync(o,d,l)}catch(f){try{le.chownSync(t.absolute,d,l)}catch{c=c||f}}}s(c)})}[yy](t,r){let n=t.mode&4095||this.dmode,s=this[Ns](t.absolute,n);if(s){this[yt](s,t),r();return}if(t.mtime&&!this.noMtime)try{le.utimesSync(t.absolute,t.atime||new Date,t.mtime)}catch{}if(this[dc](t))try{le.chownSync(t.absolute,this[lc](t),this[uc](t))}catch{}r(),t.resume()}[Ns](t,r){try{return tN.sync(jt(t),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:r})}catch(n){return n}}[yu](t,r,n,s){try{le[n+"Sync"](r,t.absolute),s(),t.resume()}catch(o){return this[yt](o,t)}}};mc.Sync=Ey;sN.exports=mc});var dN=w((ale,cN)=>{"use strict";var Az=ki(),gu=xy(),iN=require("fs"),aN=ji(),oN=require("path"),Cy=Bi();cN.exports=(e,t,r)=>{typeof e=="function"?(r=e,t=null,e={}):Array.isArray(e)&&(t=e,e={}),typeof t=="function"&&(r=t,t=null),t?t=Array.from(t):t=[];let n=Az(e);if(n.sync&&typeof r=="function")throw new TypeError("callback not supported for sync tar functions");if(!n.file&&typeof r=="function")throw new TypeError("callback only supported with file option");return t.length&&kz(n,t),n.file&&n.sync?Tz(n):n.file?Nz(n,r):n.sync?vz(n):Pz(n)};var kz=(e,t)=>{let r=new Map(t.map(o=>[Cy(o),!0])),n=e.filter,s=(o,i)=>{let a=i||oN.parse(o).root||".",c=o===a?!1:r.has(o)?r.get(o):s(oN.dirname(o),a);return r.set(o,c),c};e.filter=n?(o,i)=>n(o,i)&&s(Cy(o)):o=>s(Cy(o))},Tz=e=>{let t=new gu.Sync(e),r=e.file,n=iN.statSync(r),s=e.maxReadSize||16*1024*1024;new aN.ReadStreamSync(r,{readSize:s,size:n.size}).pipe(t)},Nz=(e,t)=>{let r=new gu(e),n=e.maxReadSize||16*1024*1024,s=e.file,o=new Promise((i,a)=>{r.on("error",a),r.on("close",i),iN.stat(s,(c,d)=>{if(c)a(c);else{let l=new aN.ReadStream(s,{readSize:n,size:d.size});l.on("error",a),l.pipe(r)}})});return t?o.then(t,t):o},vz=e=>new gu.Sync(e),Pz=e=>new gu(e)});var lN=w(Ye=>{"use strict";Ye.c=Ye.create=Gk();Ye.r=Ye.replace=ty();Ye.t=Ye.list=ou();Ye.u=Ye.update=eT();Ye.x=Ye.extract=dN();Ye.Pack=jl();Ye.Unpack=xy();Ye.Parse=su();Ye.ReadEntry=kl();Ye.WriteEntry=Np();Ye.Header=Di();Ye.Pax=Nl();Ye.types=up()});var fN=w((dle,uN)=>{"use strict";uN.exports=(...e)=>[...new Set([].concat(...e))]});var Sy=w((lle,pN)=>{"use strict";var Oz=require("stream"),hN=Oz.PassThrough,Iz=Array.prototype.slice;pN.exports=Dz;function Dz(){let e=[],t=Iz.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let s=n.end!==!1,o=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let i=hN(n);function a(){for(let l=0,f=arguments.length;l<f;l++)e.push(mN(arguments[l],n));return c(),this}function c(){if(r)return;r=!0;let l=e.shift();if(!l){process.nextTick(d);return}Array.isArray(l)||(l=[l]);let f=l.length+1;function u(){--f>0||(r=!1,c())}function g(y){function S(){y.removeListener("merge2UnpipeEnd",S),y.removeListener("end",S),o&&y.removeListener("error",R),u()}function R(O){i.emit("error",O)}if(y._readableState.endEmitted)return u();y.on("merge2UnpipeEnd",S),y.on("end",S),o&&y.on("error",R),y.pipe(i,{end:!1}),y.resume()}for(let y=0;y<l.length;y++)g(l[y]);u()}function d(){r=!1,i.emit("queueDrain"),s&&i.end()}return i.setMaxListeners(0),i.add=a,i.on("unpipe",function(l){l.emit("merge2UnpipeEnd")}),t.length&&a.apply(null,t),i}function mN(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=mN(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(hN(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var yN=w(Xi=>{"use strict";Object.defineProperty(Xi,"__esModule",{value:!0});Xi.splitWhen=Xi.flatten=void 0;function Bz(e){return e.reduce((t,r)=>[].concat(t,r),[])}Xi.flatten=Bz;function Mz(e,t){let r=[[]],n=0;for(let s of e)t(s)?(n++,r[n]=[]):r[n].push(s);return r}Xi.splitWhen=Mz});var gN=w(Eu=>{"use strict";Object.defineProperty(Eu,"__esModule",{value:!0});Eu.isEnoentCodeError=void 0;function Lz(e){return e.code==="ENOENT"}Eu.isEnoentCodeError=Lz});var EN=w(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.createDirentFromStats=void 0;var wy=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function Fz(e,t){return new wy(e,t)}xu.createDirentFromStats=Fz});var xN=w(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.removeLeadingDotSegment=Gr.escape=Gr.makeAbsolute=Gr.unixify=void 0;var Uz=require("path"),zz=2,$z=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function qz(e){return e.replace(/\\/g,"/")}Gr.unixify=qz;function Hz(e,t){return Uz.resolve(e,t)}Gr.makeAbsolute=Hz;function jz(e){return e.replace($z,"\\$2")}Gr.escape=jz;function Gz(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(zz)}return e}Gr.removeLeadingDotSegment=Gz});var SN=w((ple,CN)=>{CN.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var _N=w((yle,bN)=>{var Kz=SN(),wN={"{":"}","(":")","[":"]"},Vz=function(e){if(e[0]==="!")return!0;for(var t=0,r=-2,n=-2,s=-2,o=-2,i=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||n!==-1&&e[t]==="["&&e[t+1]!=="]"&&(n<t&&(n=e.indexOf("]",t)),n>t&&(i===-1||i>n||(i=e.indexOf("\\",t),i===-1||i>n)))||s!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(s=e.indexOf("}",t),s>t&&(i=e.indexOf("\\",t),i===-1||i>s))||o!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(o=e.indexOf(")",t),o>t&&(i=e.indexOf("\\",t),i===-1||i>o))||r!==-1&&e[t]==="("&&e[t+1]!=="|"&&(r<t&&(r=e.indexOf("|",t)),r!==-1&&e[r+1]!==")"&&(o=e.indexOf(")",r),o>r&&(i=e.indexOf("\\",r),i===-1||i>o))))return!0;if(e[t]==="\\"){var a=e[t+1];t+=2;var c=wN[a];if(c){var d=e.indexOf(c,t);d!==-1&&(t=d+1)}if(e[t]==="!")return!0}else t++}return!1},Wz=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var r=e[t+1];t+=2;var n=wN[r];if(n){var s=e.indexOf(n,t);s!==-1&&(t=s+1)}if(e[t]==="!")return!0}else t++}return!1};bN.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(Kz(t))return!0;var n=Vz;return r&&r.strict===!1&&(n=Wz),n(t)}});var AN=w((gle,RN)=>{"use strict";var Yz=_N(),Xz=require("path").posix.dirname,Qz=require("os").platform()==="win32",by="/",Zz=/\\/g,Jz=/[\{\[].*[\}\]]$/,e$=/(^|[^\\])([\{\[]|\([^\)]+$)/,t$=/\\([\!\*\?\|\[\]\(\)\{\}])/g;RN.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&Qz&&t.indexOf(by)<0&&(t=t.replace(Zz,by)),Jz.test(t)&&(t+=by),t+="a";do t=Xz(t);while(Yz(t)||e$.test(t));return t.replace(t$,"$1")}});var Cu=w(ur=>{"use strict";ur.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;ur.find=(e,t)=>e.nodes.find(r=>r.type===t);ur.exceedsLimit=(e,t,r=1,n)=>n===!1||!ur.isInteger(e)||!ur.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;ur.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];n&&(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};ur.encloseBrace=e=>e.type!=="brace"||e.commas>>0+e.ranges>>0?!1:(e.invalid=!0,!0);ur.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:!(e.commas>>0+e.ranges>>0)||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;ur.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;ur.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);ur.flatten=(...e)=>{let t=[],r=n=>{for(let s=0;s<n.length;s++){let o=n[s];Array.isArray(o)?r(o,t):o!==void 0&&t.push(o)}return t};return r(e),t}});var Su=w((xle,TN)=>{"use strict";var kN=Cu();TN.exports=(e,t={})=>{let r=(n,s={})=>{let o=t.escapeInvalid&&kN.isInvalidBrace(s),i=n.invalid===!0&&t.escapeInvalid===!0,a="";if(n.value)return(o||i)&&kN.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=r(c);return a};return r(e)}});var vN=w((Cle,NN)=>{"use strict";NN.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var UN=w((Sle,FN)=>{"use strict";var PN=vN(),yo=(e,t,r)=>{if(PN(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(PN(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...r};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let s=String(n.relaxZeros),o=String(n.shorthand),i=String(n.capture),a=String(n.wrap),c=e+":"+t+"="+s+o+i+a;if(yo.cache.hasOwnProperty(c))return yo.cache[c].result;let d=Math.min(e,t),l=Math.max(e,t);if(Math.abs(d-l)===1){let S=e+"|"+t;return n.capture?`(${S})`:n.wrap===!1?S:`(?:${S})`}let f=LN(e)||LN(t),u={min:e,max:t,a:d,b:l},g=[],y=[];if(f&&(u.isPadded=f,u.maxLen=String(u.max).length),d<0){let S=l<0?Math.abs(l):1;y=ON(S,Math.abs(d),u,n),d=u.a=0}return l>=0&&(g=ON(d,l,u,n)),u.negatives=y,u.positives=g,u.result=r$(y,g,n),n.capture===!0?u.result=`(${u.result})`:n.wrap!==!1&&g.length+y.length>1&&(u.result=`(?:${u.result})`),yo.cache[c]=u,u.result};function r$(e,t,r){let n=_y(e,t,"-",!1,r)||[],s=_y(t,e,"",!1,r)||[],o=_y(e,t,"-?",!0,r)||[];return n.concat(o).concat(s).join("|")}function n$(e,t){let r=1,n=1,s=DN(e,r),o=new Set([t]);for(;e<=s&&s<=t;)o.add(s),r+=1,s=DN(e,r);for(s=BN(t+1,n)-1;e<s&&s<=t;)o.add(s),n+=1,s=BN(t+1,n)-1;return o=[...o],o.sort(i$),o}function s$(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=o$(e,t),s=n.length,o="",i=0;for(let a=0;a<s;a++){let[c,d]=n[a];c===d?o+=c:c!=="0"||d!=="9"?o+=a$(c,d,r):i++}return i&&(o+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[i],digits:s}}function ON(e,t,r,n){let s=n$(e,t),o=[],i=e,a;for(let c=0;c<s.length;c++){let d=s[c],l=s$(String(i),String(d),n),f="";if(!r.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+MN(a.count),i=d+1;continue}r.isPadded&&(f=c$(d,r,n)),l.string=f+l.pattern+MN(l.count),o.push(l),i=d+1,a=l}return o}function _y(e,t,r,n,s){let o=[];for(let i of e){let{string:a}=i;!n&&!IN(t,"string",a)&&o.push(r+a),n&&IN(t,"string",a)&&o.push(r+a)}return o}function o$(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function i$(e,t){return e>t?1:t>e?-1:0}function IN(e,t,r){return e.some(n=>n[t]===r)}function DN(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function BN(e,t){return e-e%Math.pow(10,t)}function MN(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function a$(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function LN(e){return/^-?(0+)\d/.test(e)}function c$(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),s=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return s?"0?":"0";case 2:return s?"0{0,2}":"00";default:return s?`0{0,${n}}`:`0{${n}}`}}yo.cache={};yo.clearCache=()=>yo.cache={};FN.exports=yo});var ky=w((wle,VN)=>{"use strict";var d$=require("util"),qN=UN(),zN=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),l$=e=>t=>e===!0?Number(t):String(t),Ry=e=>typeof e=="number"||typeof e=="string"&&e!=="",pc=e=>Number.isInteger(+e),Ay=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},u$=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,f$=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},$N=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},h$=(e,t)=>{e.negatives.sort((i,a)=>i<a?-1:i>a?1:0),e.positives.sort((i,a)=>i<a?-1:i>a?1:0);let r=t.capture?"":"?:",n="",s="",o;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(s=`-(${r}${e.negatives.join("|")})`),n&&s?o=`${n}|${s}`:o=n||s,t.wrap?`(${r}${o})`:o},HN=(e,t,r,n)=>{if(r)return qN(e,t,{wrap:!1,...n});let s=String.fromCharCode(e);if(e===t)return s;let o=String.fromCharCode(t);return`[${s}-${o}]`},jN=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,s=r.capture?"":"?:";return n?`(${s}${e.join("|")})`:e.join("|")}return qN(e,t,r)},GN=(...e)=>new RangeError("Invalid range arguments: "+d$.inspect(...e)),KN=(e,t,r)=>{if(r.strictRanges===!0)throw GN([e,t]);return[]},m$=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},p$=(e,t,r=1,n={})=>{let s=Number(e),o=Number(t);if(!Number.isInteger(s)||!Number.isInteger(o)){if(n.strictRanges===!0)throw GN([e,t]);return[]}s===0&&(s=0),o===0&&(o=0);let i=s>o,a=String(e),c=String(t),d=String(r);r=Math.max(Math.abs(r),1);let l=Ay(a)||Ay(c)||Ay(d),f=l?Math.max(a.length,c.length,d.length):0,u=l===!1&&u$(e,t,n)===!1,g=n.transform||l$(u);if(n.toRegex&&r===1)return HN($N(e,f),$N(t,f),!0,n);let y={negatives:[],positives:[]},S=re=>y[re<0?"negatives":"positives"].push(Math.abs(re)),R=[],O=0;for(;i?s>=o:s<=o;)n.toRegex===!0&&r>1?S(s):R.push(f$(g(s,O),f,u)),s=i?s-r:s+r,O++;return n.toRegex===!0?r>1?h$(y,n):jN(R,null,{wrap:!1,...n}):R},y$=(e,t,r=1,n={})=>{if(!pc(e)&&e.length>1||!pc(t)&&t.length>1)return KN(e,t,n);let s=n.transform||(u=>String.fromCharCode(u)),o=`${e}`.charCodeAt(0),i=`${t}`.charCodeAt(0),a=o>i,c=Math.min(o,i),d=Math.max(o,i);if(n.toRegex&&r===1)return HN(c,d,!1,n);let l=[],f=0;for(;a?o>=i:o<=i;)l.push(s(o,f)),o=a?o-r:o+r,f++;return n.toRegex===!0?jN(l,null,{wrap:!1,options:n}):l},wu=(e,t,r,n={})=>{if(t==null&&Ry(e))return[e];if(!Ry(e)||!Ry(t))return KN(e,t,n);if(typeof r=="function")return wu(e,t,1,{transform:r});if(zN(r))return wu(e,t,0,r);let s={...n};return s.capture===!0&&(s.wrap=!0),r=r||s.step||1,pc(r)?pc(e)&&pc(t)?p$(e,t,r,s):y$(e,t,Math.max(Math.abs(r),1),s):r!=null&&!zN(r)?m$(r,s):wu(e,t,1,r)};VN.exports=wu});var XN=w((ble,YN)=>{"use strict";var g$=ky(),WN=Cu(),E$=(e,t={})=>{let r=(n,s={})=>{let o=WN.isInvalidBrace(s),i=n.invalid===!0&&t.escapeInvalid===!0,a=o===!0||i===!0,c=t.escapeInvalid===!0?"\\":"",d="";if(n.isOpen===!0||n.isClose===!0)return c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=WN.reduce(n.nodes),f=g$(...l,{...t,wrap:!1,toRegex:!0});if(f.length!==0)return l.length>1&&f.length>1?`(${f})`:f}if(n.nodes)for(let l of n.nodes)d+=r(l,n);return d};return r(e)};YN.exports=E$});var JN=w((_le,ZN)=>{"use strict";var x$=ky(),QN=Su(),Qi=Cu(),go=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?Qi.flatten(t).map(s=>`{${s}}`):t;for(let s of e)if(Array.isArray(s))for(let o of s)n.push(go(o,t,r));else for(let o of t)r===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?go(s,o,r):s+o);return Qi.flatten(n)},C$=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(s,o={})=>{s.queue=[];let i=o,a=o.queue;for(;i.type!=="brace"&&i.type!=="root"&&i.parent;)i=i.parent,a=i.queue;if(s.invalid||s.dollar){a.push(go(a.pop(),QN(s,t)));return}if(s.type==="brace"&&s.invalid!==!0&&s.nodes.length===2){a.push(go(a.pop(),["{}"]));return}if(s.nodes&&s.ranges>0){let f=Qi.reduce(s.nodes);if(Qi.exceedsLimit(...f,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let u=x$(...f,t);u.length===0&&(u=QN(s,t)),a.push(go(a.pop(),u)),s.nodes=[];return}let c=Qi.encloseBrace(s),d=s.queue,l=s;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,d=l.queue;for(let f=0;f<s.nodes.length;f++){let u=s.nodes[f];if(u.type==="comma"&&s.type==="brace"){f===1&&d.push(""),d.push("");continue}if(u.type==="close"){a.push(go(a.pop(),d,c));continue}if(u.value&&u.type!=="open"){d.push(go(d.pop(),u.value));continue}u.nodes&&n(u,s)}return d};return Qi.flatten(n(e))};ZN.exports=C$});var tv=w((Rle,ev)=>{"use strict";ev.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:" ",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var iv=w((Ale,ov)=>{"use strict";var S$=Su(),{MAX_LENGTH:rv,CHAR_BACKSLASH:Ty,CHAR_BACKTICK:w$,CHAR_COMMA:b$,CHAR_DOT:_$,CHAR_LEFT_PARENTHESES:R$,CHAR_RIGHT_PARENTHESES:A$,CHAR_LEFT_CURLY_BRACE:k$,CHAR_RIGHT_CURLY_BRACE:T$,CHAR_LEFT_SQUARE_BRACKET:nv,CHAR_RIGHT_SQUARE_BRACKET:sv,CHAR_DOUBLE_QUOTE:N$,CHAR_SINGLE_QUOTE:v$,CHAR_NO_BREAK_SPACE:P$,CHAR_ZERO_WIDTH_NOBREAK_SPACE:O$}=tv(),I$=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(rv,r.maxLength):rv;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let s={type:"root",input:e,nodes:[]},o=[s],i=s,a=s,c=0,d=e.length,l=0,f=0,u,g={},y=()=>e[l++],S=R=>{if(R.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&R.type==="text"){a.value+=R.value;return}return i.nodes.push(R),R.parent=i,R.prev=a,a=R,R};for(S({type:"bos"});l<d;)if(i=o[o.length-1],u=y(),!(u===O$||u===P$)){if(u===Ty){S({type:"text",value:(t.keepEscaping?u:"")+y()});continue}if(u===sv){S({type:"text",value:"\\"+u});continue}if(u===nv){c++;let R=!0,O;for(;l<d&&(O=y());){if(u+=O,O===nv){c++;continue}if(O===Ty){u+=y();continue}if(O===sv&&(c--,c===0))break}S({type:"text",value:u});continue}if(u===R$){i=S({type:"paren",nodes:[]}),o.push(i),S({type:"text",value:u});continue}if(u===A$){if(i.type!=="paren"){S({type:"text",value:u});continue}i=o.pop(),S({type:"text",value:u}),i=o[o.length-1];continue}if(u===N$||u===v$||u===w$){let R=u,O;for(t.keepQuotes!==!0&&(u="");l<d&&(O=y());){if(O===Ty){u+=O+y();continue}if(O===R){t.keepQuotes===!0&&(u+=O);break}u+=O}S({type:"text",value:u});continue}if(u===k$){f++;let O={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||i.dollar===!0,depth:f,commas:0,ranges:0,nodes:[]};i=S(O),o.push(i),S({type:"open",value:u});continue}if(u===T$){if(i.type!=="brace"){S({type:"text",value:u});continue}let R="close";i=o.pop(),i.close=!0,S({type:R,value:u}),f--,i=o[o.length-1];continue}if(u===b$&&f>0){if(i.ranges>0){i.ranges=0;let R=i.nodes.shift();i.nodes=[R,{type:"text",value:S$(i)}]}S({type:"comma",value:u}),i.commas++;continue}if(u===_$&&f>0&&i.commas===0){let R=i.nodes;if(f===0||R.length===0){S({type:"text",value:u});continue}if(a.type==="dot"){if(i.range=[],a.value+=u,a.type="range",i.nodes.length!==3&&i.nodes.length!==5){i.invalid=!0,i.ranges=0,a.type="text";continue}i.ranges++,i.args=[];continue}if(a.type==="range"){R.pop();let O=R[R.length-1];O.value+=a.value+u,a=O,i.ranges--;continue}S({type:"dot",value:u});continue}S({type:"text",value:u})}do if(i=o.pop(),i.type!=="root"){i.nodes.forEach(re=>{re.nodes||(re.type==="open"&&(re.isOpen=!0),re.type==="close"&&(re.isClose=!0),re.nodes||(re.type="text"),re.invalid=!0)});let R=o[o.length-1],O=R.nodes.indexOf(i);R.nodes.splice(O,1,...i.nodes)}while(o.length>0);return S({type:"eos"}),s};ov.exports=I$});var dv=w((kle,cv)=>{"use strict";var av=Su(),D$=XN(),B$=JN(),M$=iv(),Gt=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let s=Gt.create(n,t);Array.isArray(s)?r.push(...s):r.push(s)}else r=[].concat(Gt.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};Gt.parse=(e,t={})=>M$(e,t);Gt.stringify=(e,t={})=>av(typeof e=="string"?Gt.parse(e,t):e,t);Gt.compile=(e,t={})=>(typeof e=="string"&&(e=Gt.parse(e,t)),D$(e,t));Gt.expand=(e,t={})=>{typeof e=="string"&&(e=Gt.parse(e,t));let r=B$(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};Gt.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?Gt.compile(e,t):Gt.expand(e,t);cv.exports=Gt});var yc=w((Tle,mv)=>{"use strict";var L$=require("path"),Kr="\\\\/",lv=`[^${Kr}]`,bn="\\.",F$="\\+",U$="\\?",bu="\\/",z$="(?=.)",uv="[^/]",Ny=`(?:${bu}|$)`,fv=`(?:^|${bu})`,vy=`${bn}{1,2}${Ny}`,$$=`(?!${bn})`,q$=`(?!${fv}${vy})`,H$=`(?!${bn}{0,1}${Ny})`,j$=`(?!${vy})`,G$=`[^.${bu}]`,K$=`${uv}*?`,hv={DOT_LITERAL:bn,PLUS_LITERAL:F$,QMARK_LITERAL:U$,SLASH_LITERAL:bu,ONE_CHAR:z$,QMARK:uv,END_ANCHOR:Ny,DOTS_SLASH:vy,NO_DOT:$$,NO_DOTS:q$,NO_DOT_SLASH:H$,NO_DOTS_SLASH:j$,QMARK_NO_DOT:G$,STAR:K$,START_ANCHOR:fv},V$={...hv,SLASH_LITERAL:`[${Kr}]`,QMARK:lv,STAR:`${lv}*?`,DOTS_SLASH:`${bn}{1,2}(?:[${Kr}]|$)`,NO_DOT:`(?!${bn})`,NO_DOTS:`(?!(?:^|[${Kr}])${bn}{1,2}(?:[${Kr}]|$))`,NO_DOT_SLASH:`(?!${bn}{0,1}(?:[${Kr}]|$))`,NO_DOTS_SLASH:`(?!${bn}{1,2}(?:[${Kr}]|$))`,QMARK_NO_DOT:`[^.${Kr}]`,START_ANCHOR:`(?:^|[${Kr}])`,END_ANCHOR:`(?:[${Kr}]|$)`},W$={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};mv.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:W$,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:L$.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?V$:hv}}});var gc=w(Mt=>{"use strict";var Y$=require("path"),X$=process.platform==="win32",{REGEX_BACKSLASH:Q$,REGEX_REMOVE_BACKSLASH:Z$,REGEX_SPECIAL_CHARS:J$,REGEX_SPECIAL_CHARS_GLOBAL:eq}=yc();Mt.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);Mt.hasRegexChars=e=>J$.test(e);Mt.isRegexChar=e=>e.length===1&&Mt.hasRegexChars(e);Mt.escapeRegex=e=>e.replace(eq,"\\$1");Mt.toPosixSlashes=e=>e.replace(Q$,"/");Mt.removeBackslashes=e=>e.replace(Z$,t=>t==="\\"?"":t);Mt.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};Mt.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:X$===!0||Y$.sep==="\\";Mt.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?Mt.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};Mt.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};Mt.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",s=r.contains?"":"$",o=`${n}(?:${e})${s}`;return t.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var wv=w((vle,Sv)=>{"use strict";var pv=gc(),{CHAR_ASTERISK:Py,CHAR_AT:tq,CHAR_BACKWARD_SLASH:Ec,CHAR_COMMA:rq,CHAR_DOT:Oy,CHAR_EXCLAMATION_MARK:Iy,CHAR_FORWARD_SLASH:Cv,CHAR_LEFT_CURLY_BRACE:Dy,CHAR_LEFT_PARENTHESES:By,CHAR_LEFT_SQUARE_BRACKET:nq,CHAR_PLUS:sq,CHAR_QUESTION_MARK:yv,CHAR_RIGHT_CURLY_BRACE:oq,CHAR_RIGHT_PARENTHESES:gv,CHAR_RIGHT_SQUARE_BRACKET:iq}=yc(),Ev=e=>e===Cv||e===Ec,xv=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},aq=(e,t)=>{let r=t||{},n=e.length-1,s=r.parts===!0||r.scanToEnd===!0,o=[],i=[],a=[],c=e,d=-1,l=0,f=0,u=!1,g=!1,y=!1,S=!1,R=!1,O=!1,re=!1,Q=!1,Ue=!1,X=!1,Ce=0,J,K,me={value:"",depth:0,isGlob:!1},tt=()=>d>=n,T=()=>c.charCodeAt(d+1),ke=()=>(J=K,c.charCodeAt(++d));for(;d<n;){K=ke();let xt;if(K===Ec){re=me.backslashes=!0,K=ke(),K===Dy&&(O=!0);continue}if(O===!0||K===Dy){for(Ce++;tt()!==!0&&(K=ke());){if(K===Ec){re=me.backslashes=!0,ke();continue}if(K===Dy){Ce++;continue}if(O!==!0&&K===Oy&&(K=ke())===Oy){if(u=me.isBrace=!0,y=me.isGlob=!0,X=!0,s===!0)continue;break}if(O!==!0&&K===rq){if(u=me.isBrace=!0,y=me.isGlob=!0,X=!0,s===!0)continue;break}if(K===oq&&(Ce--,Ce===0)){O=!1,u=me.isBrace=!0,X=!0;break}}if(s===!0)continue;break}if(K===Cv){if(o.push(d),i.push(me),me={value:"",depth:0,isGlob:!1},X===!0)continue;if(J===Oy&&d===l+1){l+=2;continue}f=d+1;continue}if(r.noext!==!0&&(K===sq||K===tq||K===Py||K===yv||K===Iy)===!0&&T()===By){if(y=me.isGlob=!0,S=me.isExtglob=!0,X=!0,K===Iy&&d===l&&(Ue=!0),s===!0){for(;tt()!==!0&&(K=ke());){if(K===Ec){re=me.backslashes=!0,K=ke();continue}if(K===gv){y=me.isGlob=!0,X=!0;break}}continue}break}if(K===Py){if(J===Py&&(R=me.isGlobstar=!0),y=me.isGlob=!0,X=!0,s===!0)continue;break}if(K===yv){if(y=me.isGlob=!0,X=!0,s===!0)continue;break}if(K===nq){for(;tt()!==!0&&(xt=ke());){if(xt===Ec){re=me.backslashes=!0,ke();continue}if(xt===iq){g=me.isBracket=!0,y=me.isGlob=!0,X=!0;break}}if(s===!0)continue;break}if(r.nonegate!==!0&&K===Iy&&d===l){Q=me.negated=!0,l++;continue}if(r.noparen!==!0&&K===By){if(y=me.isGlob=!0,s===!0){for(;tt()!==!0&&(K=ke());){if(K===By){re=me.backslashes=!0,K=ke();continue}if(K===gv){X=!0;break}}continue}break}if(y===!0){if(X=!0,s===!0)continue;break}}r.noext===!0&&(S=!1,y=!1);let we=c,Tn="",A="";l>0&&(Tn=c.slice(0,l),c=c.slice(l),f-=l),we&&y===!0&&f>0?(we=c.slice(0,f),A=c.slice(f)):y===!0?(we="",A=c):we=c,we&&we!==""&&we!=="/"&&we!==c&&Ev(we.charCodeAt(we.length-1))&&(we=we.slice(0,-1)),r.unescape===!0&&(A&&(A=pv.removeBackslashes(A)),we&&re===!0&&(we=pv.removeBackslashes(we)));let k={prefix:Tn,input:e,start:l,base:we,glob:A,isBrace:u,isBracket:g,isGlob:y,isExtglob:S,isGlobstar:R,negated:Q,negatedExtglob:Ue};if(r.tokens===!0&&(k.maxDepth=0,Ev(K)||i.push(me),k.tokens=i),r.parts===!0||r.tokens===!0){let xt;for(let ae=0;ae<o.length;ae++){let Er=xt?xt+1:l,xr=o[ae],Lt=e.slice(Er,xr);r.tokens&&(ae===0&&l!==0?(i[ae].isPrefix=!0,i[ae].value=Tn):i[ae].value=Lt,xv(i[ae]),k.maxDepth+=i[ae].depth),(ae!==0||Lt!=="")&&a.push(Lt),xt=xr}if(xt&&xt+1<e.length){let ae=e.slice(xt+1);a.push(ae),r.tokens&&(i[i.length-1].value=ae,xv(i[i.length-1]),k.maxDepth+=i[i.length-1].depth)}k.slashes=o,k.parts=a}return k};Sv.exports=aq});var Rv=w((Ple,_v)=>{"use strict";var _u=yc(),Kt=gc(),{MAX_LENGTH:Ru,POSIX_REGEX_SOURCE:cq,REGEX_NON_SPECIAL_CHARS:dq,REGEX_SPECIAL_CHARS_BACKREF:lq,REPLACEMENTS:bv}=_u,uq=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(s=>Kt.escapeRegex(s)).join("..")}return r},Zi=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,My=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=bv[e]||e;let r={...t},n=typeof r.maxLength=="number"?Math.min(Ru,r.maxLength):Ru,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:r.prepend||""},i=[o],a=r.capture?"":"?:",c=Kt.isWindows(t),d=_u.globChars(c),l=_u.extglobChars(d),{DOT_LITERAL:f,PLUS_LITERAL:u,SLASH_LITERAL:g,ONE_CHAR:y,DOTS_SLASH:S,NO_DOT:R,NO_DOT_SLASH:O,NO_DOTS_SLASH:re,QMARK:Q,QMARK_NO_DOT:Ue,STAR:X,START_ANCHOR:Ce}=d,J=L=>`(${a}(?:(?!${Ce}${L.dot?S:f}).)*?)`,K=r.dot?"":R,me=r.dot?Q:Ue,tt=r.bash===!0?J(r):X;r.capture&&(tt=`(${tt})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let T={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:i};e=Kt.removePrefix(e,T),s=e.length;let ke=[],we=[],Tn=[],A=o,k,xt=()=>T.index===s-1,ae=T.peek=(L=1)=>e[T.index+L],Er=T.advance=()=>e[++T.index]||"",xr=()=>e.slice(T.index+1),Lt=(L="",be=0)=>{T.consumed+=L,T.index+=be},Cc=L=>{T.output+=L.output!=null?L.output:L.value,Lt(L.value)},BO=()=>{let L=1;for(;ae()==="!"&&(ae(2)!=="("||ae(3)==="?");)Er(),T.start++,L++;return L%2===0?!1:(T.negated=!0,T.start++,!0)},Sc=L=>{T[L]++,Tn.push(L)},Ms=L=>{T[L]--,Tn.pop()},ne=L=>{if(A.type==="globstar"){let be=T.braces>0&&(L.type==="comma"||L.type==="brace"),v=L.extglob===!0||ke.length&&(L.type==="pipe"||L.type==="paren");L.type!=="slash"&&L.type!=="paren"&&!be&&!v&&(T.output=T.output.slice(0,-A.output.length),A.type="star",A.value="*",A.output=tt,T.output+=A.output)}if(ke.length&&L.type!=="paren"&&(ke[ke.length-1].inner+=L.value),(L.value||L.output)&&Cc(L),A&&A.type==="text"&&L.type==="text"){A.value+=L.value,A.output=(A.output||"")+L.value;return}L.prev=A,i.push(L),A=L},wc=(L,be)=>{let v={...l[be],conditions:1,inner:""};v.prev=A,v.parens=T.parens,v.output=T.output;let te=(r.capture?"(":"")+v.open;Sc("parens"),ne({type:L,value:be,output:T.output?"":y}),ne({type:"paren",extglob:!0,value:Er(),output:te}),ke.push(v)},MO=L=>{let be=L.close+(r.capture?")":""),v;if(L.type==="negate"){let te=tt;if(L.inner&&L.inner.length>1&&L.inner.includes("/")&&(te=J(r)),(te!==tt||xt()||/^\)+$/.test(xr()))&&(be=L.close=`)$))${te}`),L.inner.includes("*")&&(v=xr())&&/^\.[^\\/.]+$/.test(v)){let Pe=My(v,{...t,fastpaths:!1}).output;be=L.close=`)${Pe})${te})`}L.prev.type==="bos"&&(T.negatedExtglob=!0)}ne({type:"paren",extglob:!0,value:k,output:be}),Ms("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let L=!1,be=e.replace(lq,(v,te,Pe,Ct,Ge,Zu)=>Ct==="\\"?(L=!0,v):Ct==="?"?te?te+Ct+(Ge?Q.repeat(Ge.length):""):Zu===0?me+(Ge?Q.repeat(Ge.length):""):Q.repeat(Pe.length):Ct==="."?f.repeat(Pe.length):Ct==="*"?te?te+Ct+(Ge?tt:""):tt:te?v:`\\${v}`);return L===!0&&(r.unescape===!0?be=be.replace(/\\/g,""):be=be.replace(/\\+/g,v=>v.length%2===0?"\\\\":v?"\\":"")),be===e&&r.contains===!0?(T.output=e,T):(T.output=Kt.wrapOutput(be,T,t),T)}for(;!xt();){if(k=Er(),k==="\0")continue;if(k==="\\"){let v=ae();if(v==="/"&&r.bash!==!0||v==="."||v===";")continue;if(!v){k+="\\",ne({type:"text",value:k});continue}let te=/^\\+/.exec(xr()),Pe=0;if(te&&te[0].length>2&&(Pe=te[0].length,T.index+=Pe,Pe%2!==0&&(k+="\\")),r.unescape===!0?k=Er():k+=Er(),T.brackets===0){ne({type:"text",value:k});continue}}if(T.brackets>0&&(k!=="]"||A.value==="["||A.value==="[^")){if(r.posix!==!1&&k===":"){let v=A.value.slice(1);if(v.includes("[")&&(A.posix=!0,v.includes(":"))){let te=A.value.lastIndexOf("["),Pe=A.value.slice(0,te),Ct=A.value.slice(te+2),Ge=cq[Ct];if(Ge){A.value=Pe+Ge,T.backtrack=!0,Er(),!o.output&&i.indexOf(A)===1&&(o.output=y);continue}}}(k==="["&&ae()!==":"||k==="-"&&ae()==="]")&&(k=`\\${k}`),k==="]"&&(A.value==="["||A.value==="[^")&&(k=`\\${k}`),r.posix===!0&&k==="!"&&A.value==="["&&(k="^"),A.value+=k,Cc({value:k});continue}if(T.quotes===1&&k!=='"'){k=Kt.escapeRegex(k),A.value+=k,Cc({value:k});continue}if(k==='"'){T.quotes=T.quotes===1?0:1,r.keepQuotes===!0&&ne({type:"text",value:k});continue}if(k==="("){Sc("parens"),ne({type:"paren",value:k});continue}if(k===")"){if(T.parens===0&&r.strictBrackets===!0)throw new SyntaxError(Zi("opening","("));let v=ke[ke.length-1];if(v&&T.parens===v.parens+1){MO(ke.pop());continue}ne({type:"paren",value:k,output:T.parens?")":"\\)"}),Ms("parens");continue}if(k==="["){if(r.nobracket===!0||!xr().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(Zi("closing","]"));k=`\\${k}`}else Sc("brackets");ne({type:"bracket",value:k});continue}if(k==="]"){if(r.nobracket===!0||A&&A.type==="bracket"&&A.value.length===1){ne({type:"text",value:k,output:`\\${k}`});continue}if(T.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(Zi("opening","["));ne({type:"text",value:k,output:`\\${k}`});continue}Ms("brackets");let v=A.value.slice(1);if(A.posix!==!0&&v[0]==="^"&&!v.includes("/")&&(k=`/${k}`),A.value+=k,Cc({value:k}),r.literalBrackets===!1||Kt.hasRegexChars(v))continue;let te=Kt.escapeRegex(A.value);if(T.output=T.output.slice(0,-A.value.length),r.literalBrackets===!0){T.output+=te,A.value=te;continue}A.value=`(${a}${te}|${A.value})`,T.output+=A.value;continue}if(k==="{"&&r.nobrace!==!0){Sc("braces");let v={type:"brace",value:k,output:"(",outputIndex:T.output.length,tokensIndex:T.tokens.length};we.push(v),ne(v);continue}if(k==="}"){let v=we[we.length-1];if(r.nobrace===!0||!v){ne({type:"text",value:k,output:k});continue}let te=")";if(v.dots===!0){let Pe=i.slice(),Ct=[];for(let Ge=Pe.length-1;Ge>=0&&(i.pop(),Pe[Ge].type!=="brace");Ge--)Pe[Ge].type!=="dots"&&Ct.unshift(Pe[Ge].value);te=uq(Ct,r),T.backtrack=!0}if(v.comma!==!0&&v.dots!==!0){let Pe=T.output.slice(0,v.outputIndex),Ct=T.tokens.slice(v.tokensIndex);v.value=v.output="\\{",k=te="\\}",T.output=Pe;for(let Ge of Ct)T.output+=Ge.output||Ge.value}ne({type:"brace",value:k,output:te}),Ms("braces"),we.pop();continue}if(k==="|"){ke.length>0&&ke[ke.length-1].conditions++,ne({type:"text",value:k});continue}if(k===","){let v=k,te=we[we.length-1];te&&Tn[Tn.length-1]==="braces"&&(te.comma=!0,v="|"),ne({type:"comma",value:k,output:v});continue}if(k==="/"){if(A.type==="dot"&&T.index===T.start+1){T.start=T.index+1,T.consumed="",T.output="",i.pop(),A=o;continue}ne({type:"slash",value:k,output:g});continue}if(k==="."){if(T.braces>0&&A.type==="dot"){A.value==="."&&(A.output=f);let v=we[we.length-1];A.type="dots",A.output+=k,A.value+=k,v.dots=!0;continue}if(T.braces+T.parens===0&&A.type!=="bos"&&A.type!=="slash"){ne({type:"text",value:k,output:f});continue}ne({type:"dot",value:k,output:f});continue}if(k==="?"){if(!(A&&A.value==="(")&&r.noextglob!==!0&&ae()==="("&&ae(2)!=="?"){wc("qmark",k);continue}if(A&&A.type==="paren"){let te=ae(),Pe=k;if(te==="<"&&!Kt.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(A.value==="("&&!/[!=<:]/.test(te)||te==="<"&&!/<([!=]|\w+>)/.test(xr()))&&(Pe=`\\${k}`),ne({type:"text",value:k,output:Pe});continue}if(r.dot!==!0&&(A.type==="slash"||A.type==="bos")){ne({type:"qmark",value:k,output:Ue});continue}ne({type:"qmark",value:k,output:Q});continue}if(k==="!"){if(r.noextglob!==!0&&ae()==="("&&(ae(2)!=="?"||!/[!=<:]/.test(ae(3)))){wc("negate",k);continue}if(r.nonegate!==!0&&T.index===0){BO();continue}}if(k==="+"){if(r.noextglob!==!0&&ae()==="("&&ae(2)!=="?"){wc("plus",k);continue}if(A&&A.value==="("||r.regex===!1){ne({type:"plus",value:k,output:u});continue}if(A&&(A.type==="bracket"||A.type==="paren"||A.type==="brace")||T.parens>0){ne({type:"plus",value:k});continue}ne({type:"plus",value:u});continue}if(k==="@"){if(r.noextglob!==!0&&ae()==="("&&ae(2)!=="?"){ne({type:"at",extglob:!0,value:k,output:""});continue}ne({type:"text",value:k});continue}if(k!=="*"){(k==="$"||k==="^")&&(k=`\\${k}`);let v=dq.exec(xr());v&&(k+=v[0],T.index+=v[0].length),ne({type:"text",value:k});continue}if(A&&(A.type==="globstar"||A.star===!0)){A.type="star",A.star=!0,A.value+=k,A.output=tt,T.backtrack=!0,T.globstar=!0,Lt(k);continue}let L=xr();if(r.noextglob!==!0&&/^\([^?]/.test(L)){wc("star",k);continue}if(A.type==="star"){if(r.noglobstar===!0){Lt(k);continue}let v=A.prev,te=v.prev,Pe=v.type==="slash"||v.type==="bos",Ct=te&&(te.type==="star"||te.type==="globstar");if(r.bash===!0&&(!Pe||L[0]&&L[0]!=="/")){ne({type:"star",value:k,output:""});continue}let Ge=T.braces>0&&(v.type==="comma"||v.type==="brace"),Zu=ke.length&&(v.type==="pipe"||v.type==="paren");if(!Pe&&v.type!=="paren"&&!Ge&&!Zu){ne({type:"star",value:k,output:""});continue}for(;L.slice(0,3)==="/**";){let bc=e[T.index+4];if(bc&&bc!=="/")break;L=L.slice(3),Lt("/**",3)}if(v.type==="bos"&&xt()){A.type="globstar",A.value+=k,A.output=J(r),T.output=A.output,T.globstar=!0,Lt(k);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&!Ct&&xt()){T.output=T.output.slice(0,-(v.output+A.output).length),v.output=`(?:${v.output}`,A.type="globstar",A.output=J(r)+(r.strictSlashes?")":"|$)"),A.value+=k,T.globstar=!0,T.output+=v.output+A.output,Lt(k);continue}if(v.type==="slash"&&v.prev.type!=="bos"&&L[0]==="/"){let bc=L[1]!==void 0?"|$":"";T.output=T.output.slice(0,-(v.output+A.output).length),v.output=`(?:${v.output}`,A.type="globstar",A.output=`${J(r)}${g}|${g}${bc})`,A.value+=k,T.output+=v.output+A.output,T.globstar=!0,Lt(k+Er()),ne({type:"slash",value:"/",output:""});continue}if(v.type==="bos"&&L[0]==="/"){A.type="globstar",A.value+=k,A.output=`(?:^|${g}|${J(r)}${g})`,T.output=A.output,T.globstar=!0,Lt(k+Er()),ne({type:"slash",value:"/",output:""});continue}T.output=T.output.slice(0,-A.output.length),A.type="globstar",A.output=J(r),A.value+=k,T.output+=A.output,T.globstar=!0,Lt(k);continue}let be={type:"star",value:k,output:tt};if(r.bash===!0){be.output=".*?",(A.type==="bos"||A.type==="slash")&&(be.output=K+be.output),ne(be);continue}if(A&&(A.type==="bracket"||A.type==="paren")&&r.regex===!0){be.output=k,ne(be);continue}(T.index===T.start||A.type==="slash"||A.type==="dot")&&(A.type==="dot"?(T.output+=O,A.output+=O):r.dot===!0?(T.output+=re,A.output+=re):(T.output+=K,A.output+=K),ae()!=="*"&&(T.output+=y,A.output+=y)),ne(be)}for(;T.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(Zi("closing","]"));T.output=Kt.escapeLast(T.output,"["),Ms("brackets")}for(;T.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(Zi("closing",")"));T.output=Kt.escapeLast(T.output,"("),Ms("parens")}for(;T.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(Zi("closing","}"));T.output=Kt.escapeLast(T.output,"{"),Ms("braces")}if(r.strictSlashes!==!0&&(A.type==="star"||A.type==="bracket")&&ne({type:"maybe_slash",value:"",output:`${g}?`}),T.backtrack===!0){T.output="";for(let L of T.tokens)T.output+=L.output!=null?L.output:L.value,L.suffix&&(T.output+=L.suffix)}return T};My.fastpaths=(e,t)=>{let r={...t},n=typeof r.maxLength=="number"?Math.min(Ru,r.maxLength):Ru,s=e.length;if(s>n)throw new SyntaxError(`Input length: ${s}, exceeds maximum allowed length: ${n}`);e=bv[e]||e;let o=Kt.isWindows(t),{DOT_LITERAL:i,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:d,NO_DOT:l,NO_DOTS:f,NO_DOTS_SLASH:u,STAR:g,START_ANCHOR:y}=_u.globChars(o),S=r.dot?f:l,R=r.dot?u:l,O=r.capture?"":"?:",re={negated:!1,prefix:""},Q=r.bash===!0?".*?":g;r.capture&&(Q=`(${Q})`);let Ue=K=>K.noglobstar===!0?Q:`(${O}(?:(?!${y}${K.dot?d:i}).)*?)`,X=K=>{switch(K){case"*":return`${S}${c}${Q}`;case".*":return`${i}${c}${Q}`;case"*.*":return`${S}${Q}${i}${c}${Q}`;case"*/*":return`${S}${Q}${a}${c}${R}${Q}`;case"**":return S+Ue(r);case"**/*":return`(?:${S}${Ue(r)}${a})?${R}${c}${Q}`;case"**/*.*":return`(?:${S}${Ue(r)}${a})?${R}${Q}${i}${c}${Q}`;case"**/.*":return`(?:${S}${Ue(r)}${a})?${i}${c}${Q}`;default:{let me=/^(.*?)\.(\w+)$/.exec(K);if(!me)return;let tt=X(me[1]);return tt?tt+i+me[2]:void 0}}},Ce=Kt.removePrefix(e,re),J=X(Ce);return J&&r.strictSlashes!==!0&&(J+=`${a}?`),J};_v.exports=My});var kv=w((Ole,Av)=>{"use strict";var fq=require("path"),hq=wv(),Ly=Rv(),Fy=gc(),mq=yc(),pq=e=>e&&typeof e=="object"&&!Array.isArray(e),Fe=(e,t,r=!1)=>{if(Array.isArray(e)){let l=e.map(u=>Fe(u,t,r));return u=>{for(let g of l){let y=g(u);if(y)return y}return!1}}let n=pq(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let s=t||{},o=Fy.isWindows(t),i=n?Fe.compileRe(e,t):Fe.makeRe(e,t,!1,!0),a=i.state;delete i.state;let c=()=>!1;if(s.ignore){let l={...t,ignore:null,onMatch:null,onResult:null};c=Fe(s.ignore,l,r)}let d=(l,f=!1)=>{let{isMatch:u,match:g,output:y}=Fe.test(l,i,t,{glob:e,posix:o}),S={glob:e,state:a,regex:i,posix:o,input:l,output:y,match:g,isMatch:u};return typeof s.onResult=="function"&&s.onResult(S),u===!1?(S.isMatch=!1,f?S:!1):c(l)?(typeof s.onIgnore=="function"&&s.onIgnore(S),S.isMatch=!1,f?S:!1):(typeof s.onMatch=="function"&&s.onMatch(S),f?S:!0)};return r&&(d.state=a),d};Fe.test=(e,t,r,{glob:n,posix:s}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let o=r||{},i=o.format||(s?Fy.toPosixSlashes:null),a=e===n,c=a&&i?i(e):e;return a===!1&&(c=i?i(e):e,a=c===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=Fe.matchBase(e,t,r,s):a=t.exec(c)),{isMatch:!!a,match:a,output:c}};Fe.matchBase=(e,t,r,n=Fy.isWindows(r))=>(t instanceof RegExp?t:Fe.makeRe(t,r)).test(fq.basename(e));Fe.isMatch=(e,t,r)=>Fe(t,r)(e);Fe.parse=(e,t)=>Array.isArray(e)?e.map(r=>Fe.parse(r,t)):Ly(e,{...t,fastpaths:!1});Fe.scan=(e,t)=>hq(e,t);Fe.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let s=t||{},o=s.contains?"":"^",i=s.contains?"":"$",a=`${o}(?:${e.output})${i}`;e&&e.negated===!0&&(a=`^(?!${a}).*$`);let c=Fe.toRegex(a,t);return n===!0&&(c.state=e),c};Fe.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let s={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(s.output=Ly.fastpaths(e,t)),s.output||(s=Ly(e,t)),Fe.compileRe(s,t,r,n)};Fe.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};Fe.constants=mq;Av.exports=Fe});var Nv=w((Ile,Tv)=>{"use strict";Tv.exports=kv()});var Dv=w((Dle,Iv)=>{"use strict";var Pv=require("util"),Ov=dv(),Vr=Nv(),Uy=gc(),vv=e=>e===""||e==="./",ve=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,s=new Set,o=new Set,i=0,a=l=>{o.add(l.output),r&&r.onResult&&r.onResult(l)};for(let l=0;l<t.length;l++){let f=Vr(String(t[l]),{...r,onResult:a},!0),u=f.state.negated||f.state.negatedExtglob;u&&i++;for(let g of e){let y=f(g,!0);(u?!y.isMatch:y.isMatch)&&(u?n.add(y.output):(n.delete(y.output),s.add(y.output)))}}let d=(i===t.length?[...o]:[...s]).filter(l=>!n.has(l));if(r&&d.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(l=>l.replace(/\\/g,"")):t}return d};ve.match=ve;ve.matcher=(e,t)=>Vr(e,t);ve.isMatch=(e,t,r)=>Vr(t,r)(e);ve.any=ve.isMatch;ve.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,s=[],o=a=>{r.onResult&&r.onResult(a),s.push(a.output)},i=new Set(ve(e,t,{...r,onResult:o}));for(let a of s)i.has(a)||n.add(a);return[...n]};ve.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Pv.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>ve.contains(e,n,r));if(typeof t=="string"){if(vv(e)||vv(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return ve.isMatch(e,t,{...r,contains:!0})};ve.matchKeys=(e,t,r)=>{if(!Uy.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=ve(Object.keys(e),t,r),s={};for(let o of n)s[o]=e[o];return s};ve.some=(e,t,r)=>{let n=[].concat(e);for(let s of[].concat(t)){let o=Vr(String(s),r);if(n.some(i=>o(i)))return!0}return!1};ve.every=(e,t,r)=>{let n=[].concat(e);for(let s of[].concat(t)){let o=Vr(String(s),r);if(!n.every(i=>o(i)))return!1}return!0};ve.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${Pv.inspect(e)}"`);return[].concat(t).every(n=>Vr(n,r)(e))};ve.capture=(e,t,r)=>{let n=Uy.isWindows(r),o=Vr.makeRe(String(e),{...r,capture:!0}).exec(n?Uy.toPosixSlashes(t):t);if(o)return o.slice(1).map(i=>i===void 0?"":i)};ve.makeRe=(...e)=>Vr.makeRe(...e);ve.scan=(...e)=>Vr.scan(...e);ve.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let s of Ov(String(n),t))r.push(Vr.parse(s,t));return r};ve.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:Ov(e,t)};ve.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return ve.braces(e,{...t,expand:!0})};Iv.exports=ve});var qv=w(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.matchAny=Y.convertPatternsToRe=Y.makeRe=Y.getPatternParts=Y.expandBraceExpansion=Y.expandPatternsWithBraceExpansion=Y.isAffectDepthOfReadingPattern=Y.endsWithSlashGlobStar=Y.hasGlobStar=Y.getBaseDirectory=Y.isPatternRelatedToParentDirectory=Y.getPatternsOutsideCurrentDirectory=Y.getPatternsInsideCurrentDirectory=Y.getPositivePatterns=Y.getNegativePatterns=Y.isPositivePattern=Y.isNegativePattern=Y.convertToNegativePattern=Y.convertToPositivePattern=Y.isDynamicPattern=Y.isStaticPattern=void 0;var yq=require("path"),gq=AN(),zy=Dv(),Bv="**",Eq="\\",xq=/[*?]|^!/,Cq=/\[[^[]*]/,Sq=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,wq=/[!*+?@]\([^(]*\)/,bq=/,|\.\./;function Mv(e,t={}){return!Lv(e,t)}Y.isStaticPattern=Mv;function Lv(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(Eq)||xq.test(e)||Cq.test(e)||Sq.test(e)||t.extglob!==!1&&wq.test(e)||t.braceExpansion!==!1&&_q(e))}Y.isDynamicPattern=Lv;function _q(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return bq.test(n)}function Rq(e){return Au(e)?e.slice(1):e}Y.convertToPositivePattern=Rq;function Aq(e){return"!"+e}Y.convertToNegativePattern=Aq;function Au(e){return e.startsWith("!")&&e[1]!=="("}Y.isNegativePattern=Au;function Fv(e){return!Au(e)}Y.isPositivePattern=Fv;function kq(e){return e.filter(Au)}Y.getNegativePatterns=kq;function Tq(e){return e.filter(Fv)}Y.getPositivePatterns=Tq;function Nq(e){return e.filter(t=>!$y(t))}Y.getPatternsInsideCurrentDirectory=Nq;function vq(e){return e.filter($y)}Y.getPatternsOutsideCurrentDirectory=vq;function $y(e){return e.startsWith("..")||e.startsWith("./..")}Y.isPatternRelatedToParentDirectory=$y;function Pq(e){return gq(e,{flipBackslashes:!1})}Y.getBaseDirectory=Pq;function Oq(e){return e.includes(Bv)}Y.hasGlobStar=Oq;function Uv(e){return e.endsWith("/"+Bv)}Y.endsWithSlashGlobStar=Uv;function Iq(e){let t=yq.basename(e);return Uv(e)||Mv(t)}Y.isAffectDepthOfReadingPattern=Iq;function Dq(e){return e.reduce((t,r)=>t.concat(zv(r)),[])}Y.expandPatternsWithBraceExpansion=Dq;function zv(e){return zy.braces(e,{expand:!0,nodupes:!0})}Y.expandBraceExpansion=zv;function Bq(e,t){let{parts:r}=zy.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}Y.getPatternParts=Bq;function $v(e,t){return zy.makeRe(e,t)}Y.makeRe=$v;function Mq(e,t){return e.map(r=>$v(r,t))}Y.convertPatternsToRe=Mq;function Lq(e,t){return t.some(r=>r.test(e))}Y.matchAny=Lq});var jv=w(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.merge=void 0;var Fq=Sy();function Uq(e){let t=Fq(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>Hv(e)),t.once("end",()=>Hv(e)),t}ku.merge=Uq;function Hv(e){e.forEach(t=>t.emit("close"))}});var Gv=w(Ji=>{"use strict";Object.defineProperty(Ji,"__esModule",{value:!0});Ji.isEmpty=Ji.isString=void 0;function zq(e){return typeof e=="string"}Ji.isString=zq;function $q(e){return e===""}Ji.isEmpty=$q});var _n=w(gt=>{"use strict";Object.defineProperty(gt,"__esModule",{value:!0});gt.string=gt.stream=gt.pattern=gt.path=gt.fs=gt.errno=gt.array=void 0;var qq=yN();gt.array=qq;var Hq=gN();gt.errno=Hq;var jq=EN();gt.fs=jq;var Gq=xN();gt.path=Gq;var Kq=qv();gt.pattern=Kq;var Vq=jv();gt.stream=Vq;var Wq=Gv();gt.string=Wq});var Wv=w(Et=>{"use strict";Object.defineProperty(Et,"__esModule",{value:!0});Et.convertPatternGroupToTask=Et.convertPatternGroupsToTasks=Et.groupPatternsByBaseDirectory=Et.getNegativePatternsAsPositive=Et.getPositivePatterns=Et.convertPatternsToTasks=Et.generate=void 0;var Rn=_n();function Yq(e,t){let r=Kv(e),n=Vv(e,t.ignore),s=r.filter(c=>Rn.pattern.isStaticPattern(c,t)),o=r.filter(c=>Rn.pattern.isDynamicPattern(c,t)),i=qy(s,n,!1),a=qy(o,n,!0);return i.concat(a)}Et.generate=Yq;function qy(e,t,r){let n=[],s=Rn.pattern.getPatternsOutsideCurrentDirectory(e),o=Rn.pattern.getPatternsInsideCurrentDirectory(e),i=Hy(s),a=Hy(o);return n.push(...jy(i,t,r)),"."in a?n.push(Gy(".",o,t,r)):n.push(...jy(a,t,r)),n}Et.convertPatternsToTasks=qy;function Kv(e){return Rn.pattern.getPositivePatterns(e)}Et.getPositivePatterns=Kv;function Vv(e,t){return Rn.pattern.getNegativePatterns(e).concat(t).map(Rn.pattern.convertToPositivePattern)}Et.getNegativePatternsAsPositive=Vv;function Hy(e){let t={};return e.reduce((r,n)=>{let s=Rn.pattern.getBaseDirectory(n);return s in r?r[s].push(n):r[s]=[n],r},t)}Et.groupPatternsByBaseDirectory=Hy;function jy(e,t,r){return Object.keys(e).map(n=>Gy(n,e[n],t,r))}Et.convertPatternGroupsToTasks=jy;function Gy(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(Rn.pattern.convertToNegativePattern))}}Et.convertPatternGroupToTask=Gy});var Xv=w(ea=>{"use strict";Object.defineProperty(ea,"__esModule",{value:!0});ea.removeDuplicateSlashes=ea.transform=void 0;var Xq=/(?!^)\/{2,}/g;function Qq(e){return e.map(t=>Yv(t))}ea.transform=Qq;function Yv(e){return e.replace(Xq,"/")}ea.removeDuplicateSlashes=Yv});var Zv=w(Tu=>{"use strict";Object.defineProperty(Tu,"__esModule",{value:!0});Tu.read=void 0;function Zq(e,t,r){t.fs.lstat(e,(n,s)=>{if(n!==null){Qv(r,n);return}if(!s.isSymbolicLink()||!t.followSymbolicLink){Ky(r,s);return}t.fs.stat(e,(o,i)=>{if(o!==null){if(t.throwErrorOnBrokenSymbolicLink){Qv(r,o);return}Ky(r,s);return}t.markSymbolicLink&&(i.isSymbolicLink=()=>!0),Ky(r,i)})})}Tu.read=Zq;function Qv(e,t){e(t)}function Ky(e,t){e(null,t)}});var Jv=w(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.read=void 0;function Jq(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Nu.read=Jq});var eP=w(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.createFileSystemAdapter=vs.FILE_SYSTEM_ADAPTER=void 0;var vu=require("fs");vs.FILE_SYSTEM_ADAPTER={lstat:vu.lstat,stat:vu.stat,lstatSync:vu.lstatSync,statSync:vu.statSync};function eH(e){return e===void 0?vs.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},vs.FILE_SYSTEM_ADAPTER),e)}vs.createFileSystemAdapter=eH});var tP=w(Wy=>{"use strict";Object.defineProperty(Wy,"__esModule",{value:!0});var tH=eP(),Vy=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=tH.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};Wy.default=Vy});var Eo=w(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.statSync=Ps.stat=Ps.Settings=void 0;var rP=Zv(),rH=Jv(),Yy=tP();Ps.Settings=Yy.default;function nH(e,t,r){if(typeof t=="function"){rP.read(e,Xy(),t);return}rP.read(e,Xy(t),r)}Ps.stat=nH;function sH(e,t){let r=Xy(t);return rH.read(e,r)}Ps.statSync=sH;function Xy(e={}){return e instanceof Yy.default?e:new Yy.default(e)}});var oP=w((Kle,sP)=>{var nP;sP.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(nP||(nP=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var aP=w((Vle,iP)=>{iP.exports=iH;var oH=oP();function iH(e,t){let r,n,s,o=!0;Array.isArray(e)?(r=[],n=e.length):(s=Object.keys(e),r={},n=s.length);function i(c){function d(){t&&t(c,r),t=null}o?oH(d):d()}function a(c,d,l){r[c]=l,(--n===0||d)&&i(d)}n?s?s.forEach(function(c){e[c](function(d,l){a(c,d,l)})}):e.forEach(function(c,d){c(function(l,f){a(d,l,f)})}):i(null),o=!1}});var Qy=w(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Pu=process.versions.node.split(".");if(Pu[0]===void 0||Pu[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var cP=Number.parseInt(Pu[0],10),aH=Number.parseInt(Pu[1],10),dP=10,cH=10,dH=cP>dP,lH=cP===dP&&aH>=cH;Ou.IS_SUPPORT_READDIR_WITH_FILE_TYPES=dH||lH});var lP=w(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.createDirentFromStats=void 0;var Zy=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function uH(e,t){return new Zy(e,t)}Iu.createDirentFromStats=uH});var Jy=w(Du=>{"use strict";Object.defineProperty(Du,"__esModule",{value:!0});Du.fs=void 0;var fH=lP();Du.fs=fH});var eg=w(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.joinPathSegments=void 0;function hH(e,t,r){return e.endsWith(r)?e+t:e+r+t}Bu.joinPathSegments=hH});var yP=w(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.readdir=Os.readdirWithFileTypes=Os.read=void 0;var mH=Eo(),uP=aP(),pH=Qy(),fP=Jy(),hP=eg();function yH(e,t,r){if(!t.stats&&pH.IS_SUPPORT_READDIR_WITH_FILE_TYPES){mP(e,t,r);return}pP(e,t,r)}Os.read=yH;function mP(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,s)=>{if(n!==null){Mu(r,n);return}let o=s.map(a=>({dirent:a,name:a.name,path:hP.joinPathSegments(e,a.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){tg(r,o);return}let i=o.map(a=>gH(a,t));uP(i,(a,c)=>{if(a!==null){Mu(r,a);return}tg(r,c)})})}Os.readdirWithFileTypes=mP;function gH(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,s)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=fP.fs.createDirentFromStats(e.name,s),r(null,e)})}}function pP(e,t,r){t.fs.readdir(e,(n,s)=>{if(n!==null){Mu(r,n);return}let o=s.map(i=>{let a=hP.joinPathSegments(e,i,t.pathSegmentSeparator);return c=>{mH.stat(a,t.fsStatSettings,(d,l)=>{if(d!==null){c(d);return}let f={name:i,path:a,dirent:fP.fs.createDirentFromStats(i,l)};t.stats&&(f.stats=l),c(null,f)})}});uP(o,(i,a)=>{if(i!==null){Mu(r,i);return}tg(r,a)})})}Os.readdir=pP;function Mu(e,t){e(t)}function tg(e,t){e(null,t)}});var SP=w(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});Is.readdir=Is.readdirWithFileTypes=Is.read=void 0;var EH=Eo(),xH=Qy(),gP=Jy(),EP=eg();function CH(e,t){return!t.stats&&xH.IS_SUPPORT_READDIR_WITH_FILE_TYPES?xP(e,t):CP(e,t)}Is.read=CH;function xP(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let s={dirent:n,name:n.name,path:EP.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(s.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let o=t.fs.statSync(s.path);s.dirent=gP.fs.createDirentFromStats(s.name,o)}catch(o){if(t.throwErrorOnBrokenSymbolicLink)throw o}return s})}Is.readdirWithFileTypes=xP;function CP(e,t){return t.fs.readdirSync(e).map(n=>{let s=EP.joinPathSegments(e,n,t.pathSegmentSeparator),o=EH.statSync(s,t.fsStatSettings),i={name:n,path:s,dirent:gP.fs.createDirentFromStats(n,o)};return t.stats&&(i.stats=o),i})}Is.readdir=CP});var wP=w(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});Ds.createFileSystemAdapter=Ds.FILE_SYSTEM_ADAPTER=void 0;var ta=require("fs");Ds.FILE_SYSTEM_ADAPTER={lstat:ta.lstat,stat:ta.stat,lstatSync:ta.lstatSync,statSync:ta.statSync,readdir:ta.readdir,readdirSync:ta.readdirSync};function SH(e){return e===void 0?Ds.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Ds.FILE_SYSTEM_ADAPTER),e)}Ds.createFileSystemAdapter=SH});var bP=w(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});var wH=require("path"),bH=Eo(),_H=wP(),rg=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=_H.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,wH.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new bH.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};ng.default=rg});var Lu=w(Bs=>{"use strict";Object.defineProperty(Bs,"__esModule",{value:!0});Bs.Settings=Bs.scandirSync=Bs.scandir=void 0;var _P=yP(),RH=SP(),sg=bP();Bs.Settings=sg.default;function AH(e,t,r){if(typeof t=="function"){_P.read(e,og(),t);return}_P.read(e,og(t),r)}Bs.scandir=AH;function kH(e,t){let r=og(t);return RH.read(e,r)}Bs.scandirSync=kH;function og(e={}){return e instanceof sg.default?e:new sg.default(e)}});var AP=w((nue,RP)=>{"use strict";function TH(e){var t=new e,r=t;function n(){var o=t;return o.next?t=o.next:(t=new e,r=t),o.next=null,o}function s(o){r.next=o,r=o}return{get:n,release:s}}RP.exports=TH});var TP=w((sue,ig)=>{"use strict";var NH=AP();function kP(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=NH(vH),s=null,o=null,i=0,a=null,c={push:S,drain:fr,saturated:fr,pause:l,paused:!1,concurrency:r,running:d,resume:g,idle:y,length:f,getQueue:u,unshift:R,empty:fr,kill:re,killAndDrain:Q,error:Ue};return c;function d(){return i}function l(){c.paused=!0}function f(){for(var X=s,Ce=0;X;)X=X.next,Ce++;return Ce}function u(){for(var X=s,Ce=[];X;)Ce.push(X.value),X=X.next;return Ce}function g(){if(c.paused){c.paused=!1;for(var X=0;X<c.concurrency;X++)i++,O()}}function y(){return i===0&&c.length()===0}function S(X,Ce){var J=n.get();J.context=e,J.release=O,J.value=X,J.callback=Ce||fr,J.errorHandler=a,i===c.concurrency||c.paused?o?(o.next=J,o=J):(s=J,o=J,c.saturated()):(i++,t.call(e,J.value,J.worked))}function R(X,Ce){var J=n.get();J.context=e,J.release=O,J.value=X,J.callback=Ce||fr,i===c.concurrency||c.paused?s?(J.next=s,s=J):(s=J,o=J,c.saturated()):(i++,t.call(e,J.value,J.worked))}function O(X){X&&n.release(X);var Ce=s;Ce?c.paused?i--:(o===s&&(o=null),s=Ce.next,Ce.next=null,t.call(e,Ce.value,Ce.worked),o===null&&c.empty()):--i===0&&c.drain()}function re(){s=null,o=null,c.drain=fr}function Q(){s=null,o=null,c.drain(),c.drain=fr}function Ue(X){a=X}}function fr(){}function vH(){this.value=null,this.callback=fr,this.next=null,this.release=fr,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var s=e.callback,o=e.errorHandler,i=e.value;e.value=null,e.callback=fr,e.errorHandler&&o(r,i),s.call(e.context,r,n),e.release(e)}}function PH(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(l,f){t.call(this,l).then(function(u){f(null,u)},f)}var s=kP(e,n,r),o=s.push,i=s.unshift;return s.push=a,s.unshift=c,s.drained=d,s;function a(l){var f=new Promise(function(u,g){o(l,function(y,S){if(y){g(y);return}u(S)})});return f.catch(fr),f}function c(l){var f=new Promise(function(u,g){i(l,function(y,S){if(y){g(y);return}u(S)})});return f.catch(fr),f}function d(){if(s.idle())return new Promise(function(u){u()});var l=s.drain,f=new Promise(function(u){s.drain=function(){l(),u()}});return f}}ig.exports=kP;ig.exports.promise=PH});var Fu=w(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.joinPathSegments=Wr.replacePathSegmentSeparator=Wr.isAppliedFilter=Wr.isFatalError=void 0;function OH(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}Wr.isFatalError=OH;function IH(e,t){return e===null||e(t)}Wr.isAppliedFilter=IH;function DH(e,t){return e.split(/[/\\]/).join(t)}Wr.replacePathSegmentSeparator=DH;function BH(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}Wr.joinPathSegments=BH});var dg=w(cg=>{"use strict";Object.defineProperty(cg,"__esModule",{value:!0});var MH=Fu(),ag=class{constructor(t,r){this._root=t,this._settings=r,this._root=MH.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};cg.default=ag});var fg=w(ug=>{"use strict";Object.defineProperty(ug,"__esModule",{value:!0});var LH=require("events"),FH=Lu(),UH=TP(),Uu=Fu(),zH=dg(),lg=class extends zH.default{constructor(t,r){super(t,r),this._settings=r,this._scandir=FH.scandir,this._emitter=new LH.EventEmitter,this._queue=UH(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,s=>{s!==null&&this._handleError(s)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,s)=>{if(n!==null){r(n,void 0);return}for(let o of s)this._handleEntry(o,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!Uu.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=Uu.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),Uu.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&Uu.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};ug.default=lg});var NP=w(mg=>{"use strict";Object.defineProperty(mg,"__esModule",{value:!0});var $H=fg(),hg=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new $H.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{qH(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{HH(t,this._storage)}),this._reader.read()}};mg.default=hg;function qH(e,t){e(t)}function HH(e,t){e(null,t)}});var vP=w(yg=>{"use strict";Object.defineProperty(yg,"__esModule",{value:!0});var jH=require("stream"),GH=fg(),pg=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new GH.default(this._root,this._settings),this._stream=new jH.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};yg.default=pg});var PP=w(Eg=>{"use strict";Object.defineProperty(Eg,"__esModule",{value:!0});var KH=Lu(),zu=Fu(),VH=dg(),gg=class extends VH.default{constructor(){super(...arguments),this._scandir=KH.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let s of n)this._handleEntry(s,r)}catch(n){this._handleError(n)}}_handleError(t){if(zu.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=zu.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),zu.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&zu.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};Eg.default=gg});var OP=w(Cg=>{"use strict";Object.defineProperty(Cg,"__esModule",{value:!0});var WH=PP(),xg=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new WH.default(this._root,this._settings)}read(){return this._reader.read()}};Cg.default=xg});var IP=w(wg=>{"use strict";Object.defineProperty(wg,"__esModule",{value:!0});var YH=require("path"),XH=Lu(),Sg=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,YH.sep),this.fsScandirSettings=new XH.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};wg.default=Sg});var qu=w(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.Settings=Yr.walkStream=Yr.walkSync=Yr.walk=void 0;var DP=NP(),QH=vP(),ZH=OP(),bg=IP();Yr.Settings=bg.default;function JH(e,t,r){if(typeof t=="function"){new DP.default(e,$u()).read(t);return}new DP.default(e,$u(t)).read(r)}Yr.walk=JH;function ej(e,t){let r=$u(t);return new ZH.default(e,r).read()}Yr.walkSync=ej;function tj(e,t){let r=$u(t);return new QH.default(e,r).read()}Yr.walkStream=tj;function $u(e={}){return e instanceof bg.default?e:new bg.default(e)}});var Hu=w(Rg=>{"use strict";Object.defineProperty(Rg,"__esModule",{value:!0});var rj=require("path"),nj=Eo(),BP=_n(),_g=class{constructor(t){this._settings=t,this._fsStatSettings=new nj.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return rj.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:BP.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!BP.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Rg.default=_g});var Tg=w(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});var sj=require("stream"),oj=Eo(),ij=qu(),aj=Hu(),Ag=class extends aj.default{constructor(){super(...arguments),this._walkStream=ij.walkStream,this._stat=oj.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),s=new sj.PassThrough({objectMode:!0});s._write=(o,i,a)=>this._getEntry(n[o],t[o],r).then(c=>{c!==null&&r.entryFilter(c)&&s.push(c),o===n.length-1&&s.end(),a()}).catch(a);for(let o=0;o<n.length;o++)s.write(o);return s}_getEntry(t,r,n){return this._getStat(t).then(s=>this._makeEntry(s,r)).catch(s=>{if(n.errorFilter(s))return null;throw s})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(s,o)=>s===null?r(o):n(s))})}};kg.default=Ag});var MP=w(vg=>{"use strict";Object.defineProperty(vg,"__esModule",{value:!0});var cj=qu(),dj=Hu(),lj=Tg(),Ng=class extends dj.default{constructor(){super(...arguments),this._walkAsync=cj.walk,this._readerStream=new lj.default(this._settings)}dynamic(t,r){return new Promise((n,s)=>{this._walkAsync(t,r,(o,i)=>{o===null?n(i):s(o)})})}async static(t,r){let n=[],s=this._readerStream.static(t,r);return new Promise((o,i)=>{s.once("error",i),s.on("data",a=>n.push(a)),s.once("end",()=>o(n))})}};vg.default=Ng});var LP=w(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});var ra=_n(),Pg=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=ra.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),s=this._splitSegmentsIntoSections(n);this._storage.push({complete:s.length<=1,pattern:r,segments:n,sections:s})}}_getPatternSegments(t){return ra.pattern.getPatternParts(t,this._micromatchOptions).map(n=>ra.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:ra.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return ra.array.splitWhen(t,r=>r.dynamic&&ra.pattern.hasGlobStar(r.pattern))}};Og.default=Pg});var FP=w(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});var uj=LP(),Ig=class extends uj.default{match(t){let r=t.split("/"),n=r.length,s=this._storage.filter(o=>!o.complete||o.segments.length>n);for(let o of s){let i=o.sections[0];if(!o.complete&&n>i.length||r.every((c,d)=>{let l=o.segments[d];return!!(l.dynamic&&l.patternRe.test(c)||!l.dynamic&&l.pattern===c)}))return!0}return!1}};Dg.default=Ig});var UP=w(Mg=>{"use strict";Object.defineProperty(Mg,"__esModule",{value:!0});var ju=_n(),fj=FP(),Bg=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let s=this._getMatcher(r),o=this._getNegativePatternsRe(n);return i=>this._filter(t,i,s,o)}_getMatcher(t){return new fj.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(ju.pattern.isAffectDepthOfReadingPattern);return ju.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,s){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let o=ju.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(o,n)?!1:this._isSkippedByNegativePatterns(o,s)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let s=t.split("/").length;return n-s}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!ju.pattern.matchAny(t,r)}};Mg.default=Bg});var zP=w(Fg=>{"use strict";Object.defineProperty(Fg,"__esModule",{value:!0});var xo=_n(),Lg=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=xo.pattern.convertPatternsToRe(t,this._micromatchOptions),s=xo.pattern.convertPatternsToRe(r,this._micromatchOptions);return o=>this._filter(o,n,s)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let s=this._settings.baseNameMatch?t.name:t.path,o=t.dirent.isDirectory(),i=this._isMatchToPatterns(s,r,o)&&!this._isMatchToPatterns(t.path,n,o);return this._settings.unique&&i&&this._createIndexRecord(t),i}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=xo.path.makeAbsolute(this._settings.cwd,t);return xo.pattern.matchAny(n,r)}_isMatchToPatterns(t,r,n){let s=xo.path.removeLeadingDotSegment(t),o=xo.pattern.matchAny(s,r);return!o&&n?xo.pattern.matchAny(s+"/",r):o}};Fg.default=Lg});var $P=w(zg=>{"use strict";Object.defineProperty(zg,"__esModule",{value:!0});var hj=_n(),Ug=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return hj.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};zg.default=Ug});var HP=w(qg=>{"use strict";Object.defineProperty(qg,"__esModule",{value:!0});var qP=_n(),$g=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=qP.path.makeAbsolute(this._settings.cwd,r),r=qP.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};qg.default=$g});var Gu=w(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});var mj=require("path"),pj=UP(),yj=zP(),gj=$P(),Ej=HP(),Hg=class{constructor(t){this._settings=t,this.errorFilter=new gj.default(this._settings),this.entryFilter=new yj.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new pj.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new Ej.default(this._settings)}_getRootDirectory(t){return mj.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};jg.default=Hg});var jP=w(Kg=>{"use strict";Object.defineProperty(Kg,"__esModule",{value:!0});var xj=MP(),Cj=Gu(),Gg=class extends Cj.default{constructor(){super(...arguments),this._reader=new xj.default(this._settings)}async read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return(await this.api(r,t,n)).map(o=>n.transform(o))}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Kg.default=Gg});var GP=w(Wg=>{"use strict";Object.defineProperty(Wg,"__esModule",{value:!0});var Sj=require("stream"),wj=Tg(),bj=Gu(),Vg=class extends bj.default{constructor(){super(...arguments),this._reader=new wj.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),s=this.api(r,t,n),o=new Sj.Readable({objectMode:!0,read:()=>{}});return s.once("error",i=>o.emit("error",i)).on("data",i=>o.emit("data",n.transform(i))).once("end",()=>o.emit("end")),o.once("close",()=>s.destroy()),o}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Wg.default=Vg});var KP=w(Xg=>{"use strict";Object.defineProperty(Xg,"__esModule",{value:!0});var _j=Eo(),Rj=qu(),Aj=Hu(),Yg=class extends Aj.default{constructor(){super(...arguments),this._walkSync=Rj.walkSync,this._statSync=_j.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let s of t){let o=this._getFullEntryPath(s),i=this._getEntry(o,s,r);i===null||!r.entryFilter(i)||n.push(i)}return n}_getEntry(t,r,n){try{let s=this._getStat(t);return this._makeEntry(s,r)}catch(s){if(n.errorFilter(s))return null;throw s}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};Xg.default=Yg});var VP=w(Zg=>{"use strict";Object.defineProperty(Zg,"__esModule",{value:!0});var kj=KP(),Tj=Gu(),Qg=class extends Tj.default{constructor(){super(...arguments),this._reader=new kj.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Zg.default=Qg});var WP=w(sa=>{"use strict";Object.defineProperty(sa,"__esModule",{value:!0});sa.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var na=require("fs"),Nj=require("os"),vj=Math.max(Nj.cpus().length,1);sa.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:na.lstat,lstatSync:na.lstatSync,stat:na.stat,statSync:na.statSync,readdir:na.readdir,readdirSync:na.readdirSync};var Jg=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,vj),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},sa.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};sa.default=Jg});var nE=w((Nue,QP)=>{"use strict";var YP=Wv(),XP=Xv(),Pj=jP(),Oj=GP(),Ij=VP(),eE=WP(),Co=_n();async function tE(e,t){oa(e);let r=rE(e,Pj.default,t),n=await Promise.all(r);return Co.array.flatten(n)}(function(e){function t(i,a){oa(i);let c=rE(i,Ij.default,a);return Co.array.flatten(c)}e.sync=t;function r(i,a){oa(i);let c=rE(i,Oj.default,a);return Co.stream.merge(c)}e.stream=r;function n(i,a){oa(i);let c=XP.transform([].concat(i)),d=new eE.default(a);return YP.generate(c,d)}e.generateTasks=n;function s(i,a){oa(i);let c=new eE.default(a);return Co.pattern.isDynamicPattern(i,c)}e.isDynamicPattern=s;function o(i){return oa(i),Co.path.escape(i)}e.escapePath=o})(tE||(tE={}));function rE(e,t,r){let n=XP.transform([].concat(e)),s=new eE.default(r),o=YP.generate(n,s),i=new t(s);return o.map(i.read,i)}function oa(e){if(![].concat(e).every(n=>Co.string.isString(n)&&!Co.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}QP.exports=tE});var JP=w(So=>{"use strict";var{promisify:Dj}=require("util"),ZP=require("fs");async function sE(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await Dj(ZP[e])(r))[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function oE(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return ZP[e](r)[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}So.isFile=sE.bind(null,"stat","isFile");So.isDirectory=sE.bind(null,"stat","isDirectory");So.isSymlink=sE.bind(null,"lstat","isSymbolicLink");So.isFileSync=oE.bind(null,"statSync","isFile");So.isDirectorySync=oE.bind(null,"statSync","isDirectory");So.isSymlinkSync=oE.bind(null,"lstatSync","isSymbolicLink")});var sO=w((Pue,iE)=>{"use strict";var wo=require("path"),eO=JP(),tO=e=>e.length>1?`{${e.join(",")}}`:e[0],rO=(e,t)=>{let r=e[0]==="!"?e.slice(1):e;return wo.isAbsolute(r)?r:wo.join(t,r)},Bj=(e,t)=>wo.extname(e)?`**/${e}`:`**/${e}.${tO(t)}`,nO=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(r=>wo.posix.join(e,Bj(r,t.extensions))):t.files?t.files.map(r=>wo.posix.join(e,`**/${r}`)):t.extensions?[wo.posix.join(e,`**/*.${tO(t.extensions)}`)]:[wo.posix.join(e,"**")]};iE.exports=async(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=await Promise.all([].concat(e).map(async n=>await eO.isDirectory(rO(n,t.cwd))?nO(n,t):n));return[].concat.apply([],r)};iE.exports.sync=(e,t)=>{if(t={cwd:process.cwd(),...t},typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=[].concat(e).map(n=>eO.isDirectorySync(rO(n,t.cwd))?nO(n,t):n);return[].concat.apply([],r)}});var mO=w((Oue,hO)=>{function oO(e){return Array.isArray(e)?e:[e]}var dO="",iO=" ",aE="\\",Mj=/^\s+$/,Lj=/(?:[^\\]|^)\\$/,Fj=/^\\!/,Uj=/^\\#/,zj=/\r?\n/g,$j=/^\.*\/|^\.+$/,cE="/",lO="node-ignore";typeof Symbol<"u"&&(lO=Symbol.for("node-ignore"));var aO=lO,qj=(e,t,r)=>Object.defineProperty(e,t,{value:r}),Hj=/([0-z])-([0-z])/g,uO=()=>!1,jj=e=>e.replace(Hj,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:dO),Gj=e=>{let{length:t}=e;return e.slice(0,t-t%2)},Kj=[[/\\?\s+$/,e=>e.indexOf("\\")===0?iO:dO],[/\\\s/g,()=>iO],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,r)=>{let n=r.replace(/\\\*/g,"[^\\/]*");return t+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>aE],[/\\\\/g,()=>aE],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,s)=>t===aE?`\\[${r}${Gj(n)}${s}`:s==="]"&&n.length%2===0?`[${jj(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],cO=Object.create(null),Vj=(e,t)=>{let r=cO[e];return r||(r=Kj.reduce((n,s)=>n.replace(s[0],s[1].bind(e)),e),cO[e]=r),t?new RegExp(r,"i"):new RegExp(r)},uE=e=>typeof e=="string",Wj=e=>e&&uE(e)&&!Mj.test(e)&&!Lj.test(e)&&e.indexOf("#")!==0,Yj=e=>e.split(zj),dE=class{constructor(t,r,n,s){this.origin=t,this.pattern=r,this.negative=n,this.regex=s}},Xj=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(Fj,"!").replace(Uj,"#");let s=Vj(e,t);return new dE(r,e,n,s)},Qj=(e,t)=>{throw new t(e)},An=(e,t,r)=>uE(e)?e?An.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),fO=e=>$j.test(e);An.isNotRelative=fO;An.convert=e=>e;var lE=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){qj(this,aO,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[aO]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(Wj(t)){let r=Xj(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,oO(uE(t)?Yj(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,s=!1;return this._rules.forEach(o=>{let{negative:i}=o;if(s===i&&n!==s||i&&!n&&!s&&!r)return;o.regex.test(t)&&(n=!i,s=i)}),{ignored:n,unignored:s}}_test(t,r,n,s){let o=t&&An.convert(t);return An(o,t,this._allowRelativePaths?uO:Qj),this._t(o,r,n,s)}_t(t,r,n,s){if(t in r)return r[t];if(s||(s=t.split(cE)),s.pop(),!s.length)return r[t]=this._testOne(t,n);let o=this._t(s.join(cE)+cE,r,n,s);return r[t]=o.ignored?o:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return oO(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Ku=e=>new lE(e),Zj=e=>An(e&&An.convert(e),e,uO);Ku.isPathValid=Zj;Ku.default=Ku;hO.exports=Ku;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");An.convert=e;let t=/^[a-z]:\//i;An.isNotRelative=r=>t.test(r)||fO(r)}});var yO=w((Iue,pO)=>{"use strict";pO.exports=e=>{let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}});var bO=w((Due,fE)=>{"use strict";var{promisify:Jj}=require("util"),gO=require("fs"),kn=require("path"),EO=nE(),eG=mO(),xc=yO(),xO=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],tG=Jj(gO.readFile),rG=e=>t=>t.startsWith("!")?"!"+kn.posix.join(e,t.slice(1)):kn.posix.join(e,t),nG=(e,t)=>{let r=xc(kn.relative(t.cwd,kn.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(rG(r))},CO=e=>{let t=eG();for(let r of e)t.add(nG(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},sG=(e,t)=>{if(e=xc(e),kn.isAbsolute(t)){if(xc(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return kn.join(e,t)},SO=(e,t)=>r=>e.ignores(xc(kn.relative(t,sG(t,r.path||r)))),oG=async(e,t)=>{let r=kn.join(t,e),n=await tG(r,"utf8");return{cwd:t,filePath:r,content:n}},iG=(e,t)=>{let r=kn.join(t,e),n=gO.readFileSync(r,"utf8");return{cwd:t,filePath:r,content:n}},wO=({ignore:e=[],cwd:t=xc(process.cwd())}={})=>({ignore:e,cwd:t});fE.exports=async e=>{e=wO(e);let t=await EO("**/.gitignore",{ignore:xO.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map(s=>oG(s,e.cwd))),n=CO(r);return SO(n,e.cwd)};fE.exports.sync=e=>{e=wO(e);let r=EO.sync("**/.gitignore",{ignore:xO.concat(e.ignore),cwd:e.cwd}).map(s=>iG(s,e.cwd)),n=CO(r);return SO(n,e.cwd)}});var RO=w((Bue,_O)=>{"use strict";var{Transform:aG}=require("stream"),Vu=class extends aG{constructor(){super({objectMode:!0})}},hE=class extends Vu{constructor(t){super(),this._filter=t}_transform(t,r,n){this._filter(t)&&this.push(t),n()}},mE=class extends Vu{constructor(){super(),this._pushed=new Set}_transform(t,r,n){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),n()}};_O.exports={FilterStream:hE,UniqueStream:mE}});var vO=w((Mue,bo)=>{"use strict";var kO=require("fs"),Wu=fN(),cG=Sy(),Yu=nE(),Xu=sO(),pE=bO(),{FilterStream:dG,UniqueStream:lG}=RO(),TO=()=>!1,AO=e=>e[0]==="!",uG=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},fG=(e={})=>{if(!e.cwd)return;let t;try{t=kO.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},hG=e=>e.stats instanceof kO.Stats?e.path:e,Qu=(e,t)=>{e=Wu([].concat(e)),uG(e),fG(t);let r=[];t={ignore:[],expandDirectories:!0,...t};for(let[n,s]of e.entries()){if(AO(s))continue;let o=e.slice(n).filter(a=>AO(a)).map(a=>a.slice(1)),i={...t,ignore:t.ignore.concat(o)};r.push({pattern:s,options:i})}return r},mG=(e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r={...r,files:e.options.expandDirectories}:typeof e.options.expandDirectories=="object"&&(r={...r,...e.options.expandDirectories}),t(e.pattern,r)},yE=(e,t)=>e.options.expandDirectories?mG(e,t):[e.pattern],NO=e=>e&&e.gitignore?pE.sync({cwd:e.cwd,ignore:e.ignore}):TO,gE=e=>t=>{let{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=Xu.sync(r.ignore)),{pattern:t,options:r}};bo.exports=async(e,t)=>{let r=Qu(e,t),n=async()=>t&&t.gitignore?pE({cwd:t.cwd,ignore:t.ignore}):TO,s=async()=>{let c=await Promise.all(r.map(async d=>{let l=await yE(d,Xu);return Promise.all(l.map(gE(d)))}));return Wu(...c)},[o,i]=await Promise.all([n(),s()]),a=await Promise.all(i.map(c=>Yu(c.pattern,c.options)));return Wu(...a).filter(c=>!o(hG(c)))};bo.exports.sync=(e,t)=>{let r=Qu(e,t),n=[];for(let i of r){let a=yE(i,Xu.sync).map(gE(i));n.push(...a)}let s=NO(t),o=[];for(let i of n)o=Wu(o,Yu.sync(i.pattern,i.options));return o.filter(i=>!s(i))};bo.exports.stream=(e,t)=>{let r=Qu(e,t),n=[];for(let a of r){let c=yE(a,Xu.sync).map(gE(a));n.push(...c)}let s=NO(t),o=new dG(a=>!s(a)),i=new lG;return cG(n.map(a=>Yu.stream(a.pattern,a.options))).pipe(o).pipe(i)};bo.exports.generateGlobTasks=Qu;bo.exports.hasMagic=(e,t)=>[].concat(e).some(r=>Yu.isDynamicPattern(r,t));bo.exports.gitignore=pE});var PO=require("path"),OO=require("stream"),Xr=Vt(gf());var Ex=async e=>{let t=(e==null?void 0:e.Bucket)||"";if(typeof e.Bucket=="string"&&(e.Bucket=t.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),xD(t)){if(e.ForcePathStyle===!0)throw new Error("Path-style addressing cannot be used with ARN buckets")}else(!ED(t)||t.indexOf(".")!==-1&&!String(e.Endpoint).startsWith("http:")||t.toLowerCase()!==t||t.length<3)&&(e.ForcePathStyle=!0);return e.DisableMultiRegionAccessPoints&&(e.disableMultiRegionAccessPoints=!0,e.DisableMRAP=!0),e},pD=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,yD=/(\d+\.){3}\d+/,gD=/\.\./;var ED=e=>pD.test(e)&&!yD.test(e)&&!gD.test(e),xD=e=>{let[t,r,n,s,o,i]=e.split(":"),a=t==="arn"&&e.split(":").length>=6,c=[t,r,n,o,i].filter(Boolean).length===5;if(a&&!c)throw new Error(`Invalid ARN: ${e} was an invalid ARN.`);return t==="arn"&&!!r&&!!n&&!!o&&!!i};var xx=(e,t,r)=>{let n=async()=>{let s=r[e]??r[t];return typeof s=="function"?s():s};return e==="endpoint"||t==="endpoint"?async()=>{let s=await n();if(s&&typeof s=="object"){if("url"in s)return s.url.href;if("hostname"in s){let{protocol:o,hostname:i,port:a,path:c}=s;return`${o}//${i}${a?":"+a:""}${c}`}}return s}:n};var Mc=async(e,t,r,n)=>{let s=await CD(e,t,r);if(typeof r.endpointProvider!="function")throw new Error("config.endpointProvider is not set.");return r.endpointProvider(s,n)},CD=async(e,t,r)=>{var o;let n={},s=((o=t==null?void 0:t.getEndpointParameterInstructions)==null?void 0:o.call(t))||{};for(let[i,a]of Object.entries(s))switch(a.type){case"staticContextParams":n[i]=a.value;break;case"contextParams":n[i]=e[a.name];break;case"clientContextParams":case"builtInParams":n[i]=await xx(a.name,i,r)();break;default:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(a))}return Object.keys(s).length===0&&Object.assign(n,r),String(r.serviceId).toLowerCase()==="s3"&&await Ex(n),n};function Cx(e){let t={};if(e=e.replace(/^\?/,""),e)for(let r of e.split("&")){let[n,s=null]=r.split("=");n=decodeURIComponent(n),s&&(s=decodeURIComponent(s)),n in t?Array.isArray(t[n])?t[n].push(s):t[n]=[t[n],s]:t[n]=s}return t}var Rt=e=>{if(typeof e=="string")return Rt(new URL(e));let{hostname:t,pathname:r,port:n,protocol:s,search:o}=e,i;return o&&(i=Cx(o)),{hostname:t,port:n?parseInt(n):void 0,protocol:s,path:r,query:i}};var Lc=e=>typeof e=="object"?"url"in e?Rt(e.url):e:Rt(e);var Sx=({config:e,instructions:t})=>(r,n)=>async s=>{var a,c;let o=await Mc(s.input,{getEndpointParameterInstructions(){return t}},{...e},n);n.endpointV2=o,n.authSchemes=(a=o.properties)==null?void 0:a.authSchemes;let i=(c=n.authSchemes)==null?void 0:c[0];return i&&(n.signing_region=i.signingRegion,n.signing_service=i.signingName),r({...s})};var wx=(e,t)=>(r,n)=>async s=>{let{response:o}=await r(s);try{let i=await t(o,e);return{response:o,output:i}}catch(i){if(Object.defineProperty(i,"$response",{value:o}),!("$metadata"in i)){let a="Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";i.message+=`
  `+a}throw i}};var bx=(e,t)=>(r,n)=>async s=>{var a;let o=(a=n.endpointV2)!=null&&a.url&&e.urlParser?async()=>e.urlParser(n.endpointV2.url):e.endpoint;if(!o)throw new Error("No valid endpoint provider available.");let i=await t(s.input,{...e,endpoint:o});return r({...s,request:i})};var SD={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},_f={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function $e(e,t,r){return{applyToStack:n=>{n.add(wx(e,r),SD),n.add(bx(e,t),_f)}}}var wD={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:_f.name},qe=(e,t)=>({applyToStack:r=>{r.addRelativeTo(Sx({config:e,instructions:t}),wD)}});var nt=e=>{if(typeof e=="function")return e;let t=Promise.resolve(e);return()=>t};var Dn=e=>{let t=e.tls??!0,{endpoint:r}=e,n=r!=null?async()=>Lc(await nt(r)()):void 0;return{...e,endpoint:n,tls:t,isCustomEndpoint:!!r,useDualstackEndpoint:nt(e.useDualstackEndpoint??!1),useFipsEndpoint:nt(e.useFipsEndpoint??!1)}};var Sr=class{trace(){}debug(){}info(){}warn(){}error(){}};var Oo=()=>{let e=[],t=[],r=new Set,n=l=>l.sort((f,u)=>_x[u.step]-_x[f.step]||Rx[u.priority||"normal"]-Rx[f.priority||"normal"]),s=l=>{let f=!1,u=g=>g.name&&g.name===l?(f=!0,r.delete(l),!1):!0;return e=e.filter(u),t=t.filter(u),f},o=l=>{let f=!1,u=g=>g.middleware===l?(f=!0,g.name&&r.delete(g.name),!1):!0;return e=e.filter(u),t=t.filter(u),f},i=l=>(e.forEach(f=>{l.add(f.middleware,{...f})}),t.forEach(f=>{l.addRelativeTo(f.middleware,{...f})}),l),a=l=>{let f=[];return l.before.forEach(u=>{u.before.length===0&&u.after.length===0?f.push(u):f.push(...a(u))}),f.push(l),l.after.reverse().forEach(u=>{u.before.length===0&&u.after.length===0?f.push(u):f.push(...a(u))}),f},c=(l=!1)=>{let f=[],u=[],g={};return e.forEach(S=>{let R={...S,before:[],after:[]};R.name&&(g[R.name]=R),f.push(R)}),t.forEach(S=>{let R={...S,before:[],after:[]};R.name&&(g[R.name]=R),u.push(R)}),u.forEach(S=>{if(S.toMiddleware){let R=g[S.toMiddleware];if(R===void 0){if(l)return;throw new Error(`${S.toMiddleware} is not found when adding ${S.name||"anonymous"} middleware ${S.relation} ${S.toMiddleware}`)}S.relation==="after"&&R.after.push(S),S.relation==="before"&&R.before.push(S)}}),n(f).map(a).reduce((S,R)=>(S.push(...R),S),[])},d={add:(l,f={})=>{let{name:u,override:g}=f,y={step:"initialize",priority:"normal",middleware:l,...f};if(u){if(r.has(u)){if(!g)throw new Error(`Duplicate middleware name '${u}'`);let S=e.findIndex(O=>O.name===u),R=e[S];if(R.step!==y.step||R.priority!==y.priority)throw new Error(`"${u}" middleware with ${R.priority} priority in ${R.step} step cannot be overridden by same-name middleware with ${y.priority} priority in ${y.step} step.`);e.splice(S,1)}r.add(u)}e.push(y)},addRelativeTo:(l,f)=>{let{name:u,override:g}=f,y={middleware:l,...f};if(u){if(r.has(u)){if(!g)throw new Error(`Duplicate middleware name '${u}'`);let S=t.findIndex(O=>O.name===u),R=t[S];if(R.toMiddleware!==y.toMiddleware||R.relation!==y.relation)throw new Error(`"${u}" middleware ${R.relation} "${R.toMiddleware}" middleware cannot be overridden by same-name middleware ${y.relation} "${y.toMiddleware}" middleware.`);t.splice(S,1)}r.add(u)}t.push(y)},clone:()=>i(Oo()),use:l=>{l.applyToStack(d)},remove:l=>typeof l=="string"?s(l):o(l),removeByTag:l=>{let f=!1,u=g=>{let{tags:y,name:S}=g;return y&&y.includes(l)?(S&&r.delete(S),f=!0,!1):!0};return e=e.filter(u),t=t.filter(u),f},concat:l=>{let f=i(Oo());return f.use(l),f},applyToStack:i,identify:()=>c(!0).map(l=>l.name+": "+(l.tags||[]).join(",")),resolve:(l,f)=>{for(let u of c().map(g=>g.middleware).reverse())l=u(l,f);return l}};return d},_x={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Rx={high:3,normal:2,low:1};var wr=class{constructor(t){this.middlewareStack=Oo(),this.config=t}send(t,r,n){let s=typeof r!="function"?r:void 0,o=typeof r=="function"?r:n,i=t.resolveMiddleware(this.middlewareStack,this.config,s);if(o)i(t).then(a=>o(null,a.output),a=>o(a)).catch(()=>{});else return i(t).then(a=>a.output)}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}};var Ie=class{constructor(){this.middlewareStack=Oo()}};var De="***SensitiveInformation***";var Fs=e=>{switch(e){case"true":return!0;case"false":return!1;default:throw new Error(`Unable to parse boolean value "${e}"`)}};var bD=e=>{if(e!=null){if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&Ox.warn(Px(`Expected number but observed string: ${e}`)),t}if(typeof e=="number")return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},_D=Math.ceil(34028234663852886e22),Ax=e=>{let t=bD(e);if(t!==void 0&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>_D)throw new TypeError(`Expected 32-bit float, got ${e}`);return t},Io=e=>{if(e!=null){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}};var Fc=e=>Rf(e,32),kx=e=>Rf(e,16),Tx=e=>Rf(e,8),Rf=(e,t)=>{let r=Io(e);if(r!==void 0&&RD(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},RD=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},st=(e,t)=>{if(e==null)throw t?new TypeError(`Expected a non-null value for ${t}`):new TypeError("Expected a non-null value");return e},Bn=e=>{if(e==null)return;if(typeof e=="object"&&!Array.isArray(e))return e;let t=Array.isArray(e)?"array":typeof e;throw new TypeError(`Expected object, got ${t}: ${e}`)},P=e=>{if(e!=null){if(typeof e=="string")return e;if(["boolean","number","bigint"].includes(typeof e))return Ox.warn(Px(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}};var Nx=e=>Ax(typeof e=="string"?da(e):e),AD=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,da=e=>{let t=e.match(AD);if(t===null||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)};var Af=e=>Io(typeof e=="string"?da(e):e);var Us=e=>Fc(typeof e=="string"?da(e):e),la=e=>kx(typeof e=="string"?da(e):e),vx=e=>Tx(typeof e=="string"?da(e):e),Px=e=>String(new TypeError(e).stack||e).split(`
`).slice(0,5).filter(t=>!t.includes("stackTraceWarning")).join(`
`),Ox={warn:console.warn};var kD=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Tf=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Nf(e){let t=e.getUTCFullYear(),r=e.getUTCMonth(),n=e.getUTCDay(),s=e.getUTCDate(),o=e.getUTCHours(),i=e.getUTCMinutes(),a=e.getUTCSeconds(),c=s<10?`0${s}`:`${s}`,d=o<10?`0${o}`:`${o}`,l=i<10?`0${i}`:`${i}`,f=a<10?`0${a}`:`${a}`;return`${kD[n]}, ${c} ${Tf[r]} ${t} ${d}:${l}:${f} GMT`}var h6=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/);var TD=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),vf=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-3339 date-times must be expressed as strings");let t=TD.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");let[r,n,s,o,i,a,c,d,l]=t,f=la(ua(n)),u=Mn(s,"month",1,12),g=Mn(o,"day",1,31),y=Uc(f,u,g,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return l.toUpperCase()!="Z"&&y.setTime(y.getTime()-UD(l)),y},ND=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d{2}) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),vD=new RegExp(/^(?:Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d{2})-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? GMT$/),PD=new RegExp(/^(?:Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( [1-9]|\d{2}) (\d{1,2}):(\d{2}):(\d{2})(?:\.(\d+))? (\d{4})$/),Pf=e=>{if(e==null)return;if(typeof e!="string")throw new TypeError("RFC-7231 date-times must be expressed as strings");let t=ND.exec(e);if(t){let[r,n,s,o,i,a,c,d]=t;return Uc(la(ua(o)),kf(s),Mn(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})}if(t=vD.exec(e),t){let[r,n,s,o,i,a,c,d]=t;return DD(Uc(OD(o),kf(s),Mn(n,"day",1,31),{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d}))}if(t=PD.exec(e),t){let[r,n,s,o,i,a,c,d]=t;return Uc(la(ua(d)),kf(n),Mn(s.trimLeft(),"day",1,31),{hours:o,minutes:i,seconds:a,fractionalMilliseconds:c})}throw new TypeError("Invalid RFC-7231 date-time value")};var Uc=(e,t,r,n)=>{let s=t-1;return MD(e,s,r),new Date(Date.UTC(e,s,r,Mn(n.hours,"hour",0,23),Mn(n.minutes,"minute",0,59),Mn(n.seconds,"seconds",0,60),FD(n.fractionalMilliseconds)))},OD=e=>{let t=new Date().getUTCFullYear(),r=Math.floor(t/100)*100+la(ua(e));return r<t?r+100:r},ID=50*365*24*60*60*1e3,DD=e=>e.getTime()-new Date().getTime()>ID?new Date(Date.UTC(e.getUTCFullYear()-100,e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())):e,kf=e=>{let t=Tf.indexOf(e);if(t<0)throw new TypeError(`Invalid month: ${e}`);return t+1},BD=[31,28,31,30,31,30,31,31,30,31,30,31],MD=(e,t,r)=>{let n=BD[t];if(t===1&&LD(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${Tf[t]} in ${e}: ${r}`)},LD=e=>e%4===0&&(e%100!==0||e%400===0),Mn=(e,t,r,n)=>{let s=vx(ua(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},FD=e=>e==null?0:Nx("0."+e)*1e3,UD=e=>{let t=e[0],r=1;if(t=="+")r=1;else if(t=="-")r=-1;else throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);let n=Number(e.substring(1,3)),s=Number(e.substring(4,6));return r*(n*60+s)*60*1e3},ua=e=>{let t=0;for(;t<e.length-1&&e.charAt(t)==="0";)t++;return t===0?e:e.slice(t)};var Qt=class extends Error{constructor(t){super(t.message),Object.setPrototypeOf(this,Qt.prototype),this.name=t.name,this.$fault=t.$fault,this.$metadata=t.$metadata}},ye=(e,t={})=>{Object.entries(t).filter(([,n])=>n!==void 0).forEach(([n,s])=>{(e[n]==null||e[n]==="")&&(e[n]=s)});let r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e};var At=({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{let s=zD(e),o=s.httpStatusCode?s.httpStatusCode+"":void 0,i=new r({name:(t==null?void 0:t.code)||(t==null?void 0:t.Code)||n||o||"UnknownError",$fault:"client",$metadata:s});throw ye(i,t)},zD=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]});var Ln=e=>{switch(e){case"standard":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};var Ix=!1,Fn=e=>{e&&!Ix&&parseInt(e.substring(1,e.indexOf(".")))<14&&(Ix=!0)};function Zr(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}var Dx=e=>Array.isArray(e)?e:[e];var fa=e=>{let t="#text";for(let r in e)e.hasOwnProperty(r)&&e[r][t]!==void 0?e[r]=e[r][t]:typeof e[r]=="object"&&e[r]!==null&&(e[r]=fa(e[r]));return e};var Of=function(){let e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,[null,...arguments]),r=new t;return Object.setPrototypeOf(r,e.prototype),r};Of.prototype=Object.create(String.prototype,{constructor:{value:Of,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf(Of,String);function zs(e,t,r){let n,s,o;if(typeof t>"u"&&typeof r>"u")n={},o=e;else{if(n=e,typeof t=="function")return s=t,o=r,$D(n,s,o);o=t}for(let i of Object.keys(o)){if(!Array.isArray(o[i])){n[i]=o[i];continue}qD(n,null,o,i)}return n}var $D=(e,t,r)=>zs(e,Object.entries(r).reduce((n,[s,o])=>(Array.isArray(o)?n[s]=o:typeof o=="function"?n[s]=[t,o()]:n[s]=[t,o],n),{})),qD=(e,t,r,n)=>{if(t!==null){let i=r[n];typeof i=="function"&&(i=[,i]);let[a=HD,c=jD,d=n]=i;(typeof a=="function"&&a(t[d])||typeof a!="function"&&a)&&(e[n]=c(t[d]));return}let[s,o]=r[n];if(typeof o=="function"){let i,a=s===void 0&&(i=o())!=null,c=typeof s=="function"&&!!s(void 0)||typeof s!="function"&&!!s;a?e[n]=i:c&&(e[n]=o())}else{let i=s===void 0&&o!=null,a=typeof s=="function"&&!!s(o)||typeof s!="function"&&!!s;(i||a)&&(e[n]=o)}},HD=e=>e!=null,jD=e=>e;var Ft=(e,t,r,n,s,o)=>{if(t!=null&&t[r]!==void 0){let i=n();if(i.length<=0)throw new Error("Empty value provided for input HTTP label: "+r+".");e=e.replace(s,o?i.split("/").map(a=>Zr(a)).join("/"):Zr(i))}else throw new Error("No value provided for input HTTP label: "+r+".");return e};var If;(function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"})(If||(If={}));var ee=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.slice(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/"}static isInstance(t){if(!t)return!1;let r=t;return"method"in r&&"protocol"in r&&"hostname"in r&&"path"in r&&typeof r.query=="object"&&typeof r.headers=="object"}clone(){let t=new ee({...this,headers:{...this.headers}});return t.query&&(t.query=GD(t.query)),t}};function GD(e){return Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{})}var Zt=class{constructor(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let r=t;return typeof r.statusCode=="number"&&typeof r.headers=="object"}};function Bx(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function Mx(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#x0D;").replace(/\n/g,"&#x0A;").replace(/\u0085/g,"&#x85;").replace(/\u2028/,"&#x2028;")}var ha=class{constructor(t){this.value=t}toString(){return Mx(""+this.value)}};var Xe=class{static of(t,r,n){let s=new Xe(t);return r!==void 0&&s.addChildNode(new ha(r)),n!==void 0&&s.withName(n),s}constructor(t,r=[]){this.name=t,this.children=r,this.attributes={}}withName(t){return this.name=t,this}addAttribute(t,r){return this.attributes[t]=r,this}addChildNode(t){return this.children.push(t),this}removeAttribute(t){return delete this.attributes[t],this}toString(){let t=!!this.children.length,r=`<${this.name}`,n=this.attributes;for(let s of Object.keys(n)){let o=n[s];typeof o<"u"&&o!==null&&(r+=` ${s}="${Bx(""+o)}"`)}return r+=t?`>${this.children.map(s=>s.toString()).join("")}</${this.name}>`:"/>"}};var RC=Vt(jf());var Ut=class extends Qt{constructor(t){super(t),Object.setPrototypeOf(this,Ut.prototype)}};var Gf;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Gf||(Gf={}));var Kf;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.ObjectSizeGreaterThan!==void 0?r.ObjectSizeGreaterThan(t.ObjectSizeGreaterThan):t.ObjectSizeLessThan!==void 0?r.ObjectSizeLessThan(t.ObjectSizeLessThan):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Kf||(Kf={}));var Vf;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.AccessPointArn!==void 0?r.AccessPointArn(t.AccessPointArn):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Vf||(Vf={}));var Wf;(function(e){e.visit=(t,r)=>t.Prefix!==void 0?r.Prefix(t.Prefix):t.Tag!==void 0?r.Tag(t.Tag):t.And!==void 0?r.And(t.And):r._(t.$unknown[0],t.$unknown[1])})(Wf||(Wf={}));var Do=class extends Ut{constructor(t){super({name:"NoSuchKey",$fault:"client",...t}),this.name="NoSuchKey",this.$fault="client",Object.setPrototypeOf(this,Do.prototype)}};var hC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:De}}),mC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:De}});var pC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:De},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:De}}),yC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:De},...e.SSEKMSKeyId&&{SSEKMSKeyId:De},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:De}});var gC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:De}});var EC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:De},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:De}}),xC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:De},...e.SSEKMSKeyId&&{SSEKMSKeyId:De},...e.SSEKMSEncryptionContext&&{SSEKMSEncryptionContext:De}});var CC;(function(e){e.visit=(t,r)=>t.Records!==void 0?r.Records(t.Records):t.Stats!==void 0?r.Stats(t.Stats):t.Progress!==void 0?r.Progress(t.Progress):t.Cont!==void 0?r.Cont(t.Cont):t.End!==void 0?r.End(t.End):r._(t.$unknown[0],t.$unknown[1])})(CC||(CC={}));var SC=e=>({...e,...e.SSEKMSKeyId&&{SSEKMSKeyId:De}}),wC=e=>({...e,...e.SSECustomerKey&&{SSECustomerKey:De}});var AC=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i=Ve({},dt,{"content-type":"application/xml","x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=Ft(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Ft(a,e,"Key",()=>e.Key,"{Key+}",!0);let c=Ve({"x-id":[,"CompleteMultipartUpload"],uploadId:[,st(e.UploadId,"UploadId")]}),d;e.MultipartUpload!==void 0&&(d=bC(e.MultipartUpload,t));let l;return e.MultipartUpload!==void 0&&(l=bC(e.MultipartUpload,t),l=l.withName("CompleteMultipartUpload"),d='<?xml version="1.0" encoding="UTF-8"?>',l.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=l.toString()),new ee({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:d})};var kC=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i=Ve({},dt,{"x-amz-acl":e.ACL,"cache-control":e.CacheControl,"content-disposition":e.ContentDisposition,"content-encoding":e.ContentEncoding,"content-language":e.ContentLanguage,"content-type":e.ContentType,expires:[()=>dt(e.Expires),()=>Nf(e.Expires).toString()],"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-storage-class":e.StorageClass,"x-amz-website-redirect-location":e.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>dt(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],"x-amz-request-payer":e.RequestPayer,"x-amz-tagging":e.Tagging,"x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>dt(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-checksum-algorithm":e.ChecksumAlgorithm,...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((l,f)=>(l[`x-amz-meta-${f.toLowerCase()}`]=e.Metadata[f],l),{})}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=Ft(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Ft(a,e,"Key",()=>e.Key,"{Key+}",!0);let c=Ve({uploads:[,""],"x-id":[,"CreateMultipartUpload"]}),d;return new ee({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,query:c,body:d})};var TC=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i=Ve({},dt,{"x-amz-max-parts":[()=>dt(e.MaxParts),()=>e.MaxParts.toString()],"x-amz-part-number-marker":e.PartNumberMarker,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-object-attributes":[()=>dt(e.ObjectAttributes),()=>(e.ObjectAttributes||[]).map(l=>l).join(", ")]}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=Ft(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Ft(a,e,"Key",()=>e.Key,"{Key+}",!0);let c=Ve({attributes:[,""],versionId:[,e.VersionId]}),d;return new ee({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:d})};var NC=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i=Ve({},dt,{"content-type":e.ContentType||"application/octet-stream","x-amz-acl":e.ACL,"cache-control":e.CacheControl,"content-disposition":e.ContentDisposition,"content-encoding":e.ContentEncoding,"content-language":e.ContentLanguage,"content-length":[()=>dt(e.ContentLength),()=>e.ContentLength.toString()],"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,expires:[()=>dt(e.Expires),()=>Nf(e.Expires).toString()],"x-amz-grant-full-control":e.GrantFullControl,"x-amz-grant-read":e.GrantRead,"x-amz-grant-read-acp":e.GrantReadACP,"x-amz-grant-write-acp":e.GrantWriteACP,"x-amz-server-side-encryption":e.ServerSideEncryption,"x-amz-storage-class":e.StorageClass,"x-amz-website-redirect-location":e.WebsiteRedirectLocation,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-server-side-encryption-aws-kms-key-id":e.SSEKMSKeyId,"x-amz-server-side-encryption-context":e.SSEKMSEncryptionContext,"x-amz-server-side-encryption-bucket-key-enabled":[()=>dt(e.BucketKeyEnabled),()=>e.BucketKeyEnabled.toString()],"x-amz-request-payer":e.RequestPayer,"x-amz-tagging":e.Tagging,"x-amz-object-lock-mode":e.ObjectLockMode,"x-amz-object-lock-retain-until-date":[()=>dt(e.ObjectLockRetainUntilDate),()=>(e.ObjectLockRetainUntilDate.toISOString().split(".")[0]+"Z").toString()],"x-amz-object-lock-legal-hold":e.ObjectLockLegalHoldStatus,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,...e.Metadata!==void 0&&Object.keys(e.Metadata).reduce((f,u)=>(f[`x-amz-meta-${u.toLowerCase()}`]=e.Metadata[u],f),{})}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=Ft(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Ft(a,e,"Key",()=>e.Key,"{Key+}",!0);let c=Ve({"x-id":[,"PutObject"]}),d;e.Body!==void 0&&(d=e.Body);let l;return e.Body!==void 0&&(l=e.Body,d=l),new ee({protocol:n,hostname:r,port:s,method:"PUT",headers:i,path:a,query:c,body:d})};var vC=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i=Ve({},dt,{"content-type":"application/xml","content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner,"x-amz-request-payer":e.RequestPayer}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=Ft(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Ft(a,e,"Key",()=>e.Key,"{Key+}",!0);let c=Ve({tagging:[,""],versionId:[,e.VersionId]}),d;e.Tagging!==void 0&&(d=_C(e.Tagging,t));let l;return e.Tagging!==void 0&&(l=_C(e.Tagging,t),d='<?xml version="1.0" encoding="UTF-8"?>',l.addAttribute("xmlns","http://s3.amazonaws.com/doc/2006-03-01/"),d+=l.toString()),new ee({protocol:n,hostname:r,port:s,method:"PUT",headers:i,path:a,query:c,body:d})};var PC=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i=Ve({},dt,{"content-type":"application/octet-stream","content-length":[()=>dt(e.ContentLength),()=>e.ContentLength.toString()],"content-md5":e.ContentMD5,"x-amz-sdk-checksum-algorithm":e.ChecksumAlgorithm,"x-amz-checksum-crc32":e.ChecksumCRC32,"x-amz-checksum-crc32c":e.ChecksumCRC32C,"x-amz-checksum-sha1":e.ChecksumSHA1,"x-amz-checksum-sha256":e.ChecksumSHA256,"x-amz-server-side-encryption-customer-algorithm":e.SSECustomerAlgorithm,"x-amz-server-side-encryption-customer-key":e.SSECustomerKey,"x-amz-server-side-encryption-customer-key-md5":e.SSECustomerKeyMD5,"x-amz-request-payer":e.RequestPayer,"x-amz-expected-bucket-owner":e.ExpectedBucketOwner}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/{Key+}`;a=Ft(a,e,"Bucket",()=>e.Bucket,"{Bucket}",!1),a=Ft(a,e,"Key",()=>e.Key,"{Key+}",!0);let c=Ve({"x-id":[,"UploadPart"],partNumber:[st(e.PartNumber,"PartNumber")!=null,()=>e.PartNumber.toString()],uploadId:[,st(e.UploadId,"UploadId")]}),d;e.Body!==void 0&&(d=e.Body);let l;return e.Body!==void 0&&(l=e.Body,d=l),new ee({protocol:n,hostname:r,port:s,method:"PUT",headers:i,path:a,query:c,body:d})};var OC=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return VB(e,t);let r=Ve({$metadata:qs(e),Expiration:[,e.headers["x-amz-expiration"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],VersionId:[,e.headers["x-amz-version-id"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>Fs(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]}),n=st(Bn(await $c(e.body,t)),"body");return n.Bucket!==void 0&&(r.Bucket=P(n.Bucket)),n.ChecksumCRC32!==void 0&&(r.ChecksumCRC32=P(n.ChecksumCRC32)),n.ChecksumCRC32C!==void 0&&(r.ChecksumCRC32C=P(n.ChecksumCRC32C)),n.ChecksumSHA1!==void 0&&(r.ChecksumSHA1=P(n.ChecksumSHA1)),n.ChecksumSHA256!==void 0&&(r.ChecksumSHA256=P(n.ChecksumSHA256)),n.ETag!==void 0&&(r.ETag=P(n.ETag)),n.Key!==void 0&&(r.Key=P(n.Key)),n.Location!==void 0&&(r.Location=P(n.Location)),r},VB=async(e,t)=>{let r={...e,body:await Bo(e.body,t)},n=Mo(e,r.body),s=r.body;At({output:e,parsedBody:s,exceptionCtor:Ut,errorCode:n})};var IC=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return WB(e,t);let r=Ve({$metadata:qs(e),AbortDate:[()=>e.headers["x-amz-abort-date"]!==void 0,()=>st(Pf(e.headers["x-amz-abort-date"]))],AbortRuleId:[,e.headers["x-amz-abort-rule-id"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,e.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>Fs(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]],ChecksumAlgorithm:[,e.headers["x-amz-checksum-algorithm"]]}),n=st(Bn(await $c(e.body,t)),"body");return n.Bucket!==void 0&&(r.Bucket=P(n.Bucket)),n.Key!==void 0&&(r.Key=P(n.Key)),n.UploadId!==void 0&&(r.UploadId=P(n.UploadId)),r},WB=async(e,t)=>{let r={...e,body:await Bo(e.body,t)},n=Mo(e,r.body),s=r.body;At({output:e,parsedBody:s,exceptionCtor:Ut,errorCode:n})};var DC=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return YB(e,t);let r=Ve({$metadata:qs(e),DeleteMarker:[()=>e.headers["x-amz-delete-marker"]!==void 0,()=>Fs(e.headers["x-amz-delete-marker"])],LastModified:[()=>e.headers["last-modified"]!==void 0,()=>st(Pf(e.headers["last-modified"]))],VersionId:[,e.headers["x-amz-version-id"]],RequestCharged:[,e.headers["x-amz-request-charged"]]}),n=st(Bn(await $c(e.body,t)),"body");return n.Checksum!==void 0&&(r.Checksum=s1(n.Checksum,t)),n.ETag!==void 0&&(r.ETag=P(n.ETag)),n.ObjectParts!==void 0&&(r.ObjectParts=o1(n.ObjectParts,t)),n.ObjectSize!==void 0&&(r.ObjectSize=Af(n.ObjectSize)),n.StorageClass!==void 0&&(r.StorageClass=P(n.StorageClass)),r},YB=async(e,t)=>{let r={...e,body:await Bo(e.body,t)},n=Mo(e,r.body);switch(n){case"NoSuchKey":case"com.amazonaws.s3#NoSuchKey":throw await JB(r,t);default:let s=r.body;At({output:e,parsedBody:s,exceptionCtor:Ut,errorCode:n})}};var BC=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return XB(e,t);let r=Ve({$metadata:qs(e),Expiration:[,e.headers["x-amz-expiration"]],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],VersionId:[,e.headers["x-amz-version-id"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],SSEKMSEncryptionContext:[,e.headers["x-amz-server-side-encryption-context"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>Fs(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await zc(e.body,t),r},XB=async(e,t)=>{let r={...e,body:await Bo(e.body,t)},n=Mo(e,r.body),s=r.body;At({output:e,parsedBody:s,exceptionCtor:Ut,errorCode:n})};var MC=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return QB(e,t);let r=Ve({$metadata:qs(e),VersionId:[,e.headers["x-amz-version-id"]]});return await zc(e.body,t),r},QB=async(e,t)=>{let r={...e,body:await Bo(e.body,t)},n=Mo(e,r.body),s=r.body;At({output:e,parsedBody:s,exceptionCtor:Ut,errorCode:n})};var LC=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return ZB(e,t);let r=Ve({$metadata:qs(e),ServerSideEncryption:[,e.headers["x-amz-server-side-encryption"]],ETag:[,e.headers.etag],ChecksumCRC32:[,e.headers["x-amz-checksum-crc32"]],ChecksumCRC32C:[,e.headers["x-amz-checksum-crc32c"]],ChecksumSHA1:[,e.headers["x-amz-checksum-sha1"]],ChecksumSHA256:[,e.headers["x-amz-checksum-sha256"]],SSECustomerAlgorithm:[,e.headers["x-amz-server-side-encryption-customer-algorithm"]],SSECustomerKeyMD5:[,e.headers["x-amz-server-side-encryption-customer-key-md5"]],SSEKMSKeyId:[,e.headers["x-amz-server-side-encryption-aws-kms-key-id"]],BucketKeyEnabled:[()=>e.headers["x-amz-server-side-encryption-bucket-key-enabled"]!==void 0,()=>Fs(e.headers["x-amz-server-side-encryption-bucket-key-enabled"])],RequestCharged:[,e.headers["x-amz-request-charged"]]});return await zc(e.body,t),r},ZB=async(e,t)=>{let r={...e,body:await Bo(e.body,t)},n=Mo(e,r.body),s=r.body;At({output:e,parsedBody:s,exceptionCtor:Ut,errorCode:n})};var Ve=zs;var JB=async(e,t)=>{let r=Ve({}),n=e.body,s=new Do({$metadata:qs(e),...r});return ye(s,e.body)};var bC=(e,t)=>{let r=new Xe("CompletedMultipartUpload");return e.Parts!=null&&t1(e.Parts,t).map(s=>{s=s.withName("Part"),r.addChildNode(s)}),r},e1=(e,t)=>{let r=new Xe("CompletedPart");if(e.ETag!=null){let n=Xe.of("ETag",e.ETag).withName("ETag");r.addChildNode(n)}if(e.ChecksumCRC32!=null){let n=Xe.of("ChecksumCRC32",e.ChecksumCRC32).withName("ChecksumCRC32");r.addChildNode(n)}if(e.ChecksumCRC32C!=null){let n=Xe.of("ChecksumCRC32C",e.ChecksumCRC32C).withName("ChecksumCRC32C");r.addChildNode(n)}if(e.ChecksumSHA1!=null){let n=Xe.of("ChecksumSHA1",e.ChecksumSHA1).withName("ChecksumSHA1");r.addChildNode(n)}if(e.ChecksumSHA256!=null){let n=Xe.of("ChecksumSHA256",e.ChecksumSHA256).withName("ChecksumSHA256");r.addChildNode(n)}if(e.PartNumber!=null){let n=Xe.of("PartNumber",String(e.PartNumber)).withName("PartNumber");r.addChildNode(n)}return r},t1=(e,t)=>e.filter(r=>r!=null).map(r=>e1(r,t).withName("member"));var r1=(e,t)=>{let r=new Xe("Tag");if(e.Key!=null){let n=Xe.of("ObjectKey",e.Key).withName("Key");r.addChildNode(n)}if(e.Value!=null){let n=Xe.of("Value",e.Value).withName("Value");r.addChildNode(n)}return r},_C=(e,t)=>{let r=new Xe("Tagging");if(e.TagSet!=null){let n=n1(e.TagSet,t),s=new Xe("TagSet");n.map(o=>{s.addChildNode(o)}),r.addChildNode(s)}return r},n1=(e,t)=>e.filter(r=>r!=null).map(r=>r1(r,t).withName("Tag"));var s1=(e,t)=>{let r={};return e.ChecksumCRC32!==void 0&&(r.ChecksumCRC32=P(e.ChecksumCRC32)),e.ChecksumCRC32C!==void 0&&(r.ChecksumCRC32C=P(e.ChecksumCRC32C)),e.ChecksumSHA1!==void 0&&(r.ChecksumSHA1=P(e.ChecksumSHA1)),e.ChecksumSHA256!==void 0&&(r.ChecksumSHA256=P(e.ChecksumSHA256)),r};var o1=(e,t)=>{let r={};return e.PartsCount!==void 0&&(r.TotalPartsCount=Us(e.PartsCount)),e.PartNumberMarker!==void 0&&(r.PartNumberMarker=P(e.PartNumberMarker)),e.NextPartNumberMarker!==void 0&&(r.NextPartNumberMarker=P(e.NextPartNumberMarker)),e.MaxParts!==void 0&&(r.MaxParts=Us(e.MaxParts)),e.IsTruncated!==void 0&&(r.IsTruncated=Fs(e.IsTruncated)),e.Part===""?r.Parts=[]:e.Part!==void 0&&(r.Parts=a1(Dx(e.Part),t)),r};var i1=(e,t)=>{let r={};return e.PartNumber!==void 0&&(r.PartNumber=Us(e.PartNumber)),e.Size!==void 0&&(r.Size=Af(e.Size)),e.ChecksumCRC32!==void 0&&(r.ChecksumCRC32=P(e.ChecksumCRC32)),e.ChecksumCRC32C!==void 0&&(r.ChecksumCRC32C=P(e.ChecksumCRC32C)),e.ChecksumSHA1!==void 0&&(r.ChecksumSHA1=P(e.ChecksumSHA1)),e.ChecksumSHA256!==void 0&&(r.ChecksumSHA256=P(e.ChecksumSHA256)),r};var a1=(e,t)=>(e||[]).filter(r=>r!=null).map(r=>i1(r,t));var qs=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),zc=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),c1=(e,t)=>zc(e,t).then(r=>t.utf8Encoder(r)),dt=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),$c=(e,t)=>c1(e,t).then(r=>{if(r.length){let n=new RC.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s=n.parse(r),o="#text",i=Object.keys(s)[0],a=s[i];return a[o]&&(a[i]=a[o],delete a[o]),fa(a)}return{}}),Bo=async(e,t)=>{let r=await $c(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},Mo=(e,t)=>{if((t==null?void 0:t.Code)!==void 0)return t.Code;if(e.statusCode==404)return"NotFound"};var d1="content-length";function l1(){return(e,t)=>async r=>{var s;let{request:n}=r;if(ee.isInstance(n)&&!n.headers[d1]){let o="Are you using a Stream of unknown length as the Body of a PutObject request? Consider using Upload instead from @aws-sdk/lib-storage.";typeof((s=t==null?void 0:t.logger)==null?void 0:s.warn)=="function"?t.logger.warn(o):console.warn(o)}return e({...r})}}var u1={step:"finalizeRequest",tags:["CHECK_CONTENT_LENGTH_HEADER"],name:"getCheckContentLengthHeaderPlugin",override:!0},FC=e=>({applyToStack:t=>{t.add(l1(),u1)}});var UC=e=>({...e,forcePathStyle:e.forcePathStyle??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1});var f1=e=>t=>async r=>{let n=await t(r),{response:s}=n;if(!Zt.isInstance(s))return n;let{statusCode:o,body:i}=s;if(o<200||o>=300)return n;let a=await zC(i,e),c=await h1(a,e);if(a.length===0){let d=new Error("S3 aborted request");throw d.name="InternalError",d}return c&&c.match("<Error>")&&(s.statusCode=400),s.body=a,n},zC=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),h1=(e,t)=>zC(e,t).then(r=>t.utf8Encoder(r)),m1={relation:"after",toMiddleware:"deserializerMiddleware",tags:["THROW_200_EXCEPTIONS","S3"],name:"throw200ExceptionsMiddleware",override:!0},$C=e=>({applyToStack:t=>{t.addRelativeTo(f1(e),m1)}});var Yf=e=>typeof e=="string"&&e.indexOf("arn:")===0&&e.split(":").length>=6;function p1(){return e=>async t=>{let{input:{Bucket:r}}=t;if(typeof r=="string"&&!Yf(r)&&r.indexOf("/")>=0){let n=new Error(`Bucket name shouldn't contain '/', received '${r}'`);throw n.name="InvalidBucketName",n}return e({...t})}}var y1={step:"initialize",tags:["VALIDATE_BUCKET_NAME"],name:"validateBucketNameMiddleware",override:!0},qC=e=>({applyToStack:t=>{t.add(p1(),y1)}});function g1(e){return t=>async r=>{let n={...r.input},s=[{target:"SSECustomerKey",hash:"SSECustomerKeyMD5"},{target:"CopySourceSSECustomerKey",hash:"CopySourceSSECustomerKeyMD5"}];for(let o of s){let i=n[o.target];if(i){let a=ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):typeof i=="string"?e.utf8Decoder(i):new Uint8Array(i),c=e.base64Encoder(a),d=new e.md5;d.update(a),n={...n,[o.target]:c,[o.hash]:e.base64Encoder(await d.digest())}}}return t({...r,input:n})}}var E1={name:"ssecMiddleware",step:"initialize",tags:["SSE"],override:!0},br=e=>({applyToStack:t=>{t.add(g1(e),E1)}});var Lo=class extends Ie{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(qe(r,Lo.getEndpointParameterInstructions())),this.middlewareStack.use($C(r)),this.middlewareStack.use(br(r));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"CompleteMultipartUploadCommand",inputFilterSensitiveLog:mC,outputFilterSensitiveLog:hC},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return AC(t,r)}deserialize(t,r){return OC(t,r)}};var Fo=class extends Ie{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(qe(r,Fo.getEndpointParameterInstructions())),this.middlewareStack.use(br(r));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"CreateMultipartUploadCommand",inputFilterSensitiveLog:yC,outputFilterSensitiveLog:pC},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return kC(t,r)}deserialize(t,r){return IC(t,r)}};var Be;(function(e){e.MD5="MD5",e.CRC32="CRC32",e.CRC32C="CRC32C",e.SHA1="SHA1",e.SHA256="SHA256"})(Be||(Be={}));var HC;(function(e){e.HEADER="header",e.TRAILER="trailer"})(HC||(HC={}));var ya=[Be.CRC32,Be.CRC32C,Be.SHA1,Be.SHA256],jC=[Be.CRC32,Be.CRC32C,Be.SHA1,Be.SHA256];var GC=(e,{requestChecksumRequired:t,requestAlgorithmMember:r})=>{if(!r||!e[r])return t?Be.MD5:void 0;let n=e[r];if(!ya.includes(n))throw new Error(`The checksum algorithm "${n}" is not supported by the client. Select one of ${ya}.`);return n};var qc=e=>e===Be.MD5?"content-md5":`x-amz-checksum-${e.toLowerCase()}`;var KC=(e,t)=>{let r=e.toLowerCase();for(let n of Object.keys(t))if(r===n.toLowerCase())return!0;return!1};var Uo=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]";var Hc=e=>e!==void 0&&typeof e!="string"&&!ArrayBuffer.isView(e)&&!Uo(e);var pS=Vt(xa()),yS=Vt(ch());var Xc=(e,t)=>({[Be.MD5]:t.md5,[Be.CRC32]:pS.AwsCrc32,[Be.CRC32C]:yS.AwsCrc32c,[Be.SHA1]:t.sha1,[Be.SHA256]:t.sha256})[e];var Qc=require("buffer"),en=(e,t=0,r=e.byteLength-t)=>{if(!Uo(e))throw new TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof e} (${e})`);return Qc.Buffer.from(e,t,r)},zo=(e,t)=>{if(typeof e!="string")throw new TypeError(`The "input" argument must be of type string. Received type ${typeof e} (${e})`);return t?Qc.Buffer.from(e,t):Qc.Buffer.from(e)};var Rr=e=>{let t=zo(e,"utf8");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength/Uint8Array.BYTES_PER_ELEMENT)};var Tt=e=>typeof e=="string"?Rr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e);var qn=e=>en(e.buffer,e.byteOffset,e.byteLength).toString("utf8");var Zc=(e,t)=>{let r=new e;return r.update(Tt(t||"")),r.digest()};var gS=async(e,{streamHasher:t,checksumAlgorithmFn:r,base64Encoder:n})=>{let s=Hc(e)?t(r,e):Zc(r,e);return n(await s)};var ES=(e=[])=>{let t=[];for(let r of jC)!e.includes(r)||!ya.includes(r)||t.push(r);return t};var xS=async(e,{config:t,responseAlgorithms:r})=>{let n=ES(r),{body:s,headers:o}=e;for(let i of n){let a=qc(i),c=o[a];if(c){let d=Xc(i,t),{streamHasher:l,base64Encoder:f}=t,u=await gS(s,{streamHasher:l,checksumAlgorithmFn:d,base64Encoder:f});if(u===c)break;throw new Error(`Checksum mismatch: expected "${u}" but received "${c}" in response header "${a}".`)}}};var CS=(e,t)=>r=>async n=>{if(!ee.isInstance(n.request))return r(n);let{request:s}=n,{body:o,headers:i}=s,{base64Encoder:a,streamHasher:c}=e,{input:d,requestChecksumRequired:l,requestAlgorithmMember:f}=t,u=GC(d,{requestChecksumRequired:l,requestAlgorithmMember:f}),g=o,y=i;if(u){let re=qc(u),Q=Xc(u,e);if(Hc(o)){let{getAwsChunkedEncodingStream:Ue,bodyLengthChecker:X}=e;g=Ue(o,{base64Encoder:a,bodyLengthChecker:X,checksumLocationName:re,checksumAlgorithmFn:Q,streamHasher:c}),y={...i,"content-encoding":i["content-encoding"]?`${i["content-encoding"]},aws-chunked`:"aws-chunked","transfer-encoding":"chunked","x-amz-decoded-content-length":i["content-length"],"x-amz-content-sha256":"STREAMING-UNSIGNED-PAYLOAD-TRAILER","x-amz-trailer":re},delete y["content-length"]}else if(!KC(re,i)){let Ue=await Zc(Q,o);y={...i,[re]:a(Ue)}}}let S=await r({...n,request:{...s,headers:y,body:g}}),{requestValidationModeMember:R,responseAlgorithms:O}=t;return R&&d[R]==="ENABLED"&&xS(S.response,{config:e,responseAlgorithms:O}),S};var NM={name:"flexibleChecksumsMiddleware",step:"build",tags:["BODY_CHECKSUM"],override:!0},$o=(e,t)=>({applyToStack:r=>{r.add(CS(e,t),NM)}});var qo=class extends Ie{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(qe(r,qo.getEndpointParameterInstructions())),this.middlewareStack.use(br(r));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"GetObjectAttributesCommand",inputFilterSensitiveLog:gC,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return TC(t,r)}deserialize(t,r){return DC(t,r)}};var Hs=class extends Ie{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(qe(r,Hs.getEndpointParameterInstructions())),this.middlewareStack.use(FC(r)),this.middlewareStack.use(br(r)),this.middlewareStack.use($o(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"PutObjectCommand",inputFilterSensitiveLog:xC,outputFilterSensitiveLog:EC},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return NC(t,r)}deserialize(t,r){return BC(t,r)}};var Ho=class extends Ie{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(qe(r,Ho.getEndpointParameterInstructions())),this.middlewareStack.use($o(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!0}));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"PutObjectTaggingCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return vC(t,r)}deserialize(t,r){return MC(t,r)}};var jo=class extends Ie{static getEndpointParameterInstructions(){return{Bucket:{type:"contextParams",name:"Bucket"},ForcePathStyle:{type:"clientContextParams",name:"forcePathStyle"},UseArnRegion:{type:"clientContextParams",name:"useArnRegion"},DisableMultiRegionAccessPoints:{type:"clientContextParams",name:"disableMultiregionAccessPoints"},Accelerate:{type:"clientContextParams",name:"useAccelerateEndpoint"},UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(qe(r,jo.getEndpointParameterInstructions())),this.middlewareStack.use(br(r)),this.middlewareStack.use($o(r,{input:this.input,requestAlgorithmMember:"ChecksumAlgorithm",requestChecksumRequired:!1}));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"S3Client",commandName:"UploadPartCommand",inputFilterSensitiveLog:wC,outputFilterSensitiveLog:SC},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return PC(t,r)}deserialize(t,r){return LC(t,r)}};var Jt;(function(e){e.ENV="env",e.CONFIG="shared config entry"})(Jt||(Jt={}));var Ar=(e,t,r)=>{if(t in e){if(e[t]==="true")return!0;if(e[t]==="false")return!1;throw new Error(`Cannot load ${r} "${t}". Expected "true" or "false", got ${e[t]}.`)}};var vM="AWS_USE_DUALSTACK_ENDPOINT",PM="use_dualstack_endpoint";var Hn={environmentVariableSelector:e=>Ar(e,vM,Jt.ENV),configFileSelector:e=>Ar(e,PM,Jt.CONFIG),default:!1};var OM="AWS_USE_FIPS_ENDPOINT",IM="use_fips_endpoint";var jn={environmentVariableSelector:e=>Ar(e,OM,Jt.ENV),configFileSelector:e=>Ar(e,IM,Jt.CONFIG),default:!1};var DM="AWS_REGION",BM="region",kr={environmentVariableSelector:e=>e[DM],configFileSelector:e=>e[BM],default:()=>{throw new Error("Region is missing")}},Gn={preferredFile:"credentials"};var Jc=e=>typeof e=="string"&&(e.startsWith("fips-")||e.endsWith("-fips"));var dh=e=>Jc(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e;var Kn=e=>{let{region:t,useFipsEndpoint:r}=e;if(!t)throw new Error("Region is missing");return{...e,region:async()=>{if(typeof t=="string")return dh(t);let n=await t();return dh(n)},useFipsEndpoint:async()=>{let n=typeof t=="string"?t:await t();return Jc(n)?!0:typeof r!="function"?Promise.resolve(!!r):r()}}};var SS=e=>({...e,eventStreamMarshaller:e.eventStreamSerdeProvider(e)});var wS="content-length";function MM(e){return t=>async r=>{let n=r.request;if(ee.isInstance(n)){let{body:s,headers:o}=n;if(s&&Object.keys(o).map(i=>i.toLowerCase()).indexOf(wS)===-1)try{let i=e(s);n.headers={...n.headers,[wS]:String(i)}}catch{}}return t({...r,request:n})}}var LM={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Vn=e=>({applyToStack:t=>{t.add(MM(e.bodyLengthChecker),LM)}});function FM(e){return t=>async r=>{let{request:n}=r;return ee.isInstance(n)&&n.body&&e.runtime==="node"&&(n.headers={...n.headers,Expect:"100-continue"}),t({...r,request:n})}}var UM={step:"build",tags:["SET_EXPECT_HEADER","EXPECT_HEADER"],name:"addExpectContinueMiddleware",override:!0},bS=e=>({applyToStack:t=>{t.add(FM(e),UM)}});var zM=e=>t=>async r=>{if(!ee.isInstance(r.request))return t(r);let{request:n}=r,{handlerProtocol:s=""}=e.requestHandler.metadata||{};if(s.indexOf("h2")>=0&&!n.headers[":authority"])delete n.headers.host,n.headers[":authority"]="";else if(!n.headers.host){let o=n.hostname;n.port!=null&&(o+=`:${n.port}`),n.headers.host=o}return t(r)},$M={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Wn=e=>({applyToStack:t=>{t.add(zM(e),$M)}});var qM=()=>(e,t)=>async r=>{var n,s;try{let o=await e(r),{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:l,overrideOutputFilterSensitiveLog:f}=d,u=l??t.inputFilterSensitiveLog,g=f??t.outputFilterSensitiveLog,{$metadata:y,...S}=o.output;return(n=c==null?void 0:c.info)==null||n.call(c,{clientName:i,commandName:a,input:u(r.input),output:g(S),metadata:y}),o}catch(o){let{clientName:i,commandName:a,logger:c,dynamoDbDocumentClientOptions:d={}}=t,{overrideInputFilterSensitiveLog:l}=d,f=l??t.inputFilterSensitiveLog;throw(s=c==null?void 0:c.error)==null||s.call(c,{clientName:i,commandName:a,input:f(r.input),error:o,metadata:o.$metadata}),o}},HM={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},Yn=e=>({applyToStack:t=>{t.add(qM(),HM)}});var _S="X-Amzn-Trace-Id",jM="AWS_LAMBDA_FUNCTION_NAME",GM="_X_AMZN_TRACE_ID",KM=e=>t=>async r=>{let{request:n}=r;if(!ee.isInstance(n)||e.runtime!=="node"||n.headers.hasOwnProperty(_S))return t(r);let s=process.env[jM],o=process.env[GM],i=a=>typeof a=="string"&&a.length>0;return i(s)&&i(o)&&(n.headers[_S]=o),t({...r,request:n})},VM={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},Xn=e=>({applyToStack:t=>{t.add(KM(e),VM)}});var Tr;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(Tr||(Tr={}));var js=3,Nr="STANDARD";var RS=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],AS=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],kS=[500,502,503,504],TS=["ECONNRESET","EPIPE","ETIMEDOUT"];var Go=e=>{var t,r;return((t=e.$metadata)==null?void 0:t.httpStatusCode)===429||RS.includes(e.name)||((r=e.$retryable)==null?void 0:r.throttling)==!0},ed=e=>{var t;return AS.includes(e.name)||TS.includes((e==null?void 0:e.code)||"")||kS.includes(((t=e.$metadata)==null?void 0:t.httpStatusCode)||0)},NS=e=>{var t;if(((t=e.$metadata)==null?void 0:t.httpStatusCode)!==void 0){let r=e.$metadata.httpStatusCode;return 500<=r&&r<=599&&!ed(e)}return!1};var Sa=class{constructor(t){this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(t==null?void 0:t.beta)??.7,this.minCapacity=(t==null?void 0:t.minCapacity)??1,this.minFillRate=(t==null?void 0:t.minFillRate)??.5,this.scaleConstant=(t==null?void 0:t.scaleConstant)??.4,this.smooth=(t==null?void 0:t.smooth)??.8;let r=this.getCurrentTimeInSeconds();this.lastThrottleTime=r,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let r=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(n=>setTimeout(n,r))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let r=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+r),this.lastTimestamp=t}updateClientSendingRate(t){let r;if(this.updateMeasuredRate(),Go(t)){let s=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=s,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),r=this.cubicThrottle(s),this.enableTokenBucket()}else this.calculateTimeWindow(),r=this.cubicSuccess(this.getCurrentTimeInSeconds());let n=Math.min(r,2*this.measuredTxRate);this.updateTokenBucketRate(n)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),r=Math.floor(t*2)/2;if(this.requestCount++,r>this.lastTxRateBucket){let n=this.requestCount/(r-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=r}}getPrecise(t){return parseFloat(t.toFixed(8))}};var td="amz-sdk-invocation-id",rd="amz-sdk-request";var vS=()=>{let e=100;return{computeNextBackoffDelay:n=>Math.floor(Math.min(2e4,Math.random()*2**n*e)),setDelayBase:n=>{e=n}}};var BS=(e,t,r,n)=>{let s=e,o=(n==null?void 0:n.retryCost)??5,i=(n==null?void 0:n.timeoutRetryCost)??10,a=(n==null?void 0:n.retryBackoffStrategy)??vS(),c=e,d=Math.min(2e4,t),l,f=r??0,u=Q=>Q==="TRANSIENT"?i:o,g=()=>f,y=()=>d,S=()=>l,R=Q=>u(Q)<=c;return{getRetryCount:g,getRetryDelay:y,getLastRetryCost:S,hasRetryTokens:R,getRetryTokenCount:Q=>{let Ue=Q.errorType;if(!R(Ue))throw new Error("No retry token available");let X=u(Ue),Ce=Ue==="THROTTLING"?500:100;a.setDelayBase(Ce);let J=a.computeNextBackoffDelay(f);if(Q.retryAfterHint){let K=Q.retryAfterHint.getTime()-Date.now();d=Math.max(K||0,J)}else d=J;return f++,l=X,c-=X,X},releaseRetryTokens:Q=>{c+=Q??1,c=Math.min(c,s)}}};var Vo=class{constructor(t){this.maxAttemptsProvider=t,this.mode=Tr.STANDARD,this.retryToken=BS(500,100),this.maxAttemptsProvider=t}async acquireInitialRetryToken(t){return this.retryToken}async refreshRetryTokenForRetry(t,r){let n=await this.getMaxAttempts();if(this.shouldRetry(t,r,n))return t.getRetryTokenCount(r),t;throw new Error("No retry token available")}recordSuccess(t){this.retryToken.releaseRetryTokens(t.getLastRetryCost())}async getMaxAttempts(){let t;try{return await this.maxAttemptsProvider()}catch{return console.warn(`Max attempts provider could not resolve. Using default of ${js}`),js}}shouldRetry(t,r,n){return t.getRetryCount()<n&&t.hasRetryTokens(r.errorType)&&this.isRetryableError(r.errorType)}isRetryableError(t){return t==="THROTTLING"||t==="TRANSIENT"}};var sd=class{constructor(t,r){this.maxAttemptsProvider=t,this.mode=Tr.ADAPTIVE;let{rateLimiter:n}=r??{};this.rateLimiter=n??new Sa,this.standardRetryStrategy=new Vo(t)}async acquireInitialRetryToken(t){return await this.rateLimiter.getSendToken(),this.standardRetryStrategy.acquireInitialRetryToken(t)}async refreshRetryTokenForRetry(t,r){return this.rateLimiter.updateClientSendingRate(r),this.standardRetryStrategy.refreshRetryTokenForRetry(t,r)}recordSuccess(t){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(t)}};var lh=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`);var LS="AWS_MAX_ATTEMPTS",FS="max_attempts",Qn={environmentVariableSelector:e=>{let t=e[LS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Environment variable ${LS} mast be a number, got "${t}"`);return r},configFileSelector:e=>{let t=e[FS];if(!t)return;let r=parseInt(t);if(Number.isNaN(r))throw new Error(`Shared config file entry ${FS} mast be a number, got "${t}"`);return r},default:js},Zn=e=>{let{retryStrategy:t}=e,r=nt(e.maxAttempts??js);return{...e,maxAttempts:r,retryStrategy:async()=>t||(await nt(e.retryMode)()===Tr.ADAPTIVE?new sd(r):new Vo(r))}},WM="AWS_RETRY_MODE",YM="retry_mode",Jn={environmentVariableSelector:e=>e[WM],configFileSelector:e=>e[YM],default:Nr};af();var XM=e=>(t,r)=>async n=>{let s=await e.retryStrategy(),o=await e.maxAttempts();if(QM(s)){s=s;let i=await s.acquireInitialRetryToken(r.partition_id),a=new Error,c=0,d=0,{request:l}=n;for(ee.isInstance(l)&&(l.headers[td]=vc());;)try{ee.isInstance(l)&&(l.headers[rd]=`attempt=${c+1}; max=${o}`);let{response:f,output:u}=await t(n);return s.recordSuccess(i),u.$metadata.attempts=c+1,u.$metadata.totalRetryDelay=d,{response:f,output:u}}catch(f){let u=ZM(f);a=lh(f);try{i=await s.refreshRetryTokenForRetry(i,u)}catch{throw a.$metadata||(a.$metadata={}),a.$metadata.attempts=c+1,a.$metadata.totalRetryDelay=d,a}c=i.getRetryCount();let g=i.getRetryDelay();d+=g,await new Promise(y=>setTimeout(y,g))}}else return s=s,s!=null&&s.mode&&(r.userAgent=[...r.userAgent||[],["cfg/retry-mode",s.mode]]),s.retry(t,n)},QM=e=>typeof e.acquireInitialRetryToken<"u"&&typeof e.refreshRetryTokenForRetry<"u"&&typeof e.recordSuccess<"u",ZM=e=>{let t={errorType:JM(e)},r=tL(e.$response);return r&&(t.retryAfterHint=r),t},JM=e=>Go(e)?"THROTTLING":ed(e)?"TRANSIENT":NS(e)?"SERVER_ERROR":"CLIENT_ERROR",eL={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},es=e=>({applyToStack:t=>{t.add(XM(e),eL)}}),tL=e=>{if(!Zt.isInstance(e))return;let t=Object.keys(e.headers).find(o=>o.toLowerCase()==="retry-after");if(!t)return;let r=e.headers[t],n=Number(r);return Number.isNaN(n)?new Date(r):new Date(n*1e3)};var Nt=class extends Error{constructor(t,r=!0){super(t),this.tryNextLink=r,this.name="ProviderError",Object.setPrototypeOf(this,Nt.prototype)}static from(t,r=!0){return Object.assign(new this(t.message,r),t)}};var $=class extends Nt{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="CredentialsProviderError",Object.setPrototypeOf(this,$.prototype)}};var vt=class extends Nt{constructor(t,r=!0){super(t,r),this.tryNextLink=r,this.name="TokenProviderError",Object.setPrototypeOf(this,vt.prototype)}};function od(...e){return()=>{let t=Promise.reject(new Nt("No providers in chain"));for(let r of e)t=t.catch(n=>{if(n!=null&&n.tryNextLink)return r();throw n});return t}}var US=e=>()=>Promise.resolve(e);var ts=(e,t,r)=>{let n,s,o,i=!1,a=async()=>{s||(s=e());try{n=await s,o=!0,i=!1}finally{s=void 0}return n};return t===void 0?async c=>((!o||c!=null&&c.forceRefresh)&&(n=await a()),n):async c=>((!o||c!=null&&c.forceRefresh)&&(n=await a()),i?n:r&&!r(n)?(i=!0,n):(t(n)&&await a(),n))};var zS={},uh={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),zS[e]=t,uh[t]=e}function $S(e){if(e.length%2!==0)throw new Error("Hex encoded strings must have an even number length");let t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){let n=e.slice(r,r+2).toLowerCase();if(n in uh)t[r/2]=uh[n];else throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`)}return t}function ot(e){let t="";for(let r=0;r<e.byteLength;r++)t+=zS[e[r]];return t}var qS="X-Amz-Algorithm",HS="X-Amz-Credential",fh="X-Amz-Date",jS="X-Amz-SignedHeaders",GS="X-Amz-Expires",hh="X-Amz-Signature",mh="X-Amz-Security-Token";var ph="authorization",yh=fh.toLowerCase(),rL="date",KS=[ph,yh,rL],VS=hh.toLowerCase(),wa="x-amz-content-sha256",WS=mh.toLowerCase();var YS={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},XS=/^proxy-/,QS=/^sec-/;var id="AWS4-HMAC-SHA256";var ZS="AWS4-HMAC-SHA256-PAYLOAD",JS="UNSIGNED-PAYLOAD",ew=50,gh="aws4_request",tw=60*60*24*7;var ad={},Eh=[],cd=(e,t,r)=>`${e}/${t}/${r}/${gh}`,nw=async(e,t,r,n,s)=>{let o=await rw(e,t.secretAccessKey,t.accessKeyId),i=`${r}:${n}:${s}:${ot(o)}:${t.sessionToken}`;if(i in ad)return ad[i];for(Eh.push(i);Eh.length>ew;)delete ad[Eh.shift()];let a=`AWS4${t.secretAccessKey}`;for(let c of[r,n,s,gh])a=await rw(e,a,c);return ad[i]=a};var rw=(e,t,r)=>{let n=new e(t);return n.update(Tt(r)),n.digest()};var dd=({headers:e},t,r)=>{let n={};for(let s of Object.keys(e).sort()){if(e[s]==null)continue;let o=s.toLowerCase();(o in YS||t!=null&&t.has(o)||XS.test(o)||QS.test(o))&&(!r||r&&!r.has(o))||(n[o]=e[s].trim().replace(/\s+/g," "))}return n};var vr=e=>encodeURIComponent(e).replace(/[!'()*]/g,nL),nL=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`;var xh=({query:e={}})=>{let t=[],r={};for(let n of Object.keys(e).sort()){if(n.toLowerCase()===VS)continue;t.push(n);let s=e[n];typeof s=="string"?r[n]=`${vr(n)}=${vr(s)}`:Array.isArray(s)&&(r[n]=s.slice(0).sort().reduce((o,i)=>o.concat([`${vr(n)}=${vr(i)}`]),[]).join("&"))}return t.map(n=>r[n]).filter(n=>n).join("&")};var ba=async({headers:e,body:t},r)=>{for(let n of Object.keys(e))if(n.toLowerCase()===wa)return e[n];if(t==null)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if(typeof t=="string"||ArrayBuffer.isView(t)||Uo(t)){let n=new r;return n.update(Tt(t)),ot(await n.digest())}return JS};var sw=(e,t)=>{e=e.toLowerCase();for(let r of Object.keys(t))if(e===r.toLowerCase())return!0;return!1};var ld=({headers:e,query:t,...r})=>({...r,headers:{...e},query:t?sL(t):void 0}),sL=e=>Object.keys(e).reduce((t,r)=>{let n=e[r];return{...t,[r]:Array.isArray(n)?[...n]:n}},{});var Ch=(e,t={})=>{var s;let{headers:r,query:n={}}=typeof e.clone=="function"?e.clone():ld(e);for(let o of Object.keys(r)){let i=o.toLowerCase();i.slice(0,6)==="x-amz-"&&!((s=t.unhoistableHeaders)!=null&&s.has(i))&&(n[o]=r[o],delete r[o])}return{...e,headers:r,query:n}};var ud=e=>{e=typeof e.clone=="function"?e.clone():ld(e);for(let t of Object.keys(e.headers))KS.indexOf(t.toLowerCase())>-1&&delete e.headers[t];return e};var ow=e=>oL(e).toISOString().replace(/\.\d{3}Z$/,"Z"),oL=e=>typeof e=="number"?new Date(e*1e3):typeof e=="string"?Number(e)?new Date(Number(e)*1e3):new Date(e):e;var Gs=class{constructor({applyChecksum:t,credentials:r,region:n,service:s,sha256:o,uriEscapePath:i=!0}){this.service=s,this.sha256=o,this.uriEscapePath=i,this.applyChecksum=typeof t=="boolean"?t:!0,this.regionProvider=nt(n),this.credentialProvider=nt(r)}async presign(t,r={}){let{signingDate:n=new Date,expiresIn:s=3600,unsignableHeaders:o,unhoistableHeaders:i,signableHeaders:a,signingRegion:c,signingService:d}=r,l=await this.credentialProvider();this.validateResolvedCredentials(l);let f=c??await this.regionProvider(),{longDate:u,shortDate:g}=fd(n);if(s>tw)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let y=cd(g,f,d??this.service),S=Ch(ud(t),{unhoistableHeaders:i});l.sessionToken&&(S.query[mh]=l.sessionToken),S.query[qS]=id,S.query[HS]=`${l.accessKeyId}/${y}`,S.query[fh]=u,S.query[GS]=s.toString(10);let R=dd(S,o,a);return S.query[jS]=iw(R),S.query[hh]=await this.getSignature(u,y,this.getSigningKey(l,f,g,d),this.createCanonicalRequest(S,R,await ba(t,this.sha256))),S}async sign(t,r){return typeof t=="string"?this.signString(t,r):t.headers&&t.payload?this.signEvent(t,r):this.signRequest(t,r)}async signEvent({headers:t,payload:r},{signingDate:n=new Date,priorSignature:s,signingRegion:o,signingService:i}){let a=o??await this.regionProvider(),{shortDate:c,longDate:d}=fd(n),l=cd(c,a,i??this.service),f=await ba({headers:{},body:r},this.sha256),u=new this.sha256;u.update(t);let g=ot(await u.digest()),y=[ZS,d,l,s,g,f].join(`
`);return this.signString(y,{signingDate:n,signingRegion:a,signingService:i})}async signString(t,{signingDate:r=new Date,signingRegion:n,signingService:s}={}){let o=await this.credentialProvider();this.validateResolvedCredentials(o);let i=n??await this.regionProvider(),{shortDate:a}=fd(r),c=new this.sha256(await this.getSigningKey(o,i,a,s));return c.update(Tt(t)),ot(await c.digest())}async signRequest(t,{signingDate:r=new Date,signableHeaders:n,unsignableHeaders:s,signingRegion:o,signingService:i}={}){let a=await this.credentialProvider();this.validateResolvedCredentials(a);let c=o??await this.regionProvider(),d=ud(t),{longDate:l,shortDate:f}=fd(r),u=cd(f,c,i??this.service);d.headers[yh]=l,a.sessionToken&&(d.headers[WS]=a.sessionToken);let g=await ba(d,this.sha256);!sw(wa,d.headers)&&this.applyChecksum&&(d.headers[wa]=g);let y=dd(d,s,n),S=await this.getSignature(l,u,this.getSigningKey(a,c,f,i),this.createCanonicalRequest(d,y,g));return d.headers[ph]=`${id} Credential=${a.accessKeyId}/${u}, SignedHeaders=${iw(y)}, Signature=${S}`,d}createCanonicalRequest(t,r,n){let s=Object.keys(r).sort();return`${t.method}
${this.getCanonicalPath(t)}
${xh(t)}
${s.map(o=>`${o}:${r[o]}`).join(`
`)}

${s.join(";")}
${n}`}async createStringToSign(t,r,n){let s=new this.sha256;s.update(Tt(n));let o=await s.digest();return`${id}
${t}
${r}
${ot(o)}`}getCanonicalPath({path:t}){if(this.uriEscapePath){let r=[];for(let o of t.split("/"))(o==null?void 0:o.length)!==0&&o!=="."&&(o===".."?r.pop():r.push(o));let n=`${t!=null&&t.startsWith("/")?"/":""}${r.join("/")}${r.length>0&&(t!=null&&t.endsWith("/"))?"/":""}`;return encodeURIComponent(n).replace(/%2F/g,"/")}return t}async getSignature(t,r,n,s){let o=await this.createStringToSign(t,r,s),i=new this.sha256(await n);return i.update(Tt(o)),ot(await i.digest())}getSigningKey(t,r,n,s){return nw(this.sha256,t,n,r,s||this.service)}validateResolvedCredentials(t){if(typeof t!="object"||typeof t.accessKeyId!="string"||typeof t.secretAccessKey!="string")throw new Error("Resolved credential object is not valid")}},fd=e=>{let t=ow(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.slice(0,8)}},iw=e=>Object.keys(e).sort().join(";");var iL=3e5,hd=e=>{let t=e.credentials?aL(e.credentials):e.credentialDefaultProvider(e),{signingEscapePath:r=!0,systemClockOffset:n=e.systemClockOffset||0,sha256:s}=e,o;return e.signer?o=nt(e.signer):e.regionInfoProvider?o=()=>nt(e.region)().then(async i=>[await e.regionInfoProvider(i,{useFipsEndpoint:await e.useFipsEndpoint(),useDualstackEndpoint:await e.useDualstackEndpoint()})||{},i]).then(([i,a])=>{let{signingRegion:c,signingService:d}=i;e.signingRegion=e.signingRegion||c||a,e.signingName=e.signingName||d||e.serviceId;let l={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:r},f=e.signerConstructor||Gs;return new f(l)}):o=async i=>{i=Object.assign({},{name:"sigv4",signingName:e.signingName||e.defaultSigningName,signingRegion:await nt(e.region)(),properties:{}},i);let a=i.signingRegion,c=i.signingName;e.signingRegion=e.signingRegion||a,e.signingName=e.signingName||c||e.serviceId;let d={...e,credentials:t,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:r},l=e.signerConstructor||Gs;return new l(d)},{...e,systemClockOffset:n,signingEscapePath:r,credentials:t,signer:o}};var aL=e=>typeof e=="function"?ts(e,t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<iL,t=>t.expiration!==void 0):nt(e);var md=e=>new Date(Date.now()+e);var aw=(e,t)=>Math.abs(md(t).getTime()-e)>=3e5;var Sh=(e,t)=>{let r=Date.parse(e);return aw(r,t)?r-Date.now():t};var cL=e=>(t,r)=>async function(n){var d,l,f,u;if(!ee.isInstance(n.request))return t(n);let s=(f=(l=(d=r.endpointV2)==null?void 0:d.properties)==null?void 0:l.authSchemes)==null?void 0:f[0],o=(s==null?void 0:s.name)==="sigv4a"?(u=s==null?void 0:s.signingRegionSet)==null?void 0:u.join(","):void 0,i=await e.signer(s),a=await t({...n,request:await i.sign(n.request,{signingDate:md(e.systemClockOffset),signingRegion:o||r.signing_region,signingService:r.signing_service})}).catch(g=>{let y=g.ServerTime??cw(g.$response);throw y&&(e.systemClockOffset=Sh(y,e.systemClockOffset)),g}),c=cw(a.response);return c&&(e.systemClockOffset=Sh(c,e.systemClockOffset)),a},cw=e=>{var t,r;return Zt.isInstance(e)?((t=e.headers)==null?void 0:t.date)??((r=e.headers)==null?void 0:r.Date):void 0},dL={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},pd=e=>({applyToStack:t=>{t.addRelativeTo(cL(e),dL)}});function rs(e){return{...e,customUserAgent:typeof e.customUserAgent=="string"?[[e.customUserAgent]]:e.customUserAgent}}var wh={partitions:[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],version:"1.1"};var dw=wh,lw="",uL=e=>{let{partitions:t}=dw;for(let n of t){let{regions:s,outputs:o}=n;for(let[i,a]of Object.entries(s))if(i===e)return{...o,...a}}for(let n of t){let{regionRegex:s,outputs:o}=n;if(new RegExp(s).test(e))return{...o}}let r=t.find(n=>n.id==="aws");if(!r)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return{...r.outputs}},uw=(e,t="")=>{dw=e,lw=t},fL=()=>{uw(wh,"")},bh=()=>lw;var tn="endpoints";function er(e){return typeof e!="object"||e==null?e:"ref"in e?`$${er(e.ref)}`:"fn"in e?`${e.fn}(${(e.argv||[]).map(er).join(", ")})`:JSON.stringify(e,null,2)}var _e=class extends Error{constructor(t){super(t),this.name="EndpointError"}};var kh={};_o(kh,{aws:()=>_h,booleanEquals:()=>yL,getAttr:()=>Rh,isSet:()=>gL,isValidHostLabel:()=>gd,not:()=>EL,parseURL:()=>xL,stringEquals:()=>CL,substring:()=>SL,uriEncode:()=>wL});var _h={};_o(_h,{getUserAgentPrefix:()=>bh,isVirtualHostableS3Bucket:()=>fw,parseArn:()=>pL,partition:()=>uL,setPartitionInfo:()=>uw,useDefaultPartitionInfo:()=>fL});var hL=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),yd=e=>hL.test(e)||e.startsWith("[")&&e.endsWith("]");var mL=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),gd=(e,t=!1)=>{if(!t)return mL.test(e);let r=e.split(".");for(let n of r)if(!gd(n))return!1;return!0};var fw=(e,t=!1)=>{if(t){for(let r of e.split("."))if(!fw(r))return!1;return!0}return!(!gd(e)||e.length<3||e.length>63||e!==e.toLowerCase()||yd(e))};var pL=e=>{let t=e.split(":");if(t.length<6)return null;let[r,n,s,o,i,...a]=t;return r!=="arn"||n===""||s===""||a[0]===""?null:{partition:n,service:s,region:o,accountId:i,resourceId:a[0].includes("/")?a[0].split("/"):a}};var yL=(e,t)=>e===t;var hw=e=>{let t=e.split("."),r=[];for(let n of t){let s=n.indexOf("[");if(s!==-1){if(n.indexOf("]")!==n.length-1)throw new _e(`Path: '${e}' does not end with ']'`);let o=n.slice(s+1,-1);if(Number.isNaN(parseInt(o)))throw new _e(`Invalid array index: '${o}' in path: '${e}'`);s!==0&&r.push(n.slice(0,s)),r.push(o)}else r.push(n)}return r};var Rh=(e,t)=>hw(t).reduce((r,n)=>{if(typeof r!="object")throw new _e(`Index '${n}' in '${t}' not found in '${JSON.stringify(e)}'`);return Array.isArray(r)?r[parseInt(n)]:r[n]},e);var gL=e=>e!=null;var EL=e=>!e;var mw;(function(e){e.HEADER="header",e.QUERY="query"})(mw||(mw={}));var pw;(function(e){e.AAAA="AAAA",e.A="A"})(pw||(pw={}));var Wo;(function(e){e.HTTP="http",e.HTTPS="https"})(Wo||(Wo={}));var yw;(function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"})(yw||(yw={}));var Ah={[Wo.HTTP]:80,[Wo.HTTPS]:443},xL=e=>{let t=(()=>{try{if(e instanceof URL)return e;if(typeof e=="object"&&"hostname"in e){let{hostname:u,port:g,protocol:y="",path:S="",query:R={}}=e,O=new URL(`${y}//${u}${g?`:${g}`:""}${S}`);return O.search=Object.entries(R).map(([re,Q])=>`${re}=${Q}`).join("&"),O}return new URL(e)}catch{return null}})();if(!t)return console.error(`Unable to parse ${JSON.stringify(e)} as a whatwg URL.`),null;let r=t.href,{host:n,hostname:s,pathname:o,protocol:i,search:a}=t;if(a)return null;let c=i.slice(0,-1);if(!Object.values(Wo).includes(c))return null;let d=yd(s),l=r.includes(`${n}:${Ah[c]}`)||typeof e=="string"&&e.includes(`${n}:${Ah[c]}`),f=`${n}${l?`:${Ah[c]}`:""}`;return{scheme:c,authority:f,path:o,normalizedPath:o.endsWith("/")?o:`${o}/`,isIp:d}};var CL=(e,t)=>e===t;var SL=(e,t,r,n)=>t>=r||e.length<r?null:n?e.substring(e.length-r,e.length-t):e.substring(t,r);var wL=e=>encodeURIComponent(e).replace(/[!*'()]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`);var Ed=(e,t)=>{let r=[],n={...t.endpointParams,...t.referenceRecord},s=0;for(;s<e.length;){let o=e.indexOf("{",s);if(o===-1){r.push(e.slice(s));break}r.push(e.slice(s,o));let i=e.indexOf("}",o);if(i===-1){r.push(e.slice(o));break}e[o+1]==="{"&&e[i+1]==="}"&&(r.push(e.slice(o+1,i)),s=i+2);let a=e.substring(o+1,i);if(a.includes("#")){let[c,d]=a.split("#");r.push(Rh(n[c],d))}else r.push(n[a]);s=i+1}return r.join("")};var gw=({ref:e},t)=>({...t.endpointParams,...t.referenceRecord})[e];var ns=(e,t,r)=>{if(typeof e=="string")return Ed(e,r);if(e.fn)return xd(e,r);if(e.ref)return gw(e,r);throw new _e(`'${t}': ${String(e)} is not a string, function or reference.`)};var xd=({fn:e,argv:t},r)=>{let n=t.map(s=>["boolean","number"].includes(typeof s)?s:ns(s,"arg",r));return e.split(".").reduce((s,o)=>s[o],kh)(...n)};var Ew=({assign:e,...t},r)=>{var s,o;if(e&&e in r.referenceRecord)throw new _e(`'${e}' is already defined in Reference Record.`);let n=xd(t,r);return(o=(s=r.logger)==null?void 0:s.debug)==null||o.call(s,tn,`evaluateCondition: ${er(t)} = ${er(n)}`),{result:n===""?!0:!!n,...e!=null&&{toAssign:{name:e,value:n}}}};var Yo=(e=[],t)=>{var n,s;let r={};for(let o of e){let{result:i,toAssign:a}=Ew(o,{...t,referenceRecord:{...t.referenceRecord,...r}});if(!i)return{result:i};a&&(r[a.name]=a.value,(s=(n=t.logger)==null?void 0:n.debug)==null||s.call(n,tn,`assign: ${a.name} := ${er(a.value)}`))}return{result:!0,referenceRecord:r}};var xw=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:s.map(o=>{let i=ns(o,"Header value entry",t);if(typeof i!="string")throw new _e(`Header '${n}' value '${i}' is not a string`);return i})}),{});var Th=(e,t)=>{if(Array.isArray(e))return e.map(r=>Th(r,t));switch(typeof e){case"string":return Ed(e,t);case"object":if(e===null)throw new _e(`Unexpected endpoint property: ${e}`);return Cd(e,t);case"boolean":return e;default:throw new _e(`Unexpected endpoint property type: ${typeof e}`)}};var Cd=(e,t)=>Object.entries(e).reduce((r,[n,s])=>({...r,[n]:Th(s,t)}),{});var Cw=(e,t)=>{let r=ns(e,"Endpoint URL",t);if(typeof r=="string")try{return new URL(r)}catch(n){throw console.error(`Failed to construct URL with ${r}`,n),n}throw new _e(`Endpoint URL must be a string, got ${typeof r}`)};var Sw=(e,t)=>{var l,f;let{conditions:r,endpoint:n}=e,{result:s,referenceRecord:o}=Yo(r,t);if(!s)return;let i={...t,referenceRecord:{...t.referenceRecord,...o}},{url:a,properties:c,headers:d}=n;return(f=(l=t.logger)==null?void 0:l.debug)==null||f.call(l,tn,`Resolving endpoint from template: ${er(n)}`),{...d!=null&&{headers:xw(d,i)},...c!=null&&{properties:Cd(c,i)},url:Cw(a,i)}};var ww=(e,t)=>{let{conditions:r,error:n}=e,{result:s,referenceRecord:o}=Yo(r,t);if(s)throw new _e(ns(n,"Error",{...t,referenceRecord:{...t.referenceRecord,...o}}))};var bw=(e,t)=>{let{conditions:r,rules:n}=e,{result:s,referenceRecord:o}=Yo(r,t);if(s)return Sd(n,{...t,referenceRecord:{...t.referenceRecord,...o}})};var Sd=(e,t)=>{for(let r of e)if(r.type==="endpoint"){let n=Sw(r,t);if(n)return n}else if(r.type==="error")ww(r,t);else if(r.type==="tree"){let n=bw(r,t);if(n)return n}else throw new _e(`Unknown endpoint rule: ${r}`);throw new _e("Rules evaluation failed")};var ss=(e,t)=>{var d,l,f,u,g;let{endpointParams:r,logger:n}=t,{parameters:s,rules:o}=e;(l=(d=t.logger)==null?void 0:d.debug)==null||l.call(d,tn,`Initial EndpointParams: ${er(r)}`);let i=Object.entries(s).filter(([,y])=>y.default!=null).map(([y,S])=>[y,S.default]);if(i.length>0)for(let[y,S]of i)r[y]=r[y]??S;let a=Object.entries(s).filter(([,y])=>y.required).map(([y])=>y);for(let y of a)if(r[y]==null)throw new _e(`Missing required parameter: '${y}'`);let c=Sd(o,{endpointParams:r,logger:n,referenceRecord:{}});if((f=t.endpointParams)!=null&&f.Endpoint)try{let y=new URL(t.endpointParams.Endpoint),{protocol:S,port:R}=y;c.url.protocol=S,c.url.port=R}catch{}return(g=(u=t.logger)==null?void 0:u.debug)==null||g.call(u,tn,`Resolved endpoint: ${er(c)}`),c};var Nh="user-agent",wd="x-amz-user-agent",vh=" ",_w=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g;var bL=e=>(t,r)=>async n=>{var u,g;let{request:s}=n;if(!ee.isInstance(s))return t(n);let{headers:o}=s,i=((u=r==null?void 0:r.userAgent)==null?void 0:u.map(Ph))||[],a=(await e.defaultUserAgentProvider()).map(Ph),c=((g=e==null?void 0:e.customUserAgent)==null?void 0:g.map(Ph))||[],d=bh(),l=(d?[d]:[]).concat([...a,...i,...c]).join(vh),f=[...a.filter(y=>y.startsWith("aws-sdk-")),...c].join(vh);return e.runtime!=="browser"?(f&&(o[wd]=o[wd]?`${o[Nh]} ${f}`:f),o[Nh]=l):o[wd]=l,t({...n,request:s})},Ph=([e,t])=>{let r=e.indexOf("/"),n=e.substring(0,r),s=e.substring(r+1);return n==="api"&&(s=s.toLowerCase()),[n,s,t].filter(o=>o&&o.length>0).map(o=>o==null?void 0:o.replace(_w,"_")).join("/")},_L={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},os=e=>({applyToStack:t=>{t.add(bL(e),_L)}});var Rw=e=>({...e,useFipsEndpoint:e.useFipsEndpoint??!1,useDualstackEndpoint:e.useDualstackEndpoint??!1,useAccelerateEndpoint:e.useAccelerateEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,disableMultiregionAccessPoints:e.disableMultiregionAccessPoints??!1,defaultSigningName:"s3"});var Aw={name:"@aws-sdk/client-s3",description:"AWS SDK for JavaScript S3 Client for Node.js, Browser and React Native",version:"3.312.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo s3",test:"yarn test:unit","test:e2e":"ts-mocha test/**/*.ispec.ts && karma start karma.conf.js","test:unit":"ts-mocha test/**/*.spec.ts"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha1-browser":"3.0.0","@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/client-sts":"3.312.0","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/credential-provider-node":"3.310.0","@aws-sdk/eventstream-serde-browser":"3.310.0","@aws-sdk/eventstream-serde-config-resolver":"3.310.0","@aws-sdk/eventstream-serde-node":"3.310.0","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-blob-browser":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/hash-stream-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/md5-js":"3.310.0","@aws-sdk/middleware-bucket-endpoint":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-expect-continue":"3.310.0","@aws-sdk/middleware-flexible-checksums":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-location-constraint":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-sdk-s3":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-signing":"3.310.0","@aws-sdk/middleware-ssec":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.310.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.310.0","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/signature-v4-multi-region":"3.310.0","@aws-sdk/smithy-client":"3.310.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.310.0","@aws-sdk/util-defaults-mode-node":"3.310.0","@aws-sdk/util-endpoints":"3.310.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-stream-browser":"3.310.0","@aws-sdk/util-stream-node":"3.310.0","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0","@aws-sdk/util-waiter":"3.310.0","@aws-sdk/xml-builder":"3.310.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/chai":"^4.2.11","@types/mocha":"^8.0.4","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-s3",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-s3"}};var kw=Vt(jf());var wt=class extends Qt{constructor(t){super(t),Object.setPrototypeOf(this,wt.prototype)}};var Xo=class extends wt{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,Xo.prototype)}},Qo=class extends wt{constructor(t){super({name:"MalformedPolicyDocumentException",$fault:"client",...t}),this.name="MalformedPolicyDocumentException",this.$fault="client",Object.setPrototypeOf(this,Qo.prototype)}},Zo=class extends wt{constructor(t){super({name:"PackedPolicyTooLargeException",$fault:"client",...t}),this.name="PackedPolicyTooLargeException",this.$fault="client",Object.setPrototypeOf(this,Zo.prototype)}},Jo=class extends wt{constructor(t){super({name:"RegionDisabledException",$fault:"client",...t}),this.name="RegionDisabledException",this.$fault="client",Object.setPrototypeOf(this,Jo.prototype)}},ei=class extends wt{constructor(t){super({name:"IDPRejectedClaimException",$fault:"client",...t}),this.name="IDPRejectedClaimException",this.$fault="client",Object.setPrototypeOf(this,ei.prototype)}},ti=class extends wt{constructor(t){super({name:"InvalidIdentityTokenException",$fault:"client",...t}),this.name="InvalidIdentityTokenException",this.$fault="client",Object.setPrototypeOf(this,ti.prototype)}},ri=class extends wt{constructor(t){super({name:"IDPCommunicationErrorException",$fault:"client",...t}),this.name="IDPCommunicationErrorException",this.$fault="client",Object.setPrototypeOf(this,ri.prototype)}};var Tw=async(e,t)=>{let r=zw,n;return n=qw({...PL(e,t),Action:"AssumeRole",Version:"2011-06-15"}),Uw(t,r,"/",void 0,n)};var Nw=async(e,t)=>{let r=zw,n;return n=qw({...OL(e,t),Action:"AssumeRoleWithWebIdentity",Version:"2011-06-15"}),Uw(t,r,"/",void 0,n)};var vw=async(e,t)=>{if(e.statusCode>=300)return AL(e,t);let r=await Oh(e.body,t),n={};n=LL(r.AssumeRoleResult,t);let s={$metadata:rn(e),...n};return Promise.resolve(s)},AL=async(e,t)=>{let r={...e,body:await $w(e.body,t)},n=Hw(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Ow(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Iw(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Dw(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Bw(r,t);default:let s=r.body;At({output:e,parsedBody:s.Error,exceptionCtor:wt,errorCode:n})}};var Pw=async(e,t)=>{if(e.statusCode>=300)return kL(e,t);let r=await Oh(e.body,t),n={};n=FL(r.AssumeRoleWithWebIdentityResult,t);let s={$metadata:rn(e),...n};return Promise.resolve(s)},kL=async(e,t)=>{let r={...e,body:await $w(e.body,t)},n=Hw(e,r.body);switch(n){case"ExpiredTokenException":case"com.amazonaws.sts#ExpiredTokenException":throw await Ow(r,t);case"IDPCommunicationError":case"com.amazonaws.sts#IDPCommunicationErrorException":throw await TL(r,t);case"IDPRejectedClaim":case"com.amazonaws.sts#IDPRejectedClaimException":throw await NL(r,t);case"InvalidIdentityToken":case"com.amazonaws.sts#InvalidIdentityTokenException":throw await vL(r,t);case"MalformedPolicyDocument":case"com.amazonaws.sts#MalformedPolicyDocumentException":throw await Iw(r,t);case"PackedPolicyTooLarge":case"com.amazonaws.sts#PackedPolicyTooLargeException":throw await Dw(r,t);case"RegionDisabledException":case"com.amazonaws.sts#RegionDisabledException":throw await Bw(r,t);default:let s=r.body;At({output:e,parsedBody:s.Error,exceptionCtor:wt,errorCode:n})}};var Ow=async(e,t)=>{let r=e.body,n=UL(r.Error,t),s=new Xo({$metadata:rn(e),...n});return ye(s,r)},TL=async(e,t)=>{let r=e.body,n=zL(r.Error,t),s=new ri({$metadata:rn(e),...n});return ye(s,r)},NL=async(e,t)=>{let r=e.body,n=$L(r.Error,t),s=new ei({$metadata:rn(e),...n});return ye(s,r)};var vL=async(e,t)=>{let r=e.body,n=qL(r.Error,t),s=new ti({$metadata:rn(e),...n});return ye(s,r)},Iw=async(e,t)=>{let r=e.body,n=HL(r.Error,t),s=new Qo({$metadata:rn(e),...n});return ye(s,r)},Dw=async(e,t)=>{let r=e.body,n=jL(r.Error,t),s=new Zo({$metadata:rn(e),...n});return ye(s,r)},Bw=async(e,t)=>{let r=e.body,n=GL(r.Error,t),s=new Jo({$metadata:rn(e),...n});return ye(s,r)},PL=(e,t)=>{var n,s,o;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.PolicyArns!=null){let i=Mw(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(i).forEach(([a,c])=>{let d=`PolicyArns.${a}`;r[d]=c})}if(e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),e.Tags!=null){let i=ML(e.Tags,t);((s=e.Tags)==null?void 0:s.length)===0&&(r.Tags=[]),Object.entries(i).forEach(([a,c])=>{let d=`Tags.${a}`;r[d]=c})}if(e.TransitiveTagKeys!=null){let i=BL(e.TransitiveTagKeys,t);((o=e.TransitiveTagKeys)==null?void 0:o.length)===0&&(r.TransitiveTagKeys=[]),Object.entries(i).forEach(([a,c])=>{let d=`TransitiveTagKeys.${a}`;r[d]=c})}return e.ExternalId!=null&&(r.ExternalId=e.ExternalId),e.SerialNumber!=null&&(r.SerialNumber=e.SerialNumber),e.TokenCode!=null&&(r.TokenCode=e.TokenCode),e.SourceIdentity!=null&&(r.SourceIdentity=e.SourceIdentity),r};var OL=(e,t)=>{var n;let r={};if(e.RoleArn!=null&&(r.RoleArn=e.RoleArn),e.RoleSessionName!=null&&(r.RoleSessionName=e.RoleSessionName),e.WebIdentityToken!=null&&(r.WebIdentityToken=e.WebIdentityToken),e.ProviderId!=null&&(r.ProviderId=e.ProviderId),e.PolicyArns!=null){let s=Mw(e.PolicyArns,t);((n=e.PolicyArns)==null?void 0:n.length)===0&&(r.PolicyArns=[]),Object.entries(s).forEach(([o,i])=>{let a=`PolicyArns.${o}`;r[a]=i})}return e.Policy!=null&&(r.Policy=e.Policy),e.DurationSeconds!=null&&(r.DurationSeconds=e.DurationSeconds),r};var Mw=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=IL(s,t);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},IL=(e,t)=>{let r={};return e.arn!=null&&(r.arn=e.arn),r},DL=(e,t)=>{let r={};return e.Key!=null&&(r.Key=e.Key),e.Value!=null&&(r.Value=e.Value),r},BL=(e,t)=>{let r={},n=1;for(let s of e)s!==null&&(r[`member.${n}`]=s,n++);return r},ML=(e,t)=>{let r={},n=1;for(let s of e){if(s===null)continue;let o=DL(s,t);Object.entries(o).forEach(([i,a])=>{r[`member.${n}.${i}`]=a}),n++}return r},Lw=(e,t)=>{let r={};return e.AssumedRoleId!==void 0&&(r.AssumedRoleId=P(e.AssumedRoleId)),e.Arn!==void 0&&(r.Arn=P(e.Arn)),r},LL=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=Fw(e.Credentials,t)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=Lw(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=Us(e.PackedPolicySize)),e.SourceIdentity!==void 0&&(r.SourceIdentity=P(e.SourceIdentity)),r};var FL=(e,t)=>{let r={};return e.Credentials!==void 0&&(r.Credentials=Fw(e.Credentials,t)),e.SubjectFromWebIdentityToken!==void 0&&(r.SubjectFromWebIdentityToken=P(e.SubjectFromWebIdentityToken)),e.AssumedRoleUser!==void 0&&(r.AssumedRoleUser=Lw(e.AssumedRoleUser,t)),e.PackedPolicySize!==void 0&&(r.PackedPolicySize=Us(e.PackedPolicySize)),e.Provider!==void 0&&(r.Provider=P(e.Provider)),e.Audience!==void 0&&(r.Audience=P(e.Audience)),e.SourceIdentity!==void 0&&(r.SourceIdentity=P(e.SourceIdentity)),r},Fw=(e,t)=>{let r={};return e.AccessKeyId!==void 0&&(r.AccessKeyId=P(e.AccessKeyId)),e.SecretAccessKey!==void 0&&(r.SecretAccessKey=P(e.SecretAccessKey)),e.SessionToken!==void 0&&(r.SessionToken=P(e.SessionToken)),e.Expiration!==void 0&&(r.Expiration=st(vf(e.Expiration))),r};var UL=(e,t)=>{let r={};return e.message!==void 0&&(r.message=P(e.message)),r};var zL=(e,t)=>{let r={};return e.message!==void 0&&(r.message=P(e.message)),r},$L=(e,t)=>{let r={};return e.message!==void 0&&(r.message=P(e.message)),r};var qL=(e,t)=>{let r={};return e.message!==void 0&&(r.message=P(e.message)),r},HL=(e,t)=>{let r={};return e.message!==void 0&&(r.message=P(e.message)),r},jL=(e,t)=>{let r={};return e.message!==void 0&&(r.message=P(e.message)),r},GL=(e,t)=>{let r={};return e.message!==void 0&&(r.message=P(e.message)),r},rn=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),KL=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),VL=(e,t)=>KL(e,t).then(r=>t.utf8Encoder(r)),Uw=async(e,t,r,n,s)=>{let{hostname:o,protocol:i="https",port:a,path:c}=await e.endpoint(),d={protocol:i,hostname:o,port:a,method:"POST",path:c.endsWith("/")?c.slice(0,-1)+r:c+r,headers:t};return n!==void 0&&(d.hostname=n),s!==void 0&&(d.body=s),new ee(d)},zw={"content-type":"application/x-www-form-urlencoded"},Oh=(e,t)=>VL(e,t).then(r=>{if(r.length){let n=new kw.XMLParser({attributeNamePrefix:"",htmlEntities:!0,ignoreAttributes:!1,ignoreDeclaration:!0,parseTagValue:!1,trimValues:!1,tagValueProcessor:(c,d)=>d.trim()===""&&d.includes(`
`)?"":void 0});n.addEntity("#xD","\r"),n.addEntity("#10",`
`);let s=n.parse(r),o="#text",i=Object.keys(s)[0],a=s[i];return a[o]&&(a[i]=a[o],delete a[o]),fa(a)}return{}}),$w=async(e,t)=>{let r=await Oh(e,t);return r.Error&&(r.Error.message=r.Error.message??r.Error.Message),r},qw=e=>Object.entries(e).map(([t,r])=>Zr(t)+"="+Zr(r)).join("&"),Hw=(e,t)=>{var r;if(((r=t.Error)==null?void 0:r.Code)!==void 0)return t.Error.Code;if(e.statusCode==404)return"NotFound"};var ni=class extends Ie{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(qe(r,ni.getEndpointParameterInstructions())),this.middlewareStack.use(pd(r));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"AssumeRoleCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return Tw(t,r)}deserialize(t,r){return vw(t,r)}};var si=class extends Ie{static getEndpointParameterInstructions(){return{UseGlobalEndpoint:{type:"builtInParams",name:"useGlobalEndpoint"},UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(qe(r,si.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"STSClient",commandName:"AssumeRoleWithWebIdentityCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return Nw(t,r)}deserialize(t,r){return Pw(t,r)}};var jw=(e,{stsClientCtor:t})=>hd({...e,stsClientCtor:t});var Gw=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,useGlobalEndpoint:e.useGlobalEndpoint??!1,defaultSigningName:"sts"});var Kw={name:"@aws-sdk/client-sts",description:"AWS SDK for JavaScript Sts Client for Node.js, Browser and React Native",version:"3.312.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sts",test:"yarn test:unit","test:unit":"jest"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/credential-provider-node":"3.310.0","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-sdk-sts":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-signing":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.310.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.310.0","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/smithy-client":"3.310.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.310.0","@aws-sdk/util-defaults-mode-node":"3.310.0","@aws-sdk/util-endpoints":"3.310.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0","fast-xml-parser":"4.1.2",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sts",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sts"}};var Vw="us-east-1",Ww=e=>typeof e!="function"?e===void 0?Vw:e:async()=>{try{return await e()}catch{return Vw}},Ih=(e,t)=>{let r,n;return async(s,o)=>{if(n=s,!r){let{logger:a,region:c,requestHandler:d}=e;r=new t({logger:a,credentialDefaultProvider:()=>async()=>n,region:Ww(c||e.region),...d?{requestHandler:d}:{}})}let{Credentials:i}=await r.send(new ni(o));if(!i||!i.AccessKeyId||!i.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRole call with role ${o.RoleArn}`);return{accessKeyId:i.AccessKeyId,secretAccessKey:i.SecretAccessKey,sessionToken:i.SessionToken,expiration:i.Expiration}}},Dh=(e,t)=>{let r;return async n=>{if(!r){let{logger:o,region:i,requestHandler:a}=e;r=new t({logger:o,region:Ww(i||e.region),...a?{requestHandler:a}:{}})}let{Credentials:s}=await r.send(new si(n));if(!s||!s.AccessKeyId||!s.SecretAccessKey)throw new Error(`Invalid response from STS.assumeRoleWithWebIdentity call with role ${n.RoleArn}`);return{accessKeyId:s.AccessKeyId,secretAccessKey:s.SecretAccessKey,sessionToken:s.SessionToken,expiration:s.Expiration}}},Yw=e=>t=>e({roleAssumer:Ih(t,t.stsClientCtor),roleAssumerWithWebIdentity:Dh(t,t.stsClientCtor),...t});var YL="AWS_ACCESS_KEY_ID",XL="AWS_SECRET_ACCESS_KEY",QL="AWS_SESSION_TOKEN",ZL="AWS_CREDENTIAL_EXPIRATION",bd=()=>async()=>{let e=process.env[YL],t=process.env[XL],r=process.env[QL],n=process.env[ZL];if(e&&t)return{accessKeyId:e,secretAccessKey:t,...r&&{sessionToken:r},...n&&{expiration:new Date(n)}};throw new $("Unable to find environment variable credentials.")};var Xw=require("os"),Qw=require("path"),oi=()=>{let{HOME:e,USERPROFILE:t,HOMEPATH:r,HOMEDRIVE:n=`C:${Qw.sep}`}=process.env;return e||t||(r?`${n}${r}`:(0,Xw.homedir)())};var Bh="AWS_PROFILE",JL="default",tr=e=>e.profile||process.env[Bh]||JL;var Zw=require("crypto"),Jw=require("path");var _d=e=>{let r=(0,Zw.createHash)("sha1").update(e).digest("hex");return(0,Jw.join)(oi(),".aws","sso","cache",`${r}.json`)};var eb=require("fs");var{readFile:eF}=eb.promises,Rd=async e=>{let t=_d(e),r=await eF(t,"utf8");return JSON.parse(r)};var tb=require("path");var tF="AWS_CONFIG_FILE",Ad=()=>process.env[tF]||(0,tb.join)(oi(),".aws","config");var rb=require("path");var rF="AWS_SHARED_CREDENTIALS_FILE",nb=()=>process.env[rF]||(0,rb.join)(oi(),".aws","credentials");var sb=/^profile\s(["'])?([^\1]+)\1$/,ob=e=>Object.entries(e).filter(([t])=>sb.test(t)).reduce((t,[r,n])=>({...t,[sb.exec(r)[2]]:n}),{...e.default&&{default:e.default}});var nF=["__proto__","profile __proto__"],_a=e=>{let t={},r;for(let n of e.split(/\r?\n/))if(n=n.split(/(^|\s)[;#]/)[0].trim(),n[0]==="["&&n[n.length-1]==="]"){if(r=n.substring(1,n.length-1),nF.includes(r))throw new Error(`Found invalid profile name "${r}"`)}else if(r){let o=n.indexOf("="),i=0,a=n.length-1;if(o!==-1&&o!==i&&o!==a){let[d,l]=[n.substring(0,o).trim(),n.substring(o+1).trim()];t[r]=t[r]||{},t[r][d]=l}}return t};var ib=require("fs"),{readFile:sF}=ib.promises,Mh={},Ra=(e,t)=>((!Mh[e]||t!=null&&t.ignoreCache)&&(Mh[e]=sF(e,"utf8")),Mh[e]);var ab=()=>({}),kd=async(e={})=>{let{filepath:t=nb(),configFilepath:r=Ad()}=e,n=await Promise.all([Ra(r,{ignoreCache:e.ignoreCache}).then(_a).then(ob).catch(ab),Ra(t,{ignoreCache:e.ignoreCache}).then(_a).catch(ab)]);return{configFile:n[0],credentialsFile:n[1]}};var cb=/^sso-session\s(["'])?([^\1]+)\1$/,db=e=>Object.entries(e).filter(([t])=>cb.test(t)).reduce((t,[r,n])=>({...t,[cb.exec(r)[2]]:n}),{});var oF=()=>({}),Td=async(e={})=>Ra(e.configFilepath??Ad()).then(_a).then(db).catch(oF);var lb=(...e)=>{let t={};for(let r of e)for(let[n,s]of Object.entries(r))t[n]!==void 0?Object.assign(t[n],s):t[n]=s;return t};var is=async e=>{let t=await kd(e);return lb(t.configFile,t.credentialsFile)};var mb=require("url");var ub=require("buffer"),fb=require("http");function nn(e){return new Promise((t,r)=>{var s;let n=(0,fb.request)({method:"GET",...e,hostname:(s=e.hostname)==null?void 0:s.replace(/^\[(.+)\]$/,"$1")});n.on("error",o=>{r(Object.assign(new Nt("Unable to connect to instance metadata service"),o)),n.destroy()}),n.on("timeout",()=>{r(new Nt("TimeoutError from instance metadata service")),n.destroy()}),n.on("response",o=>{let{statusCode:i=400}=o;(i<200||300<=i)&&(r(Object.assign(new Nt("Error response received from instance metadata service"),{statusCode:i})),n.destroy());let a=[];o.on("data",c=>{a.push(c)}),o.on("end",()=>{t(ub.Buffer.concat(a)),n.destroy()})}),n.end()})}var Nd=e=>!!e&&typeof e=="object"&&typeof e.AccessKeyId=="string"&&typeof e.SecretAccessKey=="string"&&typeof e.Token=="string"&&typeof e.Expiration=="string",vd=e=>({accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:new Date(e.Expiration)});var Pd=({maxRetries:e=0,timeout:t=1e3})=>({maxRetries:e,timeout:t});var Aa=(e,t)=>{let r=e();for(let n=0;n<t;n++)r=r.catch(e);return r};var ka="AWS_CONTAINER_CREDENTIALS_FULL_URI",Ta="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",hb="AWS_CONTAINER_AUTHORIZATION_TOKEN",Od=(e={})=>{let{timeout:t,maxRetries:r}=Pd(e);return()=>Aa(async()=>{let n=await lF(),s=JSON.parse(await iF(t,n));if(!Nd(s))throw new $("Invalid response received from instance metadata service.");return vd(s)},r)},iF=async(e,t)=>(process.env[hb]&&(t.headers={...t.headers,Authorization:process.env[hb]}),(await nn({...t,timeout:e})).toString()),aF="169.254.170.2",cF={localhost:!0,"127.0.0.1":!0},dF={"http:":!0,"https:":!0},lF=async()=>{if(process.env[Ta])return{hostname:aF,path:process.env[Ta]};if(process.env[ka]){let e=(0,mb.parse)(process.env[ka]);if(!e.hostname||!(e.hostname in cF))throw new $(`${e.hostname} is not a valid container metadata service hostname`,!1);if(!e.protocol||!(e.protocol in dF))throw new $(`${e.protocol} is not a valid container metadata service protocol`,!1);return{...e,port:e.port?parseInt(e.port,10):void 0}}throw new $(`The container metadata credential provider cannot be used unless the ${Ta} or ${ka} environment variable is set`,!1)};var pb=e=>async()=>{try{let t=e(process.env);if(t===void 0)throw new Error;return t}catch(t){throw new $(t.message||`Cannot load config from environment variables with getter: ${e}`)}};var yb=(e,{preferredFile:t="config",...r}={})=>async()=>{let n=tr(r),{configFile:s,credentialsFile:o}=await kd(r),i=o[n]||{},a=s[n]||{},c=t==="config"?{...i,...a}:{...a,...i};try{let d=e(c);if(d===void 0)throw new Error;return d}catch(d){throw new $(d.message||`Cannot load config for profile ${n} in SDK configuration files with getter: ${e}`)}};var uF=e=>typeof e=="function",gb=e=>uF(e)?async()=>await e():US(e);var ie=({environmentVariableSelector:e,configFileSelector:t,default:r},n={})=>ts(od(pb(e),yb(t,n),gb(r)));var Na;(function(e){e.IPv4="http://169.254.169.254",e.IPv6="http://[fd00:ec2::254]"})(Na||(Na={}));var fF="AWS_EC2_METADATA_SERVICE_ENDPOINT",hF="ec2_metadata_service_endpoint",Eb={environmentVariableSelector:e=>e[fF],configFileSelector:e=>e[hF],default:void 0};var as;(function(e){e.IPv4="IPv4",e.IPv6="IPv6"})(as||(as={}));var mF="AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE",pF="ec2_metadata_service_endpoint_mode",xb={environmentVariableSelector:e=>e[mF],configFileSelector:e=>e[pF],default:as.IPv4};var va=async()=>Rt(await yF()||await gF()),yF=async()=>ie(Eb)(),gF=async()=>{let e=await ie(xb)();switch(e){case as.IPv4:return Na.IPv4;case as.IPv6:return Na.IPv6;default:throw new Error(`Unsupported endpoint mode: ${e}. Select from ${Object.values(as)}`)}};var EF="https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html",Lh=(e,t)=>{let r=300+Math.floor(Math.random()*300),n=new Date(Date.now()+r*1e3);t.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(newExpiration)}.\nFor more information, please visit: "+EF);let s=e.originalExpiration??e.expiration;return{...e,...s?{originalExpiration:s}:{},expiration:n}};var Cb=(e,t={})=>{let r=(t==null?void 0:t.logger)||console,n;return async()=>{let s;try{s=await e(),s.expiration&&s.expiration.getTime()<Date.now()&&(s=Lh(s,r))}catch(o){if(n)r.warn("Credential renew failed: ",o),s=Lh(n,r);else throw o}return n=s,s}};var Sb="/latest/meta-data/iam/security-credentials/",xF="/latest/api/token",Id=(e={})=>Cb(CF(e),{logger:e.logger}),CF=e=>{let t=!1,{timeout:r,maxRetries:n}=Pd(e),s=async(o,i)=>{let a=(await Aa(async()=>{let c;try{c=await wF(i)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},o)).trim();return Aa(async()=>{let c;try{c=await bF(a,i)}catch(d){throw d.statusCode===401&&(t=!1),d}return c},o)};return async()=>{let o=await va();if(t)return s(n,{...o,timeout:r});{let i;try{i=(await SF({...o,timeout:r})).toString()}catch(a){if((a==null?void 0:a.statusCode)===400)throw Object.assign(a,{message:"EC2 Metadata token request returned error"});return(a.message==="TimeoutError"||[403,404,405].includes(a.statusCode))&&(t=!0),s(n,{...o,timeout:r})}return s(n,{...o,headers:{"x-aws-ec2-metadata-token":i},timeout:r})}}},SF=async e=>nn({...e,path:xF,method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),wF=async e=>(await nn({...e,path:Sb})).toString(),bF=async(e,t)=>{let r=JSON.parse((await nn({...t,path:Sb+e})).toString());if(!Nd(r))throw new $("Invalid response received from instance metadata service.");return vd(r)};var wb=(e,t)=>{let r={EcsContainer:Od,Ec2InstanceMetadata:Id,Environment:bd};if(e in r)return r[e]();throw new $(`Unsupported credential source in profile ${t}. Got ${e}, expected EcsContainer or Ec2InstanceMetadata or Environment.`)};var bb=e=>!!e&&typeof e=="object"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1&&["undefined","string"].indexOf(typeof e.external_id)>-1&&["undefined","string"].indexOf(typeof e.mfa_serial)>-1&&(_F(e)||RF(e)),_F=e=>typeof e.source_profile=="string"&&typeof e.credential_source>"u",RF=e=>typeof e.credential_source=="string"&&typeof e.source_profile>"u",_b=async(e,t,r,n={})=>{let s=t[e];if(!r.roleAssumer)throw new $(`Profile ${e} requires a role to be assumed, but no role assumption callback was provided.`,!1);let{source_profile:o}=s;if(o&&o in n)throw new $(`Detected a cycle attempting to resolve credentials for profile ${tr(r)}. Profiles visited: `+Object.keys(n).join(", "),!1);let i=o?Dd(o,t,r,{...n,[o]:!0}):wb(s.credential_source,e)(),a={RoleArn:s.role_arn,RoleSessionName:s.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:s.external_id},{mfa_serial:c}=s;if(c){if(!r.mfaCodeProvider)throw new $(`Profile ${e} requires multi-factor authentication, but no MFA code callback was provided.`,!1);a.SerialNumber=c,a.TokenCode=await r.mfaCodeProvider(c)}let d=await i;return r.roleAssumer(d,a)};var Ab=require("child_process"),kb=require("util");var Rb=(e,t)=>{if(t.Version!==1)throw Error(`Profile ${e} credential_process did not return Version 1.`);if(t.AccessKeyId===void 0||t.SecretAccessKey===void 0)throw Error(`Profile ${e} credential_process returned invalid credentials.`);if(t.Expiration){let r=new Date;if(new Date(t.Expiration)<r)throw Error(`Profile ${e} credential_process returned expired credentials.`)}return{accessKeyId:t.AccessKeyId,secretAccessKey:t.SecretAccessKey,...t.SessionToken&&{sessionToken:t.SessionToken},...t.Expiration&&{expiration:new Date(t.Expiration)}}};var Tb=async(e,t)=>{let r=t[e];if(t[e]){let n=r.credential_process;if(n!==void 0){let s=(0,kb.promisify)(Ab.exec);try{let{stdout:o}=await s(n),i;try{i=JSON.parse(o.trim())}catch{throw Error(`Profile ${e} credential_process returned invalid JSON.`)}return Rb(e,i)}catch(o){throw new $(o.message)}}else throw new $(`Profile ${e} did not contain credential_process.`)}else throw new $(`Profile ${e} could not be found in shared credentials file.`)};var Bd=(e={})=>async()=>{let t=await is(e);return Tb(tr(e),t)};var Nb=e=>!!e&&typeof e=="object"&&typeof e.credential_process=="string",vb=async(e,t)=>Bd({...e,profile:t})();var Pa=e=>e&&(typeof e.sso_start_url=="string"||typeof e.sso_account_id=="string"||typeof e.sso_session=="string"||typeof e.sso_region=="string"||typeof e.sso_role_name=="string");var mr=class extends Qt{constructor(t){super(t),Object.setPrototypeOf(this,mr.prototype)}};var ii=class extends mr{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,ii.prototype)}},ai=class extends mr{constructor(t){super({name:"ResourceNotFoundException",$fault:"client",...t}),this.name="ResourceNotFoundException",this.$fault="client",Object.setPrototypeOf(this,ai.prototype)}},ci=class extends mr{constructor(t){super({name:"TooManyRequestsException",$fault:"client",...t}),this.name="TooManyRequestsException",this.$fault="client",Object.setPrototypeOf(this,ci.prototype)}},di=class extends mr{constructor(t){super({name:"UnauthorizedException",$fault:"client",...t}),this.name="UnauthorizedException",this.$fault="client",Object.setPrototypeOf(this,di.prototype)}},Pb=e=>({...e,...e.accessToken&&{accessToken:De}}),AF=e=>({...e,...e.secretAccessKey&&{secretAccessKey:De},...e.sessionToken&&{sessionToken:De}}),Ob=e=>({...e,...e.roleCredentials&&{roleCredentials:AF(e.roleCredentials)}});var Ib=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i=Ks({},BF,{"x-amz-sso_bearer_token":e.accessToken}),a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/federation/credentials`,c=Ks({role_name:[,st(e.roleName,"roleName")],account_id:[,st(e.accountId,"accountId")]}),d;return new ee({protocol:n,hostname:r,port:s,method:"GET",headers:i,path:a,query:c,body:d})};var Db=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return kF(e,t);let r=Ks({$metadata:Oa(e)}),n=st(Bn(await Bb(e.body,t)),"body");return n.roleCredentials!=null&&(r.roleCredentials=OF(n.roleCredentials,t)),r},kF=async(e,t)=>{let r={...e,body:await MF(e.body,t)},n=LF(e,r.body);switch(n){case"InvalidRequestException":case"com.amazonaws.sso#InvalidRequestException":throw await TF(r,t);case"ResourceNotFoundException":case"com.amazonaws.sso#ResourceNotFoundException":throw await NF(r,t);case"TooManyRequestsException":case"com.amazonaws.sso#TooManyRequestsException":throw await vF(r,t);case"UnauthorizedException":case"com.amazonaws.sso#UnauthorizedException":throw await PF(r,t);default:let s=r.body;At({output:e,parsedBody:s,exceptionCtor:mr,errorCode:n})}};var Ks=zs,TF=async(e,t)=>{let r=Ks({}),n=e.body;n.message!=null&&(r.message=P(n.message));let s=new ii({$metadata:Oa(e),...r});return ye(s,e.body)},NF=async(e,t)=>{let r=Ks({}),n=e.body;n.message!=null&&(r.message=P(n.message));let s=new ai({$metadata:Oa(e),...r});return ye(s,e.body)},vF=async(e,t)=>{let r=Ks({}),n=e.body;n.message!=null&&(r.message=P(n.message));let s=new ci({$metadata:Oa(e),...r});return ye(s,e.body)},PF=async(e,t)=>{let r=Ks({}),n=e.body;n.message!=null&&(r.message=P(n.message));let s=new di({$metadata:Oa(e),...r});return ye(s,e.body)};var OF=(e,t)=>({accessKeyId:P(e.accessKeyId),expiration:Io(e.expiration),secretAccessKey:P(e.secretAccessKey),sessionToken:P(e.sessionToken)});var Oa=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),IF=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),DF=(e,t)=>IF(e,t).then(r=>t.utf8Encoder(r)),BF=e=>e!=null&&e!==""&&(!Object.getOwnPropertyNames(e).includes("length")||e.length!=0)&&(!Object.getOwnPropertyNames(e).includes("size")||e.size!=0),Bb=(e,t)=>DF(e,t).then(r=>r.length?JSON.parse(r):{}),MF=async(e,t)=>{let r=await Bb(e,t);return r.message=r.message??r.Message,r},LF=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)};var li=class extends Ie{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(qe(r,li.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOClient",commandName:"GetRoleCredentialsCommand",inputFilterSensitiveLog:Pb,outputFilterSensitiveLog:Ob},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return Ib(t,r)}deserialize(t,r){return Db(t,r)}};var Mb=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssoportal"});var Lb={name:"@aws-sdk/client-sso",description:"AWS SDK for JavaScript Sso Client for Node.js, Browser and React Native",version:"3.310.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.310.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.310.0","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/smithy-client":"3.310.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.310.0","@aws-sdk/util-defaults-mode-node":"3.310.0","@aws-sdk/util-endpoints":"3.310.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso"}};var Ub=require("buffer"),Md=require("crypto"),rr=class{constructor(t,r){this.algorithmIdentifier=t,this.secret=r,this.reset()}update(t,r){this.hash.update(Tt(Fb(t,r)))}digest(){return Promise.resolve(this.hash.digest())}reset(){this.hash=this.secret?(0,Md.createHmac)(this.algorithmIdentifier,Fb(this.secret)):(0,Md.createHash)(this.algorithmIdentifier)}};function Fb(e,t){return Ub.Buffer.isBuffer(e)?e:typeof e=="string"?zo(e,t):ArrayBuffer.isView(e)?en(e.buffer,e.byteOffset,e.byteLength):en(e)}function Fh(e){let t=[];for(let r of Object.keys(e).sort()){let n=e[r];if(r=vr(r),Array.isArray(n))for(let s=0,o=n.length;s<o;s++)t.push(`${r}=${vr(n[s])}`);else{let s=r;(n||typeof n=="string")&&(s+=`=${vr(n)}`),t.push(s)}}return t.join("&")}var Ld=require("http"),Fd=require("https");var zb=["ECONNRESET","EPIPE","ETIMEDOUT"];var Uh=e=>{let t={};for(let r of Object.keys(e)){let n=e[r];t[r]=Array.isArray(n)?n.join(","):n}return t};var qb=require("stream");function zh(e,t){(t.headers.Expect||t.headers.expect)==="100-continue"?e.on("continue",()=>{$b(e,t.body)}):$b(e,t.body)}function $b(e,t){t instanceof qb.Readable?t.pipe(e):t?e.end(Buffer.from(t)):e.end()}var Hb=0,Pr=class{constructor(t){this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((r,n)=>{typeof t=="function"?t().then(s=>{r(this.resolveDefaultConfig(s))}).catch(n):r(this.resolveDefaultConfig(t))})}resolveDefaultConfig(t){let{requestTimeout:r,connectionTimeout:n,socketTimeout:s,httpAgent:o,httpsAgent:i}=t||{},a=!0,c=50;return{connectionTimeout:n,socketTimeout:s,requestTimeout:r??n??s??Hb,httpAgent:o||new Ld.Agent({keepAlive:a,maxSockets:c}),httpsAgent:i||new Fd.Agent({keepAlive:a,maxSockets:c})}}destroy(){var t,r,n,s;(r=(t=this.config)==null?void 0:t.httpAgent)==null||r.destroy(),(s=(n=this.config)==null?void 0:n.httpsAgent)==null||s.destroy()}async handle(t,{abortSignal:r}={}){return this.config||(this.config=await this.configProvider),new Promise((n,s)=>{var f;if(!this.config)throw new Error("Node HTTP request handler config is not resolved");if(r!=null&&r.aborted){let u=new Error("Request aborted");u.name="AbortError",s(u);return}let o=t.protocol==="https:",i=Fh(t.query||{}),a={headers:t.headers,host:t.hostname,method:t.method,path:i?`${t.path}?${i}`:t.path,port:t.port,agent:o?this.config.httpsAgent:this.config.httpAgent},d=(o?Fd.request:Ld.request)(a,u=>{let g=new Zt({statusCode:u.statusCode||-1,headers:Uh(u.headers),body:u});n({response:g})});d.on("error",u=>{zb.includes(u.code)?s(Object.assign(u,{name:"TimeoutError"})):s(u)});let l=((f=this.config)==null?void 0:f.requestTimeout)??Hb;d.setTimeout(l,()=>{d.destroy(),s(Object.assign(new Error(`Connection timed out after ${l} ms`),{name:"TimeoutError"}))}),r&&(r.onabort=()=>{d.abort();let u=new Error("Request aborted");u.name="AbortError",s(u)}),zh(d,t)})}};var $h=class{constructor(t){this.sessions=[],this.sessions=t??[]}poll(){if(this.sessions.length>0)return this.sessions.shift()}offerLast(t){this.sessions.push(t)}contains(t){return this.sessions.includes(t)}remove(t){this.sessions=this.sessions.filter(r=>r!==t)}[Symbol.iterator](){return this.sessions[Symbol.iterator]()}destroy(t){for(let r of this.sessions)r===t&&(r.destroyed||r.destroy())}};var jb=require("stream"),Ud=class extends jb.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(t,r,n){this.bufferedBytes.push(t),n()}};var Or=e=>new Promise((t,r)=>{let n=new Ud;e.pipe(n),e.on("error",s=>{n.end(),r(s)}),n.on("error",r),n.on("finish",function(){let s=new Uint8Array(Buffer.concat(this.bufferedBytes));t(s)})});var zd=require("fs"),cs=e=>{if(!e)return 0;if(typeof e=="string")return Buffer.from(e).length;if(typeof e.byteLength=="number")return e.byteLength;if(typeof e.size=="number")return e.size;if(typeof e.path=="string"||Buffer.isBuffer(e.path))return(0,zd.lstatSync)(e.path).size;if(typeof e.fd=="number")return(0,zd.fstatSync)(e.fd).size;throw new Error(`Body Length computation failed for ${e}`)};var $d=require("os"),Ia=require("process");var Gb=()=>{try{return typeof require=="function"&&typeof module<"u"&&require("aws-crt")?["md/crt-avail"]:null}catch{return null}};var UF="AWS_SDK_UA_APP_ID",zF="sdk-ua-app-id",ds=({serviceId:e,clientVersion:t})=>{let r=[["aws-sdk-js",t],[`os/${(0,$d.platform)()}`,(0,$d.release)()],["lang/js"],["md/nodejs",`${Ia.versions.node}`]],n=Gb();n&&r.push(n),e&&r.push([`api/${e}`,t]),Ia.env.AWS_EXECUTION_ENV&&r.push([`exec-env/${Ia.env.AWS_EXECUTION_ENV}`]);let s=ie({environmentVariableSelector:i=>i[UF],configFileSelector:i=>i[zF],default:void 0})(),o;return async()=>{if(!o){let i=await s;o=i?[...r,[`app/${i}`]]:[...r]}return o}};var $F=/^[A-Za-z0-9+/]*={0,2}$/,ls=e=>{if(e.length*3%4!==0)throw new TypeError("Incorrect padding on base64 string.");if(!$F.exec(e))throw new TypeError("Invalid base64 string.");let t=zo(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)};var us=e=>en(e.buffer,e.byteOffset,e.byteLength).toString("base64");var Jb="required",sn="fn",on="argv",ui="ref",qh="PartitionResult",Ir="tree",Da="error",Ba="endpoint",Kb={[Jb]:!1,type:"String"},Vb={[Jb]:!0,default:!1,type:"Boolean"},e_={[ui]:"Endpoint"},t_={[sn]:"booleanEquals",[on]:[{[ui]:"UseFIPS"},!0]},r_={[sn]:"booleanEquals",[on]:[{[ui]:"UseDualStack"},!0]},Dr={},Wb={[sn]:"booleanEquals",[on]:[!0,{[sn]:"getAttr",[on]:[{[ui]:qh},"supportsFIPS"]}]},Yb={[sn]:"booleanEquals",[on]:[!0,{[sn]:"getAttr",[on]:[{[ui]:qh},"supportsDualStack"]}]},Xb=[e_],Qb=[t_],Zb=[r_],qF={version:"1.0",parameters:{Region:Kb,UseDualStack:Vb,UseFIPS:Vb,Endpoint:Kb},rules:[{conditions:[{[sn]:"aws.partition",[on]:[{[ui]:"Region"}],assign:qh}],type:Ir,rules:[{conditions:[{[sn]:"isSet",[on]:Xb},{[sn]:"parseURL",[on]:Xb,assign:"url"}],type:Ir,rules:[{conditions:Qb,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Da},{type:Ir,rules:[{conditions:Zb,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Da},{endpoint:{url:e_,properties:Dr,headers:Dr},type:Ba}]}]},{conditions:[t_,r_],type:Ir,rules:[{conditions:[Wb,Yb],type:Ir,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Dr,headers:Dr},type:Ba}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Da}]},{conditions:Qb,type:Ir,rules:[{conditions:[Wb],type:Ir,rules:[{type:Ir,rules:[{endpoint:{url:"https://portal.sso-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Dr,headers:Dr},type:Ba}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Da}]},{conditions:Zb,type:Ir,rules:[{conditions:[Yb],type:Ir,rules:[{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Dr,headers:Dr},type:Ba}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Da}]},{endpoint:{url:"https://portal.sso.{Region}.{PartitionResult#dnsSuffix}",properties:Dr,headers:Dr},type:Ba}]}]},n_=qF;var s_=(e,t={})=>ss(n_,{endpointParams:e,logger:t.logger});var o_=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??ls,base64Encoder:(e==null?void 0:e.base64Encoder)??us,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??s_,logger:(e==null?void 0:e.logger)??new Sr,serviceId:(e==null?void 0:e.serviceId)??"SSO",urlParser:(e==null?void 0:e.urlParser)??Rt,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Rr,utf8Encoder:(e==null?void 0:e.utf8Encoder)??qn});var i_="AWS_EXECUTION_ENV",Hh="AWS_REGION",jh="AWS_DEFAULT_REGION",a_="AWS_EC2_METADATA_DISABLED",c_=["in-region","cross-region","mobile","standard","legacy"],d_="/latest/meta-data/placement/region";var HF="AWS_DEFAULTS_MODE",jF="defaults_mode",l_={environmentVariableSelector:e=>e[HF],configFileSelector:e=>e[jF],default:"legacy"};var fs=({region:e=ie(kr),defaultsMode:t=ie(l_)}={})=>ts(async()=>{let r=typeof t=="function"?await t():t;switch(r==null?void 0:r.toLowerCase()){case"auto":return GF(e);case"in-region":case"cross-region":case"mobile":case"standard":case"legacy":return Promise.resolve(r==null?void 0:r.toLocaleLowerCase());case void 0:return Promise.resolve("legacy");default:throw new Error(`Invalid parameter for "defaultsMode", expect ${c_.join(", ")}, got ${r}`)}}),GF=async e=>{if(e){let t=typeof e=="function"?await e():e,r=await KF();return r?t===r?"in-region":"cross-region":"standard"}return"standard"},KF=async()=>{if(process.env[i_]&&(process.env[Hh]||process.env[jh]))return process.env[Hh]??process.env[jh];if(!process.env[a_])try{let e=await va();return(await nn({...e,path:d_})).toString()}catch{}};var u_=e=>{Fn(process.version);let t=fs(e),r=()=>t().then(Ln),n=o_(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??cs,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??ds({serviceId:n.serviceId,clientVersion:Lb.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ie(Qn),region:(e==null?void 0:e.region)??ie(kr,Gn),requestHandler:(e==null?void 0:e.requestHandler)??new Pr(r),retryMode:(e==null?void 0:e.retryMode)??ie({...Jn,default:async()=>(await r()).retryMode||Nr}),sha256:(e==null?void 0:e.sha256)??rr.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Or,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ie(Hn),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ie(jn)}};var qd=class extends wr{constructor(t){let r=u_(t),n=Mb(r),s=Kn(n),o=Dn(s),i=Zn(o),a=i,c=rs(a);super(c),this.config=c,this.middlewareStack.use(es(this.config)),this.middlewareStack.use(Vn(this.config)),this.middlewareStack.use(Wn(this.config)),this.middlewareStack.use(Yn(this.config)),this.middlewareStack.use(Xn(this.config)),this.middlewareStack.use(os(this.config))}destroy(){super.destroy()}};var fi="To refresh this SSO session run 'aws sso login' with the corresponding profile.";var Qe=class extends Qt{constructor(t){super(t),Object.setPrototypeOf(this,Qe.prototype)}};var hi=class extends Qe{constructor(t){super({name:"AccessDeniedException",$fault:"client",...t}),this.name="AccessDeniedException",this.$fault="client",Object.setPrototypeOf(this,hi.prototype),this.error=t.error,this.error_description=t.error_description}},mi=class extends Qe{constructor(t){super({name:"AuthorizationPendingException",$fault:"client",...t}),this.name="AuthorizationPendingException",this.$fault="client",Object.setPrototypeOf(this,mi.prototype),this.error=t.error,this.error_description=t.error_description}},pi=class extends Qe{constructor(t){super({name:"ExpiredTokenException",$fault:"client",...t}),this.name="ExpiredTokenException",this.$fault="client",Object.setPrototypeOf(this,pi.prototype),this.error=t.error,this.error_description=t.error_description}},yi=class extends Qe{constructor(t){super({name:"InternalServerException",$fault:"server",...t}),this.name="InternalServerException",this.$fault="server",Object.setPrototypeOf(this,yi.prototype),this.error=t.error,this.error_description=t.error_description}},gi=class extends Qe{constructor(t){super({name:"InvalidClientException",$fault:"client",...t}),this.name="InvalidClientException",this.$fault="client",Object.setPrototypeOf(this,gi.prototype),this.error=t.error,this.error_description=t.error_description}},Ei=class extends Qe{constructor(t){super({name:"InvalidGrantException",$fault:"client",...t}),this.name="InvalidGrantException",this.$fault="client",Object.setPrototypeOf(this,Ei.prototype),this.error=t.error,this.error_description=t.error_description}},xi=class extends Qe{constructor(t){super({name:"InvalidRequestException",$fault:"client",...t}),this.name="InvalidRequestException",this.$fault="client",Object.setPrototypeOf(this,xi.prototype),this.error=t.error,this.error_description=t.error_description}},Ci=class extends Qe{constructor(t){super({name:"InvalidScopeException",$fault:"client",...t}),this.name="InvalidScopeException",this.$fault="client",Object.setPrototypeOf(this,Ci.prototype),this.error=t.error,this.error_description=t.error_description}},Si=class extends Qe{constructor(t){super({name:"SlowDownException",$fault:"client",...t}),this.name="SlowDownException",this.$fault="client",Object.setPrototypeOf(this,Si.prototype),this.error=t.error,this.error_description=t.error_description}},wi=class extends Qe{constructor(t){super({name:"UnauthorizedClientException",$fault:"client",...t}),this.name="UnauthorizedClientException",this.$fault="client",Object.setPrototypeOf(this,wi.prototype),this.error=t.error,this.error_description=t.error_description}},bi=class extends Qe{constructor(t){super({name:"UnsupportedGrantTypeException",$fault:"client",...t}),this.name="UnsupportedGrantTypeException",this.$fault="client",Object.setPrototypeOf(this,bi.prototype),this.error=t.error,this.error_description=t.error_description}};var f_=async(e,t)=>{let{hostname:r,protocol:n="https",port:s,path:o}=await t.endpoint(),i={"content-type":"application/json"},a=`${o!=null&&o.endsWith("/")?o.slice(0,-1):o||""}/token`,c;return c=JSON.stringify({...e.clientId!=null&&{clientId:e.clientId},...e.clientSecret!=null&&{clientSecret:e.clientSecret},...e.code!=null&&{code:e.code},...e.deviceCode!=null&&{deviceCode:e.deviceCode},...e.grantType!=null&&{grantType:e.grantType},...e.redirectUri!=null&&{redirectUri:e.redirectUri},...e.refreshToken!=null&&{refreshToken:e.refreshToken},...e.scope!=null&&{scope:o3(e.scope,t)}}),new ee({protocol:n,hostname:r,port:s,method:"POST",headers:i,path:a,body:c})};var h_=async(e,t)=>{if(e.statusCode!==200&&e.statusCode>=300)return VF(e,t);let r=nr({$metadata:sr(e)}),n=st(Bn(await m_(e.body,t)),"body");return n.accessToken!=null&&(r.accessToken=P(n.accessToken)),n.expiresIn!=null&&(r.expiresIn=Fc(n.expiresIn)),n.idToken!=null&&(r.idToken=P(n.idToken)),n.refreshToken!=null&&(r.refreshToken=P(n.refreshToken)),n.tokenType!=null&&(r.tokenType=P(n.tokenType)),r},VF=async(e,t)=>{let r={...e,body:await c3(e.body,t)},n=d3(e,r.body);switch(n){case"AccessDeniedException":case"com.amazonaws.ssooidc#AccessDeniedException":throw await WF(r,t);case"AuthorizationPendingException":case"com.amazonaws.ssooidc#AuthorizationPendingException":throw await YF(r,t);case"ExpiredTokenException":case"com.amazonaws.ssooidc#ExpiredTokenException":throw await XF(r,t);case"InternalServerException":case"com.amazonaws.ssooidc#InternalServerException":throw await QF(r,t);case"InvalidClientException":case"com.amazonaws.ssooidc#InvalidClientException":throw await ZF(r,t);case"InvalidGrantException":case"com.amazonaws.ssooidc#InvalidGrantException":throw await JF(r,t);case"InvalidRequestException":case"com.amazonaws.ssooidc#InvalidRequestException":throw await e3(r,t);case"InvalidScopeException":case"com.amazonaws.ssooidc#InvalidScopeException":throw await t3(r,t);case"SlowDownException":case"com.amazonaws.ssooidc#SlowDownException":throw await r3(r,t);case"UnauthorizedClientException":case"com.amazonaws.ssooidc#UnauthorizedClientException":throw await n3(r,t);case"UnsupportedGrantTypeException":case"com.amazonaws.ssooidc#UnsupportedGrantTypeException":throw await s3(r,t);default:let s=r.body;At({output:e,parsedBody:s,exceptionCtor:Qe,errorCode:n})}};var nr=zs,WF=async(e,t)=>{let r=nr({}),n=e.body;n.error!=null&&(r.error=P(n.error)),n.error_description!=null&&(r.error_description=P(n.error_description));let s=new hi({$metadata:sr(e),...r});return ye(s,e.body)},YF=async(e,t)=>{let r=nr({}),n=e.body;n.error!=null&&(r.error=P(n.error)),n.error_description!=null&&(r.error_description=P(n.error_description));let s=new mi({$metadata:sr(e),...r});return ye(s,e.body)},XF=async(e,t)=>{let r=nr({}),n=e.body;n.error!=null&&(r.error=P(n.error)),n.error_description!=null&&(r.error_description=P(n.error_description));let s=new pi({$metadata:sr(e),...r});return ye(s,e.body)},QF=async(e,t)=>{let r=nr({}),n=e.body;n.error!=null&&(r.error=P(n.error)),n.error_description!=null&&(r.error_description=P(n.error_description));let s=new yi({$metadata:sr(e),...r});return ye(s,e.body)},ZF=async(e,t)=>{let r=nr({}),n=e.body;n.error!=null&&(r.error=P(n.error)),n.error_description!=null&&(r.error_description=P(n.error_description));let s=new gi({$metadata:sr(e),...r});return ye(s,e.body)};var JF=async(e,t)=>{let r=nr({}),n=e.body;n.error!=null&&(r.error=P(n.error)),n.error_description!=null&&(r.error_description=P(n.error_description));let s=new Ei({$metadata:sr(e),...r});return ye(s,e.body)},e3=async(e,t)=>{let r=nr({}),n=e.body;n.error!=null&&(r.error=P(n.error)),n.error_description!=null&&(r.error_description=P(n.error_description));let s=new xi({$metadata:sr(e),...r});return ye(s,e.body)},t3=async(e,t)=>{let r=nr({}),n=e.body;n.error!=null&&(r.error=P(n.error)),n.error_description!=null&&(r.error_description=P(n.error_description));let s=new Ci({$metadata:sr(e),...r});return ye(s,e.body)},r3=async(e,t)=>{let r=nr({}),n=e.body;n.error!=null&&(r.error=P(n.error)),n.error_description!=null&&(r.error_description=P(n.error_description));let s=new Si({$metadata:sr(e),...r});return ye(s,e.body)},n3=async(e,t)=>{let r=nr({}),n=e.body;n.error!=null&&(r.error=P(n.error)),n.error_description!=null&&(r.error_description=P(n.error_description));let s=new wi({$metadata:sr(e),...r});return ye(s,e.body)},s3=async(e,t)=>{let r=nr({}),n=e.body;n.error!=null&&(r.error=P(n.error)),n.error_description!=null&&(r.error_description=P(n.error_description));let s=new bi({$metadata:sr(e),...r});return ye(s,e.body)},o3=(e,t)=>e.filter(r=>r!=null).map(r=>r),sr=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),i3=(e=new Uint8Array,t)=>e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array),a3=(e,t)=>i3(e,t).then(r=>t.utf8Encoder(r));var m_=(e,t)=>a3(e,t).then(r=>r.length?JSON.parse(r):{}),c3=async(e,t)=>{let r=await m_(e,t);return r.message=r.message??r.Message,r},d3=(e,t)=>{let r=(o,i)=>Object.keys(o).find(a=>a.toLowerCase()===i.toLowerCase()),n=o=>{let i=o;return typeof i=="number"&&(i=i.toString()),i.indexOf(",")>=0&&(i=i.split(",")[0]),i.indexOf(":")>=0&&(i=i.split(":")[0]),i.indexOf("#")>=0&&(i=i.split("#")[1]),i},s=r(e.headers,"x-amzn-errortype");if(s!==void 0)return n(e.headers[s]);if(t.code!==void 0)return n(t.code);if(t.__type!==void 0)return n(t.__type)};var _i=class extends Ie{static getEndpointParameterInstructions(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}constructor(t){super(),this.input=t}resolveMiddleware(t,r,n){this.middlewareStack.use($e(r,this.serialize,this.deserialize)),this.middlewareStack.use(qe(r,_i.getEndpointParameterInstructions()));let s=t.concat(this.middlewareStack),{logger:o}=r,c={logger:o,clientName:"SSOOIDCClient",commandName:"CreateTokenCommand",inputFilterSensitiveLog:l=>l,outputFilterSensitiveLog:l=>l},{requestHandler:d}=r;return s.resolve(l=>d.handle(l.request,n||{}),c)}serialize(t,r){return f_(t,r)}deserialize(t,r){return h_(t,r)}};var p_=e=>({...e,useDualstackEndpoint:e.useDualstackEndpoint??!1,useFipsEndpoint:e.useFipsEndpoint??!1,defaultSigningName:"awsssooidc"});var y_={name:"@aws-sdk/client-sso-oidc",description:"AWS SDK for JavaScript Sso Oidc Client for Node.js, Browser and React Native",version:"3.310.0",scripts:{build:"concurrently 'yarn:build:cjs' 'yarn:build:es' 'yarn:build:types'","build:cjs":"tsc -p tsconfig.cjs.json","build:docs":"typedoc","build:es":"tsc -p tsconfig.es.json","build:include:deps":"lerna run --scope $npm_package_name --include-dependencies build","build:types":"tsc -p tsconfig.types.json","build:types:downlevel":"downlevel-dts dist-types dist-types/ts3.4",clean:"rimraf ./dist-* && rimraf *.tsbuildinfo","extract:docs":"api-extractor run --local","generate:client":"node ../../scripts/generate-clients/single-service --solo sso-oidc"},main:"./dist-cjs/index.js",types:"./dist-types/index.d.ts",module:"./dist-es/index.js",sideEffects:!1,dependencies:{"@aws-crypto/sha256-browser":"3.0.0","@aws-crypto/sha256-js":"3.0.0","@aws-sdk/config-resolver":"3.310.0","@aws-sdk/fetch-http-handler":"3.310.0","@aws-sdk/hash-node":"3.310.0","@aws-sdk/invalid-dependency":"3.310.0","@aws-sdk/middleware-content-length":"3.310.0","@aws-sdk/middleware-endpoint":"3.310.0","@aws-sdk/middleware-host-header":"3.310.0","@aws-sdk/middleware-logger":"3.310.0","@aws-sdk/middleware-recursion-detection":"3.310.0","@aws-sdk/middleware-retry":"3.310.0","@aws-sdk/middleware-serde":"3.310.0","@aws-sdk/middleware-stack":"3.310.0","@aws-sdk/middleware-user-agent":"3.310.0","@aws-sdk/node-config-provider":"3.310.0","@aws-sdk/node-http-handler":"3.310.0","@aws-sdk/protocol-http":"3.310.0","@aws-sdk/smithy-client":"3.310.0","@aws-sdk/types":"3.310.0","@aws-sdk/url-parser":"3.310.0","@aws-sdk/util-base64":"3.310.0","@aws-sdk/util-body-length-browser":"3.310.0","@aws-sdk/util-body-length-node":"3.310.0","@aws-sdk/util-defaults-mode-browser":"3.310.0","@aws-sdk/util-defaults-mode-node":"3.310.0","@aws-sdk/util-endpoints":"3.310.0","@aws-sdk/util-retry":"3.310.0","@aws-sdk/util-user-agent-browser":"3.310.0","@aws-sdk/util-user-agent-node":"3.310.0","@aws-sdk/util-utf8":"3.310.0",tslib:"^2.5.0"},devDependencies:{"@aws-sdk/service-client-documentation-generator":"3.310.0","@tsconfig/node14":"1.0.3","@types/node":"^14.14.31",concurrently:"7.0.0","downlevel-dts":"0.10.1",rimraf:"3.0.2",typedoc:"0.23.23",typescript:"~4.9.5"},engines:{node:">=14.0.0"},typesVersions:{"<4.0":{"dist-types/*":["dist-types/ts3.4/*"]}},files:["dist-*/**"],author:{name:"AWS SDK for JavaScript Team",url:"https://aws.amazon.com/javascript/"},license:"Apache-2.0",browser:{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.browser"},"react-native":{"./dist-es/runtimeConfig":"./dist-es/runtimeConfig.native"},homepage:"https://github.com/aws/aws-sdk-js-v3/tree/main/clients/client-sso-oidc",repository:{type:"git",url:"https://github.com/aws/aws-sdk-js-v3.git",directory:"clients/client-sso-oidc"}};var __="required",an="fn",cn="argv",Ri="ref",Kh="PartitionResult",Br="tree",Ma="error",La="endpoint",g_={[__]:!1,type:"String"},E_={[__]:!0,default:!1,type:"Boolean"},R_={[Ri]:"Endpoint"},A_={[an]:"booleanEquals",[cn]:[{[Ri]:"UseFIPS"},!0]},k_={[an]:"booleanEquals",[cn]:[{[Ri]:"UseDualStack"},!0]},Mr={},x_={[an]:"booleanEquals",[cn]:[!0,{[an]:"getAttr",[cn]:[{[Ri]:Kh},"supportsFIPS"]}]},C_={[an]:"booleanEquals",[cn]:[!0,{[an]:"getAttr",[cn]:[{[Ri]:Kh},"supportsDualStack"]}]},S_=[R_],w_=[A_],b_=[k_],u3={version:"1.0",parameters:{Region:g_,UseDualStack:E_,UseFIPS:E_,Endpoint:g_},rules:[{conditions:[{[an]:"aws.partition",[cn]:[{[Ri]:"Region"}],assign:Kh}],type:Br,rules:[{conditions:[{[an]:"isSet",[cn]:S_},{[an]:"parseURL",[cn]:S_,assign:"url"}],type:Br,rules:[{conditions:w_,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:Ma},{type:Br,rules:[{conditions:b_,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:Ma},{endpoint:{url:R_,properties:Mr,headers:Mr},type:La}]}]},{conditions:[A_,k_],type:Br,rules:[{conditions:[x_,C_],type:Br,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Mr,headers:Mr},type:La}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:Ma}]},{conditions:w_,type:Br,rules:[{conditions:[x_],type:Br,rules:[{type:Br,rules:[{endpoint:{url:"https://oidc-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Mr,headers:Mr},type:La}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:Ma}]},{conditions:b_,type:Br,rules:[{conditions:[C_],type:Br,rules:[{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Mr,headers:Mr},type:La}]},{error:"DualStack is enabled but this partition does not support DualStack",type:Ma}]},{endpoint:{url:"https://oidc.{Region}.{PartitionResult#dnsSuffix}",properties:Mr,headers:Mr},type:La}]}]},T_=u3;var N_=(e,t={})=>ss(T_,{endpointParams:e,logger:t.logger});var v_=e=>({apiVersion:"2019-06-10",base64Decoder:(e==null?void 0:e.base64Decoder)??ls,base64Encoder:(e==null?void 0:e.base64Encoder)??us,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??N_,logger:(e==null?void 0:e.logger)??new Sr,serviceId:(e==null?void 0:e.serviceId)??"SSO OIDC",urlParser:(e==null?void 0:e.urlParser)??Rt,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Rr,utf8Encoder:(e==null?void 0:e.utf8Encoder)??qn});var P_=e=>{Fn(process.version);let t=fs(e),r=()=>t().then(Ln),n=v_(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??cs,defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??ds({serviceId:n.serviceId,clientVersion:y_.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ie(Qn),region:(e==null?void 0:e.region)??ie(kr,Gn),requestHandler:(e==null?void 0:e.requestHandler)??new Pr(r),retryMode:(e==null?void 0:e.retryMode)??ie({...Jn,default:async()=>(await r()).retryMode||Nr}),sha256:(e==null?void 0:e.sha256)??rr.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Or,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ie(Hn),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ie(jn)}};var Hd=class extends wr{constructor(t){let r=P_(t),n=p_(r),s=Kn(n),o=Dn(s),i=Zn(o),a=i,c=rs(a);super(c),this.config=c,this.middlewareStack.use(es(this.config)),this.middlewareStack.use(Vn(this.config)),this.middlewareStack.use(Wn(this.config)),this.middlewareStack.use(Yn(this.config)),this.middlewareStack.use(Xn(this.config)),this.middlewareStack.use(os(this.config))}destroy(){super.destroy()}};var Vh={},O_=e=>{if(Vh[e])return Vh[e];let t=new Hd({region:e});return Vh[e]=t,t};var I_=(e,t)=>O_(t).send(new _i({clientId:e.clientId,clientSecret:e.clientSecret,refreshToken:e.refreshToken,grantType:"refresh_token"}));var Wh=e=>{if(e.expiration&&e.expiration.getTime()<Date.now())throw new vt(`Token is expired. ${fi}`,!1)};var hs=(e,t,r=!1)=>{if(typeof t>"u")throw new vt(`Value not present for '${e}' in SSO Token${r?". Cannot refresh":""}. ${fi}`,!1)};var D_=require("fs"),{writeFile:f3}=D_.promises,B_=(e,t)=>{let r=_d(e),n=JSON.stringify(t,null,2);return f3(r,n)};var M_=new Date(0),L_=(e={})=>async()=>{let t=await is(e),r=tr(e),n=t[r];if(n){if(!n.sso_session)throw new vt(`Profile '${r}' is missing required property 'sso_session'.`)}else throw new vt(`Profile '${r}' could not be found in shared credentials file.`,!1);let s=n.sso_session,i=(await Td(e))[s];if(!i)throw new vt(`Sso session '${s}' could not be found in shared credentials file.`,!1);for(let g of["sso_start_url","sso_region"])if(!i[g])throw new vt(`Sso session '${s}' is missing required property '${g}'.`,!1);let a=i.sso_start_url,c=i.sso_region,d;try{d=await Rd(s)}catch{throw new vt(`The SSO session token associated with profile=${r} was not found or is invalid. ${fi}`,!1)}hs("accessToken",d.accessToken),hs("expiresAt",d.expiresAt);let{accessToken:l,expiresAt:f}=d,u={token:l,expiration:new Date(f)};if(u.expiration.getTime()-Date.now()>3e5)return u;if(Date.now()-M_.getTime()<30*1e3)return Wh(u),u;hs("clientId",d.clientId,!0),hs("clientSecret",d.clientSecret,!0),hs("refreshToken",d.refreshToken,!0);try{M_.setTime(Date.now());let g=await I_(d,c);hs("accessToken",g.accessToken),hs("expiresIn",g.expiresIn);let y=new Date(Date.now()+g.expiresIn*1e3);try{await B_(s,{...d,accessToken:g.accessToken,expiresAt:y.toISOString(),refreshToken:g.refreshToken})}catch{}return{token:g.accessToken,expiration:y}}catch{return Wh(u),u}};var m3=15*60*1e3,Fa=!1,Yh=async({ssoStartUrl:e,ssoSession:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,profile:i})=>{let a,c="To refresh this SSO session run aws sso login with the corresponding profile.";if(t)try{let R=await L_({profile:i})();a={accessToken:R.token,expiresAt:new Date(R.expiration).toISOString()}}catch(R){throw new $(R.message,Fa)}else try{a=await Rd(e)}catch{throw new $(`The SSO session associated with this profile is invalid. ${c}`,Fa)}if(new Date(a.expiresAt).getTime()-Date.now()<=m3)throw new $(`The SSO session associated with this profile has expired. ${c}`,Fa);let{accessToken:d}=a,l=o||new qd({region:n}),f;try{f=await l.send(new li({accountId:r,roleName:s,accessToken:d}))}catch(R){throw $.from(R,Fa)}let{roleCredentials:{accessKeyId:u,secretAccessKey:g,sessionToken:y,expiration:S}={}}=f;if(!u||!g||!y||!S)throw new $("SSO returns an invalid temporary credential.",Fa);return{accessKeyId:u,secretAccessKey:g,sessionToken:y,expiration:new Date(S)}};var jd=e=>{let{sso_start_url:t,sso_account_id:r,sso_region:n,sso_role_name:s}=e;if(!t||!r||!n||!s)throw new $(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(e).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,!1);return e};var Gd=(e={})=>async()=>{let{ssoStartUrl:t,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,ssoSession:i}=e,a=tr(e);if(!t&&!r&&!n&&!s&&!i){let d=(await is(e))[a];if(!d)throw new $(`Profile ${a} was not found.`);if(!Pa(d))throw new $(`Profile ${a} is not configured with SSO credentials.`);if(d!=null&&d.sso_session){let R=(await Td(e))[d.sso_session],O=` configurations in profile ${a} and sso-session ${d.sso_session}`;if(n&&n!==R.sso_region)throw new $("Conflicting SSO region"+O,!1);if(t&&t!==R.sso_start_url)throw new $("Conflicting SSO start_url"+O,!1);d.sso_region=R.sso_region,d.sso_start_url=R.sso_start_url}let{sso_start_url:l,sso_account_id:f,sso_region:u,sso_role_name:g,sso_session:y}=jd(d);return Yh({ssoStartUrl:l,ssoSession:y,ssoAccountId:f,ssoRegion:u,ssoRoleName:g,ssoClient:o,profile:a})}else{if(!t||!r||!n||!s)throw new $('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"');return Yh({ssoStartUrl:t,ssoSession:i,ssoAccountId:r,ssoRegion:n,ssoRoleName:s,ssoClient:o,profile:a})}};var F_=e=>{let{sso_start_url:t,sso_account_id:r,sso_session:n,sso_region:s,sso_role_name:o}=jd(e);return Gd({ssoStartUrl:t,ssoAccountId:r,ssoSession:n,ssoRegion:s,ssoRoleName:o})()};var Xh=e=>!!e&&typeof e=="object"&&typeof e.aws_access_key_id=="string"&&typeof e.aws_secret_access_key=="string"&&["undefined","string"].indexOf(typeof e.aws_session_token)>-1,Qh=e=>Promise.resolve({accessKeyId:e.aws_access_key_id,secretAccessKey:e.aws_secret_access_key,sessionToken:e.aws_session_token});var z_=require("fs");var U_=e=>()=>{let{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:s,policyArns:o,policy:i,durationSeconds:a,roleAssumerWithWebIdentity:c}=e;if(!c)throw new $(`Role Arn '${t}' needs to be assumed with web identity, but no role assumption callback was provided.`,!1);return c({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:s,PolicyArns:o,Policy:i,DurationSeconds:a})};var p3="AWS_WEB_IDENTITY_TOKEN_FILE",y3="AWS_ROLE_ARN",g3="AWS_ROLE_SESSION_NAME",Kd=(e={})=>async()=>E3(e),E3=e=>{let t=(e==null?void 0:e.webIdentityTokenFile)??process.env[p3],r=(e==null?void 0:e.roleArn)??process.env[y3],n=(e==null?void 0:e.roleSessionName)??process.env[g3];if(!t||!r)throw new $("Web identity configuration not specified");return U_({...e,webIdentityToken:(0,z_.readFileSync)(t,{encoding:"ascii"}),roleArn:r,roleSessionName:n})()};var $_=e=>!!e&&typeof e=="object"&&typeof e.web_identity_token_file=="string"&&typeof e.role_arn=="string"&&["undefined","string"].indexOf(typeof e.role_session_name)>-1,q_=async(e,t)=>Kd({webIdentityTokenFile:e.web_identity_token_file,roleArn:e.role_arn,roleSessionName:e.role_session_name,roleAssumerWithWebIdentity:t.roleAssumerWithWebIdentity})();var Dd=async(e,t,r,n={})=>{let s=t[e];if(Object.keys(n).length>0&&Xh(s))return Qh(s);if(bb(s))return _b(e,t,r,n);if(Xh(s))return Qh(s);if($_(s))return q_(s,r);if(Nb(s))return vb(r,e);if(Pa(s))return F_(s);throw new $(`Profile ${e} could not be found or parsed in shared credentials file.`)};var H_=(e={})=>async()=>{let t=await is(e);return Dd(tr(e),t,e)};var x3="AWS_EC2_METADATA_DISABLED",j_=e=>process.env[Ta]||process.env[ka]?Od(e):process.env[x3]?async()=>{throw new $("EC2 Instance Metadata Service access disabled")}:Id(e);var Vd=(e={})=>ts(od(...e.profile||process.env[Bh]?[]:[bd()],Gd(e),H_(e),Bd(e),Kd(e),j_(e),async()=>{throw new $("Could not load credentials from any providers",!1)}),t=>t.expiration!==void 0&&t.expiration.getTime()-Date.now()<3e5,t=>t.expiration!==void 0);var J_="required",Z="type",ue="fn",fe="argv",ms="ref",Vs="properties",Ws="headers";var Jh="PartitionResult",or="tree",Ys="booleanEquals",it="stringEquals",e0="sigv4",t0="us-east-1",r0="sts",Te="endpoint",n0="https://sts.{Region}.{PartitionResult#dnsSuffix}",Ua="error",em="getAttr",G_={[J_]:!1,[Z]:"String"},Zh={[J_]:!0,default:!1,[Z]:"Boolean"},at={[ms]:"Region"},s0={[ms]:"UseFIPS"},o0={[ms]:"UseDualStack"},K_={[ue]:"isSet",[fe]:[{[ms]:"Endpoint"}]},i0={[ms]:"Endpoint"},lt={url:"https://sts.amazonaws.com",[Vs]:{authSchemes:[{name:e0,signingRegion:t0,signingName:r0}]},[Ws]:{}},dn={},V_={conditions:[{[ue]:it,[fe]:[at,"aws-global"]}],[Te]:lt,[Z]:Te},a0={[ue]:Ys,[fe]:[s0,!0]},c0={[ue]:Ys,[fe]:[o0,!0]},W_={[ue]:Ys,[fe]:[!0,{[ue]:em,[fe]:[{[ms]:Jh},"supportsFIPS"]}]},d0={[ms]:Jh},Y_={[ue]:Ys,[fe]:[!0,{[ue]:em,[fe]:[d0,"supportsDualStack"]}]},X_={url:n0,[Vs]:{},[Ws]:{}},C3=[i0],Q_=[a0],Z_=[c0],S3={version:"1.0",parameters:{Region:G_,UseDualStack:Zh,UseFIPS:Zh,Endpoint:G_,UseGlobalEndpoint:Zh},rules:[{conditions:[{[ue]:"aws.partition",[fe]:[at],assign:Jh}],[Z]:or,rules:[{conditions:[{[ue]:Ys,[fe]:[{[ms]:"UseGlobalEndpoint"},!0]},{[ue]:Ys,[fe]:[s0,!1]},{[ue]:Ys,[fe]:[o0,!1]},{[ue]:"not",[fe]:[K_]}],[Z]:or,rules:[{conditions:[{[ue]:it,[fe]:[at,"ap-northeast-1"]}],endpoint:lt,[Z]:Te},{conditions:[{[ue]:it,[fe]:[at,"ap-south-1"]}],endpoint:lt,[Z]:Te},{conditions:[{[ue]:it,[fe]:[at,"ap-southeast-1"]}],endpoint:lt,[Z]:Te},{conditions:[{[ue]:it,[fe]:[at,"ap-southeast-2"]}],endpoint:lt,[Z]:Te},V_,{conditions:[{[ue]:it,[fe]:[at,"ca-central-1"]}],endpoint:lt,[Z]:Te},{conditions:[{[ue]:it,[fe]:[at,"eu-central-1"]}],endpoint:lt,[Z]:Te},{conditions:[{[ue]:it,[fe]:[at,"eu-north-1"]}],endpoint:lt,[Z]:Te},{conditions:[{[ue]:it,[fe]:[at,"eu-west-1"]}],endpoint:lt,[Z]:Te},{conditions:[{[ue]:it,[fe]:[at,"eu-west-2"]}],endpoint:lt,[Z]:Te},{conditions:[{[ue]:it,[fe]:[at,"eu-west-3"]}],endpoint:lt,[Z]:Te},{conditions:[{[ue]:it,[fe]:[at,"sa-east-1"]}],endpoint:lt,[Z]:Te},{conditions:[{[ue]:it,[fe]:[at,t0]}],endpoint:lt,[Z]:Te},{conditions:[{[ue]:it,[fe]:[at,"us-east-2"]}],endpoint:lt,[Z]:Te},{conditions:[{[ue]:it,[fe]:[at,"us-west-1"]}],endpoint:lt,[Z]:Te},{conditions:[{[ue]:it,[fe]:[at,"us-west-2"]}],endpoint:lt,[Z]:Te},{endpoint:{url:n0,[Vs]:{authSchemes:[{name:e0,signingRegion:"{Region}",signingName:r0}]},[Ws]:dn},[Z]:Te}]},{conditions:[K_,{[ue]:"parseURL",[fe]:C3,assign:"url"}],[Z]:or,rules:[{conditions:Q_,error:"Invalid Configuration: FIPS and custom endpoint are not supported",[Z]:Ua},{[Z]:or,rules:[{conditions:Z_,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",[Z]:Ua},{endpoint:{url:i0,[Vs]:dn,[Ws]:dn},[Z]:Te}]}]},{conditions:[a0,c0],[Z]:or,rules:[{conditions:[W_,Y_],[Z]:or,rules:[{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",[Vs]:dn,[Ws]:dn},[Z]:Te}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",[Z]:Ua}]},{conditions:Q_,[Z]:or,rules:[{conditions:[W_],[Z]:or,rules:[{[Z]:or,rules:[{conditions:[{[ue]:it,[fe]:["aws-us-gov",{[ue]:em,[fe]:[d0,"name"]}]}],endpoint:X_,[Z]:Te},{endpoint:{url:"https://sts-fips.{Region}.{PartitionResult#dnsSuffix}",[Vs]:dn,[Ws]:dn},[Z]:Te}]}]},{error:"FIPS is enabled but this partition does not support FIPS",[Z]:Ua}]},{conditions:Z_,[Z]:or,rules:[{conditions:[Y_],[Z]:or,rules:[{endpoint:{url:"https://sts.{Region}.{PartitionResult#dualStackDnsSuffix}",[Vs]:dn,[Ws]:dn},[Z]:Te}]},{error:"DualStack is enabled but this partition does not support DualStack",[Z]:Ua}]},{[Z]:or,rules:[V_,{endpoint:X_,[Z]:Te}]}]}]},l0=S3;var u0=(e,t={})=>ss(l0,{endpointParams:e,logger:t.logger});var f0=e=>({apiVersion:"2011-06-15",base64Decoder:(e==null?void 0:e.base64Decoder)??ls,base64Encoder:(e==null?void 0:e.base64Encoder)??us,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??u0,logger:(e==null?void 0:e.logger)??new Sr,serviceId:(e==null?void 0:e.serviceId)??"STS",urlParser:(e==null?void 0:e.urlParser)??Rt,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Rr,utf8Encoder:(e==null?void 0:e.utf8Encoder)??qn});var h0=e=>{Fn(process.version);let t=fs(e),r=()=>t().then(Ln),n=f0(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??cs,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??Yw(Vd),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??ds({serviceId:n.serviceId,clientVersion:Kw.version}),maxAttempts:(e==null?void 0:e.maxAttempts)??ie(Qn),region:(e==null?void 0:e.region)??ie(kr,Gn),requestHandler:(e==null?void 0:e.requestHandler)??new Pr(r),retryMode:(e==null?void 0:e.retryMode)??ie({...Jn,default:async()=>(await r()).retryMode||Nr}),sha256:(e==null?void 0:e.sha256)??rr.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Or,useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ie(Hn),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ie(jn)}};var Xs=class extends wr{constructor(t){let r=h0(t),n=Gw(r),s=Kn(n),o=Dn(s),i=Zn(o),a=i,c=jw(a,{stsClientCtor:Xs}),d=rs(c);super(d),this.config=d,this.middlewareStack.use(es(this.config)),this.middlewareStack.use(Vn(this.config)),this.middlewareStack.use(Wn(this.config)),this.middlewareStack.use(Yn(this.config)),this.middlewareStack.use(Xn(this.config)),this.middlewareStack.use(os(this.config))}destroy(){super.destroy()}};var m0=(e,t)=>t?class extends e{constructor(n){super(n);for(let s of t)this.middlewareStack.use(s)}}:e,w3=(e={},t)=>Ih(e,m0(Xs,t)),b3=(e={},t)=>Dh(e,m0(Xs,t)),p0=e=>t=>e({roleAssumer:w3(t),roleAssumerWithWebIdentity:b3(t),...t});var w0=Vt(xa());var ps=class{constructor(t){if(this.bytes=t,t.byteLength!==8)throw new Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(t){if(t>9223372036854776e3||t<-9223372036854776e3)throw new Error(`${t} is too large (or, if negative, too small) to represent as an Int64`);let r=new Uint8Array(8);for(let n=7,s=Math.abs(Math.round(t));n>-1&&s>0;n--,s/=256)r[n]=s;return t<0&&y0(r),new ps(r)}valueOf(){let t=this.bytes.slice(0),r=t[0]&128;return r&&y0(t),parseInt(ot(t),16)*(r?-1:1)}toString(){return String(this.valueOf())}};function y0(e){for(let t=0;t<8;t++)e[t]^=255;for(let t=7;t>-1&&(e[t]++,e[t]===0);t--);}var Wd=class{constructor(t,r){this.toUtf8=t,this.fromUtf8=r}format(t){let r=[];for(let o of Object.keys(t)){let i=this.fromUtf8(o);r.push(Uint8Array.from([i.byteLength]),i,this.formatHeaderValue(t[o]))}let n=new Uint8Array(r.reduce((o,i)=>o+i.byteLength,0)),s=0;for(let o of r)n.set(o,s),s+=o.byteLength;return n}formatHeaderValue(t){switch(t.type){case"boolean":return Uint8Array.from([t.value?0:1]);case"byte":return Uint8Array.from([2,t.value]);case"short":let r=new DataView(new ArrayBuffer(3));return r.setUint8(0,3),r.setInt16(1,t.value,!1),new Uint8Array(r.buffer);case"integer":let n=new DataView(new ArrayBuffer(5));return n.setUint8(0,4),n.setInt32(1,t.value,!1),new Uint8Array(n.buffer);case"long":let s=new Uint8Array(9);return s[0]=5,s.set(t.value.bytes,1),s;case"binary":let o=new DataView(new ArrayBuffer(3+t.value.byteLength));o.setUint8(0,6),o.setUint16(1,t.value.byteLength,!1);let i=new Uint8Array(o.buffer);return i.set(t.value,3),i;case"string":let a=this.fromUtf8(t.value),c=new DataView(new ArrayBuffer(3+a.byteLength));c.setUint8(0,7),c.setUint16(1,a.byteLength,!1);let d=new Uint8Array(c.buffer);return d.set(a,3),d;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(ps.fromNumber(t.value.valueOf()).bytes,1),l;case"uuid":if(!O3.test(t.value))throw new Error(`Invalid UUID received: ${t.value}`);let f=new Uint8Array(17);return f[0]=9,f.set($S(t.value.replace(/\-/g,"")),1),f}}parse(t){let r={},n=0;for(;n<t.byteLength;){let s=t.getUint8(n++),o=this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,s));switch(n+=s,t.getUint8(n++)){case 0:r[o]={type:E0,value:!0};break;case 1:r[o]={type:E0,value:!1};break;case 2:r[o]={type:_3,value:t.getInt8(n++)};break;case 3:r[o]={type:R3,value:t.getInt16(n,!1)},n+=2;break;case 4:r[o]={type:A3,value:t.getInt32(n,!1)},n+=4;break;case 5:r[o]={type:k3,value:new ps(new Uint8Array(t.buffer,t.byteOffset+n,8))},n+=8;break;case 6:let i=t.getUint16(n,!1);n+=2,r[o]={type:T3,value:new Uint8Array(t.buffer,t.byteOffset+n,i)},n+=i;break;case 7:let a=t.getUint16(n,!1);n+=2,r[o]={type:N3,value:this.toUtf8(new Uint8Array(t.buffer,t.byteOffset+n,a))},n+=a;break;case 8:r[o]={type:v3,value:new Date(new ps(new Uint8Array(t.buffer,t.byteOffset+n,8)).valueOf())},n+=8;break;case 9:let c=new Uint8Array(t.buffer,t.byteOffset+n,16);n+=16,r[o]={type:P3,value:`${ot(c.subarray(0,4))}-${ot(c.subarray(4,6))}-${ot(c.subarray(6,8))}-${ot(c.subarray(8,10))}-${ot(c.subarray(10))}`};break;default:throw new Error("Unrecognized header type tag")}}return r}},g0;(function(e){e[e.boolTrue=0]="boolTrue",e[e.boolFalse=1]="boolFalse",e[e.byte=2]="byte",e[e.short=3]="short",e[e.integer=4]="integer",e[e.long=5]="long",e[e.byteArray=6]="byteArray",e[e.string=7]="string",e[e.timestamp=8]="timestamp",e[e.uuid=9]="uuid"})(g0||(g0={}));var E0="boolean",_3="byte",R3="short",A3="integer",k3="long",T3="binary",N3="string",v3="timestamp",P3="uuid",O3=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;var x0=Vt(xa()),C0=4,ys=C0*2,Qs=4,I3=ys+Qs*2;function S0({byteLength:e,byteOffset:t,buffer:r}){if(e<I3)throw new Error("Provided message too short to accommodate event stream message overhead");let n=new DataView(r,t,e),s=n.getUint32(0,!1);if(e!==s)throw new Error("Reported message length does not match received message length");let o=n.getUint32(C0,!1),i=n.getUint32(ys,!1),a=n.getUint32(e-Qs,!1),c=new x0.Crc32().update(new Uint8Array(r,t,ys));if(i!==c.digest())throw new Error(`The prelude checksum specified in the message (${i}) does not match the calculated CRC32 checksum (${c.digest()})`);if(c.update(new Uint8Array(r,t+ys,e-(ys+Qs))),a!==c.digest())throw new Error(`The message checksum (${c.digest()}) did not match the expected value of ${a}`);return{headers:new DataView(r,t+ys+Qs,o),body:new Uint8Array(r,t+ys+Qs+o,s-o-(ys+Qs+Qs))}}var Yd=class{constructor(t,r){this.headerMarshaller=new Wd(t,r)}encode({headers:t,body:r}){let n=this.headerMarshaller.format(t),s=n.byteLength+r.byteLength+16,o=new Uint8Array(s),i=new DataView(o.buffer,o.byteOffset,o.byteLength),a=new w0.Crc32;return i.setUint32(0,s,!1),i.setUint32(4,n.byteLength,!1),i.setUint32(8,a.update(o.subarray(0,8)).digest(),!1),o.set(n,12),o.set(r,n.byteLength+12),i.setUint32(s-4,a.update(o.subarray(8,s-4)).digest(),!1),o}decode(t){let{headers:r,body:n}=S0(t);return{headers:this.headerMarshaller.parse(r),body:n}}formatHeaders(t){return this.headerMarshaller.format(t)}};function b0(e){let t=0,r=0,n=null,s=null,o=a=>{if(typeof a!="number")throw new Error("Attempted to allocate an event message where size was not a number: "+a);t=a,r=4,n=new Uint8Array(a),new DataView(n.buffer).setUint32(0,a,!1)},i=async function*(){let a=e[Symbol.asyncIterator]();for(;;){let{value:c,done:d}=await a.next();if(d){if(t)if(t===r)yield n;else throw new Error("Truncated event message received.");else return;return}let l=c.length,f=0;for(;f<l;){if(!n){let g=l-f;s||(s=new Uint8Array(4));let y=Math.min(4-r,g);if(s.set(c.slice(f,f+y),r),r+=y,f+=y,r<4)break;o(new DataView(s.buffer).getUint32(0,!1)),s=null}let u=Math.min(t-r,l-f);n.set(c.slice(f,f+u),r),r+=u,f+=u,t&&t===r&&(yield n,n=null,t=0,r=0)}}};return{[Symbol.asyncIterator]:i}}function _0(e,t){return{[Symbol.asyncIterator]:async function*(){for await(let r of e){let n=t.eventStreamCodec.decode(r),{value:s}=n.headers[":message-type"];if(s==="error"){let o=new Error(n.headers[":error-message"].value||"UnknownError");throw o.name=n.headers[":error-code"].value,o}else if(s==="exception"){let o=n.headers[":exception-type"].value,i={[o]:n},a=await t.deserializer(i);if(a.$unknown){let c=new Error(t.toUtf8(n.body));throw c.name=o,c}throw a[o]}else if(s==="event"){let o={[n.headers[":event-type"].value]:n},i=await t.deserializer(o);if(i.$unknown)continue;yield i}else throw Error(`Unrecognizable event type: ${n.headers[":event-type"].value}`)}}}}var za=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.eventStreamCodec=new Yd(t,r),this.utfEncoder=t}deserialize(t,r){let n=b0(t);return _0(n,{eventStreamCodec:this.eventStreamCodec,deserializer:r,toUtf8:this.utfEncoder})}serialize(t,r){let n=this,s=async function*(){for await(let o of t)yield n.eventStreamCodec.encode(r(o));yield new Uint8Array(0)};return{[Symbol.asyncIterator]:s}}};var A0=require("stream");async function*R0(e){let t=!1,r=!1,n=new Array;for(e.on("error",s=>{if(t||(t=!0),s)throw s}),e.on("data",s=>{n.push(s)}),e.on("end",()=>{t=!0});!r;){let s=await new Promise(o=>setTimeout(()=>o(n.shift()),0));s&&(yield s),r=t&&n.length===0}}var Xd=class{constructor({utf8Encoder:t,utf8Decoder:r}){this.universalMarshaller=new za({utf8Decoder:r,utf8Encoder:t})}deserialize(t,r){let n=typeof t[Symbol.asyncIterator]=="function"?t:R0(t);return this.universalMarshaller.deserialize(n,r)}serialize(t,r){return A0.Readable.from(this.universalMarshaller.serialize(t,r))}};var k0=e=>new Xd(e);var T0=require("stream"),$a=class extends T0.Writable{constructor(t,r){super(r),this.hash=t}_write(t,r,n){try{this.hash.update(Tt(t))}catch(s){return n(s)}n()}};var N0=(e,t)=>{if(t.readableFlowing!==null)throw new Error("Unable to calculate hash for flowing readable stream");let r=new e,n=new $a(r);return t.pipe(n),new Promise((s,o)=>{t.on("error",i=>{n.end(),o(i)}),n.on("error",o),n.on("finish",()=>{r.digest().then(s).catch(o)})})};var D3="AWS_S3_USE_ARN_REGION",B3="s3_use_arn_region",v0={environmentVariableSelector:e=>Ar(e,D3,Jt.ENV),configFileSelector:e=>Ar(e,B3,Jt.CONFIG),default:!1};var P0=require("stream"),O0=(e,t)=>{let{base64Encoder:r,bodyLengthChecker:n,checksumAlgorithmFn:s,checksumLocationName:o,streamHasher:i}=t,a=r!==void 0&&s!==void 0&&o!==void 0&&i!==void 0,c=a?i(s,e):void 0,d=new P0.Readable({read:()=>{}});return e.on("data",l=>{d.push(`${(n(l)||0).toString(16)}\r
${l.toString()}\r
`)}),e.on("end",async()=>{if(d.push(`0\r
`),a){let l=r(await c);d.push(`${o}:${l}\r
`),d.push(`\r
`)}d.push(null)}),d};var Qd=require("stream"),D0=require("util"),I0="The stream has already been transformed.",B0=e=>{var n,s;if(!(e instanceof Qd.Readable)){let o=((s=(n=e==null?void 0:e.__proto__)==null?void 0:n.constructor)==null?void 0:s.name)||e;throw new Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${o}`)}let t=!1,r=async()=>{if(t)throw new Error(I0);return t=!0,await Or(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async o=>{let i=await r();return o===void 0||Buffer.isEncoding(o)?en(i.buffer,i.byteOffset,i.byteLength).toString(o):new D0.TextDecoder(o).decode(i)},transformToWebStream:()=>{if(t)throw new Error(I0);if(e.readableFlowing!==null)throw new Error("The stream has been consumed by other callbacks.");if(typeof Qd.Readable.toWeb!="function")throw new Error("Readable.toWeb() is not supported. Please make sure you are using Node.js >= 17.0.0, or polyfill is available.");return t=!0,Qd.Readable.toWeb(e)}})};var Zd=class{constructor(t){this.sigv4Signer=new Gs(t),this.signerOptions=t}async sign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().sign(t,r)}return this.sigv4Signer.sign(t,r)}async presign(t,r={}){if(r.signingRegion==="*"){if(this.signerOptions.runtime!=="node")throw new Error("This request requires signing with SigV4Asymmetric algorithm. It's only available in Node.js");return this.getSigv4aSigner().presign(t,r)}return this.sigv4Signer.presign(t,r)}getSigv4aSigner(){if(!this.sigv4aSigner){let t;try{if(t=typeof require=="function"&&require("@aws-sdk/signature-v4-crt").CrtSignerV4,typeof t!="function")throw new Error}catch(r){throw r.message=`${r.message}
Please check if you have installed "@aws-sdk/signature-v4-crt" package explicitly. 
For more information please go to https://github.com/aws/aws-sdk-js-v3#functionality-requiring-aws-common-runtime-crt`,r}this.sigv4aSigner=new t({...this.signerOptions,signingAlgorithm:1})}return this.sigv4aSigner}};var wm="required",h="type",x="rules",E="conditions",m="fn",p="argv",b="ref",Ze="assign",I="url",D="properties",q="authSchemes",H="disableDoubleEncoding",j="signingName",G="signingRegion",B="headers";var C="tree",zt="isSet",qa="substring",qR="hardwareType",HR="regionPrefix",M0="abbaSuffix",Cm="outpostId",Va="aws.partition",F="stringEquals",eo="isValidHostLabel",Oe="not",M="error",jR="parseURL",bm="s3-outposts",_="endpoint",N="booleanEquals",GR="aws.parseArn",V="s3",L0="aws.isVirtualHostableS3Bucket",Ne="getAttr",z="name",tm="Host override cannot be combined with Dualstack, FIPS, or S3 Accelerate",KR="https://{Bucket}.s3.{partitionResult#dnsSuffix}",VR="bucketArn",WR="arnType",sl="",_m="s3-object-lambda",YR="accesspoint",Rm="accessPointName",F0="{url#scheme}://{accessPointName}-{bucketArn#accountId}.{url#authority}{url#path}",U0="mrapPartition",z0="outpostType",$0="arnPrefix",to="{url#scheme}://{url#authority}{url#path}",XR="https://s3.{partitionResult#dnsSuffix}",rm={[wm]:!1,[h]:"String"},Ha={[wm]:!0,default:!1,[h]:"Boolean"},Jd={[wm]:!1,[h]:"Boolean"},QR={[m]:zt,[p]:[{[b]:"Bucket"}]},Lr={[b]:"Bucket"},q0={[b]:qR},H0={[E]:[{[m]:Oe,[p]:[{[m]:zt,[p]:[{[b]:"Endpoint"}]}]}],[M]:"Expected a endpoint to be specified but no endpoint was found",[h]:M},W={[m]:Oe,[p]:[{[m]:zt,[p]:[{[b]:"Endpoint"}]}]},se={[m]:zt,[p]:[{[b]:"Endpoint"}]},ge={[m]:jR,[p]:[{[b]:"Endpoint"}],[Ze]:"url"},el={[q]:[{[H]:!0,[z]:"sigv4",[j]:bm,[G]:"{Region}"}]},je={},j0={[b]:"ForcePathStyle"},G0={[E]:[{[m]:"uriEncode",[p]:[Lr],[Ze]:"uri_encoded_bucket"}],[h]:C,[x]:[{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},se],[M]:"Cannot set dual-stack in combination with a custom endpoint.",[h]:M},{[h]:C,[x]:[{[E]:[{[m]:Va,[p]:[{[b]:"Region"}],[Ze]:"partitionResult"}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:N,[p]:[{[b]:"Accelerate"},!1]}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:Oe,[p]:[{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:C,[x]:[{[_]:{[I]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[B]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:Oe,[p]:[{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[I]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ge,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ge,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ge,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:Oe,[p]:[{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:C,[x]:[{[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[B]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ge,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:Oe,[p]:[{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:Oe,[p]:[{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:C,[x]:[{[_]:{[I]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[B]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!0]},{[m]:Oe,[p]:[{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[I]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:Oe,[p]:[{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:C,[x]:[{[_]:{[I]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[B]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!0]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:Oe,[p]:[{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[I]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ge,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ge,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ge,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:Oe,[p]:[{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:C,[x]:[{[E]:[{[m]:F,[p]:[{[b]:"Region"},"us-east-1"]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[B]:{}},[h]:_},{[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[B]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},se,ge,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:Oe,[p]:[{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:Oe,[p]:[{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!0]}],[h]:C,[x]:[{[E]:[{[m]:F,[p]:[{[b]:"Region"},"us-east-1"]}],[_]:{[I]:"https://s3.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[B]:{}},[h]:_},{[_]:{[I]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[B]:{}},[h]:_}]},{[E]:[{[m]:N,[p]:[{[b]:"UseDualStack"},!1]},W,{[m]:N,[p]:[{[b]:"UseFIPS"},!1]},{[m]:Oe,[p]:[{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}]},{[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!1]}],[_]:{[I]:"https://s3.{Region}.{partitionResult#dnsSuffix}/{uri_encoded_bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},[B]:{}},[h]:_}]}]},{[M]:"Path-style addressing cannot be used with S3 Accelerate",[h]:M}]}]},{[M]:"A valid partition could not be determined",[h]:M}]}]},xe={[m]:N,[p]:[{[b]:"UseDualStack"},!0]},We={[m]:N,[p]:[{[b]:"Accelerate"},!1]},Re={[m]:N,[p]:[{[b]:"UseFIPS"},!0]},ce={[m]:Oe,[p]:[{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}]},ut={[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!0]},ht={[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{Region}"}]},ft={[m]:N,[p]:[{[b]:"UseGlobalEndpoint"},!1]},he={[m]:N,[p]:[{[b]:"UseDualStack"},!1]},oe={[m]:N,[p]:[{[b]:"UseFIPS"},!1]},Zs={[M]:"A valid partition could not be determined",[h]:M},nm={[E]:[Re,{[m]:F,[p]:[{[m]:Ne,[p]:[{[b]:"partitionResult"},z]},"aws-cn"]}],[M]:"Partition does not support FIPS",[h]:M},G3={[m]:F,[p]:[{[m]:Ne,[p]:[{[b]:"partitionResult"},z]},"aws-cn"]},pr={[m]:N,[p]:[{[b]:"Accelerate"},!0]},K0={[E]:[xe,Re,We,W,{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://{Bucket}.s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},V0={[I]:"https://{Bucket}.s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[D]:ht,[B]:{}},W0={[E]:[he,Re,We,W,{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://{Bucket}.s3-fips.us-east-1.{partitionResult#dnsSuffix}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},Y0={[I]:"https://{Bucket}.s3-fips.{Region}.{partitionResult#dnsSuffix}",[D]:ht,[B]:{}},X0={[E]:[xe,oe,pr,W,{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://{Bucket}.s3-accelerate.dualstack.us-east-1.{partitionResult#dnsSuffix}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},Q0={[I]:"https://{Bucket}.s3-accelerate.dualstack.{partitionResult#dnsSuffix}",[D]:ht,[B]:{}},Z0={[E]:[xe,oe,We,W,{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://{Bucket}.s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},J0={[I]:"https://{Bucket}.s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[D]:ht,[B]:{}},eR={[E]:[he,oe,We,se,ge,{[m]:N,[p]:[{[m]:Ne,[p]:[{[b]:"url"},"isIp"]},!0]},{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},tR={[m]:N,[p]:[{[m]:Ne,[p]:[{[b]:"url"},"isIp"]},!0]},Am={[b]:"url"},rR={[E]:[he,oe,We,se,ge,{[m]:N,[p]:[{[m]:Ne,[p]:[Am,"isIp"]},!1]},{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},nR={[m]:N,[p]:[{[m]:Ne,[p]:[Am,"isIp"]},!1]},sm={[I]:"{url#scheme}://{url#authority}{url#normalizedPath}{Bucket}",[D]:ht,[B]:{}},Sm={[I]:"{url#scheme}://{Bucket}.{url#authority}{url#path}",[D]:ht,[B]:{}},sR={[_]:Sm,[h]:_},oR={[E]:[he,oe,pr,W,{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},om={[I]:"https://{Bucket}.s3-accelerate.{partitionResult#dnsSuffix}",[D]:ht,[B]:{}},iR={[E]:[he,oe,We,W,{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:KR,[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},aR={[I]:"https://{Bucket}.s3.{Region}.{partitionResult#dnsSuffix}",[D]:ht,[B]:{}},tl={[M]:"Invalid region: region was not a valid DNS name.",[h]:M},Pt={[b]:VR},ZR={[b]:WR},im={[m]:Ne,[p]:[Pt,"service"]},km={[b]:Rm},cR={[E]:[xe],[M]:"S3 Object Lambda does not support Dual-stack",[h]:M},dR={[E]:[pr],[M]:"S3 Object Lambda does not support S3 Accelerate",[h]:M},lR={[E]:[{[m]:zt,[p]:[{[b]:"DisableAccessPoints"}]},{[m]:N,[p]:[{[b]:"DisableAccessPoints"},!0]}],[M]:"Access points are not supported for this operation",[h]:M},am={[E]:[{[m]:zt,[p]:[{[b]:"UseArnRegion"}]},{[m]:N,[p]:[{[b]:"UseArnRegion"},!1]},{[m]:Oe,[p]:[{[m]:F,[p]:[{[m]:Ne,[p]:[Pt,"region"]},"{Region}"]}]}],[M]:"Invalid configuration: region from ARN `{bucketArn#region}` does not match client region `{Region}` and UseArnRegion is `false`",[h]:M},Tm={[m]:Ne,[p]:[{[b]:"bucketPartition"},z]},JR={[m]:Ne,[p]:[Pt,"accountId"]},uR={[E]:[Re,{[m]:F,[p]:[Tm,"aws-cn"]}],[M]:"Partition does not support FIPS",[h]:M},cm={[q]:[{[H]:!0,[z]:"sigv4",[j]:_m,[G]:"{bucketArn#region}"}]},fR={[M]:"Invalid ARN: The access point name may only contain a-z, A-Z, 0-9 and `-`. Found: `{accessPointName}`",[h]:M},dm={[M]:"Invalid ARN: The account id may only contain a-z, A-Z, 0-9 and `-`. Found: `{bucketArn#accountId}`",[h]:M},lm={[M]:"Invalid region in ARN: `{bucketArn#region}` (invalid DNS name)",[h]:M},um={[M]:"Client was configured for partition `{partitionResult#name}` but ARN (`{Bucket}`) has `{bucketPartition#name}`",[h]:M},hR={[M]:"Could not load partition for ARN region `{bucketArn#region}`",[h]:M},mR={[M]:"Invalid ARN: The ARN may only contain a single resource component after `accesspoint`.",[h]:M},pR={[M]:"Invalid ARN: bucket ARN is missing a region",[h]:M},yR={[M]:"Invalid ARN: Expected a resource of the format `accesspoint:<accesspoint name>` but no name was provided",[h]:M},ja={[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"{bucketArn#region}"}]},gR={[q]:[{[H]:!0,[z]:"sigv4",[j]:bm,[G]:"{bucketArn#region}"}]},ER={[b]:"UseObjectLambdaEndpoint"},fm={[q]:[{[H]:!0,[z]:"sigv4",[j]:_m,[G]:"{Region}"}]},xR={[E]:[Re,xe,se,ge,{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:to,[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},eA={[_]:{[I]:to,[D]:ht,[B]:{}},[h]:_},Ga={[I]:to,[D]:ht,[B]:{}},CR={[E]:[Re,xe,W,{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3-fips.dualstack.us-east-1.{partitionResult#dnsSuffix}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},SR={[I]:"https://s3-fips.dualstack.{Region}.{partitionResult#dnsSuffix}",[D]:ht,[B]:{}},wR={[E]:[Re,he,se,ge,{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:to,[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},bR={[E]:[Re,he,W,{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3-fips.us-east-1.{partitionResult#dnsSuffix}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},_R={[I]:"https://s3-fips.{Region}.{partitionResult#dnsSuffix}",[D]:ht,[B]:{}},RR={[E]:[oe,xe,se,ge,{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:to,[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},AR={[E]:[oe,xe,W,{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:"https://s3.dualstack.us-east-1.{partitionResult#dnsSuffix}",[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},kR={[I]:"https://s3.dualstack.{Region}.{partitionResult#dnsSuffix}",[D]:ht,[B]:{}},TR={[E]:[oe,he,se,ge,{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:to,[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},NR={[E]:[oe,he,W,{[m]:F,[p]:[{[b]:"Region"},"aws-global"]}],[_]:{[I]:XR,[D]:{[q]:[{[H]:!0,[z]:"sigv4",[j]:V,[G]:"us-east-1"}]},[B]:{}},[h]:_},vR={[I]:"https://s3.{Region}.{partitionResult#dnsSuffix}",[D]:ht,[B]:{}},nl=[{[b]:"Region"}],K3=[Lr],PR=[{[m]:eo,[p]:[{[b]:Cm},!1]}],OR=[{[m]:F,[p]:[{[b]:HR},"beta"]}],V3=[{[b]:"Endpoint"}],Ka=[se,ge],IR=[QR],DR=[{[m]:GR,[p]:[Lr]}],W3=[xe,se],Js=[{[m]:Va,[p]:nl,[Ze]:"partitionResult"}],Ai=[{[m]:F,[p]:[{[b]:"Region"},"us-east-1"]}],BR=[{[m]:eo,[p]:[{[b]:"Region"},!1]}],hm=[{[m]:F,[p]:[ZR,YR]}],MR=[{[m]:Ne,[p]:[Pt,"resourceId[1]"],[Ze]:Rm},{[m]:Oe,[p]:[{[m]:F,[p]:[km,sl]}]}],Y3=[Pt,"resourceId[1]"],LR=[xe],mm=[pr],pm=[{[m]:Oe,[p]:[{[m]:F,[p]:[{[m]:Ne,[p]:[Pt,"region"]},sl]}]}],FR=[{[m]:Oe,[p]:[{[m]:zt,[p]:[{[m]:Ne,[p]:[Pt,"resourceId[2]"]}]}]}],X3=[Pt,"resourceId[2]"],ym=[{[m]:Va,[p]:[{[m]:Ne,[p]:[Pt,"region"]}],[Ze]:"bucketPartition"}],UR=[{[m]:F,[p]:[Tm,{[m]:Ne,[p]:[{[b]:"partitionResult"},z]}]}],gm=[{[m]:eo,[p]:[{[m]:Ne,[p]:[Pt,"region"]},!0]}],Em=[{[m]:eo,[p]:[JR,!1]}],zR=[{[m]:eo,[p]:[km,!1]}],rl=[Re],$R=[{[m]:eo,[p]:[{[b]:"Region"},!0]}],xm=[eA],Q3={version:"1.0",parameters:{Bucket:rm,Region:rm,UseFIPS:Ha,UseDualStack:Ha,Endpoint:rm,ForcePathStyle:Jd,Accelerate:Ha,UseGlobalEndpoint:Ha,UseObjectLambdaEndpoint:Jd,DisableAccessPoints:Jd,DisableMultiRegionAccessPoints:Ha,UseArnRegion:Jd},[x]:[{[h]:C,[x]:[{[E]:[{[m]:zt,[p]:nl}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:[QR,{[m]:qa,[p]:[Lr,49,50,!0],[Ze]:qR},{[m]:qa,[p]:[Lr,8,12,!0],[Ze]:HR},{[m]:qa,[p]:[Lr,0,7,!0],[Ze]:M0},{[m]:qa,[p]:[Lr,32,49,!0],[Ze]:Cm},{[m]:Va,[p]:nl,[Ze]:"regionPartition"},{[m]:F,[p]:[{[b]:M0},"--op-s3"]}],[h]:C,[x]:[{[E]:PR,[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:F,[p]:[q0,"e"]}],[h]:C,[x]:[{[E]:OR,[h]:C,[x]:[H0,{[E]:Ka,endpoint:{[I]:"https://{Bucket}.ec2.{url#authority}",[D]:el,[B]:je},[h]:_}]},{endpoint:{[I]:"https://{Bucket}.ec2.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[D]:el,[B]:je},[h]:_}]},{[E]:[{[m]:F,[p]:[q0,"o"]}],[h]:C,[x]:[{[E]:OR,[h]:C,[x]:[H0,{[E]:Ka,endpoint:{[I]:"https://{Bucket}.op-{outpostId}.{url#authority}",[D]:el,[B]:je},[h]:_}]},{endpoint:{[I]:"https://{Bucket}.op-{outpostId}.s3-outposts.{Region}.{regionPartition#dnsSuffix}",[D]:el,[B]:je},[h]:_}]},{error:'Unrecognized hardware type: "Expected hardware type o or e but got {hardwareType}"',[h]:M}]}]},{error:"Invalid ARN: The outpost Id must only contain a-z, A-Z, 0-9 and `-`.",[h]:M}]},{[E]:IR,[h]:C,[x]:[{[E]:[se,{[m]:Oe,[p]:[{[m]:zt,[p]:[{[m]:jR,[p]:V3}]}]}],error:"Custom endpoint `{Endpoint}` was not a valid URI",[h]:M},{[h]:C,[x]:[{[E]:[{[m]:zt,[p]:[j0]},{[m]:N,[p]:[j0,!0]}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:DR,error:"Path-style addressing cannot be used with ARN buckets",[h]:M},G0]}]},{[E]:[{[m]:L0,[p]:[Lr,!1]}],[h]:C,[x]:[{[E]:Js,[h]:C,[x]:[{[h]:C,[x]:[{[E]:BR,[h]:C,[x]:[{[h]:C,[x]:[nm,{[h]:C,[x]:[{[E]:[pr,Re],error:"Accelerate cannot be used with FIPS",[h]:M},{[h]:C,[x]:[{[E]:[pr,G3],error:"S3 Accelerate cannot be used in this region",[h]:M},{[h]:C,[x]:[{[E]:[se,xe],error:tm,[h]:M},{[h]:C,[x]:[{[E]:[se,Re],error:tm,[h]:M},{[h]:C,[x]:[{[E]:[se,pr],error:tm,[h]:M},{[h]:C,[x]:[K0,K0,{[E]:[xe,Re,We,W,ce,ut],[h]:C,[x]:[{endpoint:V0,[h]:_}]},{[E]:[xe,Re,We,W,ce,ft],endpoint:V0,[h]:_},W0,W0,{[E]:[he,Re,We,W,ce,ut],[h]:C,[x]:[{endpoint:Y0,[h]:_}]},{[E]:[he,Re,We,W,ce,ft],endpoint:Y0,[h]:_},X0,X0,{[E]:[xe,oe,pr,W,ce,ut],[h]:C,[x]:[{endpoint:Q0,[h]:_}]},{[E]:[xe,oe,pr,W,ce,ft],endpoint:Q0,[h]:_},Z0,Z0,{[E]:[xe,oe,We,W,ce,ut],[h]:C,[x]:[{endpoint:J0,[h]:_}]},{[E]:[xe,oe,We,W,ce,ft],endpoint:J0,[h]:_},eR,rR,eR,rR,{[E]:[he,oe,We,se,ge,tR,ce,ut],[h]:C,[x]:[{[E]:Ai,endpoint:sm,[h]:_},{endpoint:sm,[h]:_}]},{[E]:[he,oe,We,se,ge,nR,ce,ut],[h]:C,[x]:[{[E]:Ai,endpoint:Sm,[h]:_},sR]},{[E]:[he,oe,We,se,ge,tR,ce,ft],endpoint:sm,[h]:_},{[E]:[he,oe,We,se,ge,nR,ce,ft],endpoint:Sm,[h]:_},oR,oR,{[E]:[he,oe,pr,W,ce,ut],[h]:C,[x]:[{[E]:Ai,endpoint:om,[h]:_},{endpoint:om,[h]:_}]},{[E]:[he,oe,pr,W,ce,ft],endpoint:om,[h]:_},iR,iR,{[E]:[he,oe,We,W,ce,ut],[h]:C,[x]:[{[E]:Ai,endpoint:{[I]:KR,[D]:ht,[B]:je},[h]:_},{endpoint:aR,[h]:_}]},{[E]:[he,oe,We,W,ce,ft],endpoint:aR,[h]:_}]}]}]}]}]}]}]}]},tl]}]},Zs]},{[E]:[se,ge,{[m]:F,[p]:[{[m]:Ne,[p]:[Am,"scheme"]},"http"]},{[m]:L0,[p]:[Lr,!0]},oe,he,We],[h]:C,[x]:[{[E]:Js,[h]:C,[x]:[{[h]:C,[x]:[{[E]:BR,[h]:C,[x]:[sR]},tl]}]},Zs]},{[E]:[{[m]:GR,[p]:K3,[Ze]:VR}],[h]:C,[x]:[{[E]:[{[m]:Ne,[p]:[Pt,"resourceId[0]"],[Ze]:WR},{[m]:Oe,[p]:[{[m]:F,[p]:[ZR,sl]}]}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:F,[p]:[im,_m]}],[h]:C,[x]:[{[E]:hm,[h]:C,[x]:[{[h]:C,[x]:[{[E]:MR,[h]:C,[x]:[{[h]:C,[x]:[cR,{[h]:C,[x]:[dR,{[h]:C,[x]:[{[E]:pm,[h]:C,[x]:[{[h]:C,[x]:[lR,{[h]:C,[x]:[{[E]:FR,[h]:C,[x]:[{[h]:C,[x]:[am,{[h]:C,[x]:[{[E]:ym,[h]:C,[x]:[{[h]:C,[x]:[{[E]:Js,[h]:C,[x]:[{[h]:C,[x]:[{[E]:UR,[h]:C,[x]:[{[h]:C,[x]:[{[E]:gm,[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:F,[p]:[JR,sl]}],error:"Invalid ARN: Missing account id",[h]:M},{[h]:C,[x]:[{[E]:Em,[h]:C,[x]:[{[h]:C,[x]:[{[E]:zR,[h]:C,[x]:[{[h]:C,[x]:[uR,{[h]:C,[x]:[{[E]:Ka,endpoint:{[I]:F0,[D]:cm,[B]:je},[h]:_},{[E]:rl,endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[D]:cm,[B]:je},[h]:_},{endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.s3-object-lambda.{bucketArn#region}.{bucketPartition#dnsSuffix}",[D]:cm,[B]:je},[h]:_}]}]}]},fR]}]},dm]}]}]},lm]}]},um]}]},Zs]}]},hR]}]}]},mR]}]}]},pR]}]}]}]},yR]}]},{error:"Invalid ARN: Object Lambda ARNs only support `accesspoint` arn types, but found: `{arnType}`",[h]:M}]},{[E]:hm,[h]:C,[x]:[{[E]:MR,[h]:C,[x]:[{[h]:C,[x]:[{[E]:pm,[h]:C,[x]:[{[E]:hm,[h]:C,[x]:[{[E]:pm,[h]:C,[x]:[{[h]:C,[x]:[lR,{[h]:C,[x]:[{[E]:FR,[h]:C,[x]:[{[h]:C,[x]:[am,{[h]:C,[x]:[{[E]:ym,[h]:C,[x]:[{[h]:C,[x]:[{[E]:Js,[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:F,[p]:[Tm,"{partitionResult#name}"]}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:gm,[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:F,[p]:[im,V]}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:Em,[h]:C,[x]:[{[h]:C,[x]:[{[E]:zR,[h]:C,[x]:[{[h]:C,[x]:[{[E]:mm,error:"Access Points do not support S3 Accelerate",[h]:M},{[h]:C,[x]:[uR,{[h]:C,[x]:[{[E]:W3,error:"DualStack cannot be combined with a Host override (PrivateLink)",[h]:M},{[h]:C,[x]:[{[E]:[Re,xe],endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[D]:ja,[B]:je},[h]:_},{[E]:[Re,he],endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint-fips.{bucketArn#region}.{bucketPartition#dnsSuffix}",[D]:ja,[B]:je},[h]:_},{[E]:[oe,xe],endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.dualstack.{bucketArn#region}.{bucketPartition#dnsSuffix}",[D]:ja,[B]:je},[h]:_},{[E]:[oe,he,se,ge],endpoint:{[I]:F0,[D]:ja,[B]:je},[h]:_},{[E]:[oe,he],endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.s3-accesspoint.{bucketArn#region}.{bucketPartition#dnsSuffix}",[D]:ja,[B]:je},[h]:_}]}]}]}]}]},fR]}]},dm]}]},{error:"Invalid ARN: The ARN was not for the S3 service, found: {bucketArn#service}",[h]:M}]}]},lm]}]},um]}]},Zs]}]},hR]}]}]},mR]}]}]},pR]}]},{[h]:C,[x]:[{[E]:[{[m]:eo,[p]:[km,!0]}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:LR,error:"S3 MRAP does not support dual-stack",[h]:M},{[h]:C,[x]:[{[E]:rl,error:"S3 MRAP does not support FIPS",[h]:M},{[h]:C,[x]:[{[E]:mm,error:"S3 MRAP does not support S3 Accelerate",[h]:M},{[h]:C,[x]:[{[E]:[{[m]:N,[p]:[{[b]:"DisableMultiRegionAccessPoints"},!0]}],error:"Invalid configuration: Multi-Region Access Point ARNs are disabled.",[h]:M},{[h]:C,[x]:[{[E]:[{[m]:Va,[p]:nl,[Ze]:U0}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:F,[p]:[{[m]:Ne,[p]:[{[b]:U0},z]},{[m]:Ne,[p]:[Pt,"partition"]}]}],[h]:C,[x]:[{endpoint:{[I]:"https://{accessPointName}.accesspoint.s3-global.{mrapPartition#dnsSuffix}",[D]:{[q]:[{[H]:!0,name:"sigv4a",[j]:V,signingRegionSet:["*"]}]},[B]:je},[h]:_}]},{error:"Client was configured for partition `{mrapPartition#name}` but bucket referred to partition `{bucketArn#partition}`",[h]:M}]}]},{error:"{Region} was not a valid region",[h]:M}]}]}]}]}]}]},{error:"Invalid Access Point Name",[h]:M}]}]}]},yR]},{[E]:[{[m]:F,[p]:[im,bm]}],[h]:C,[x]:[{[E]:LR,error:"S3 Outposts does not support Dual-stack",[h]:M},{[h]:C,[x]:[{[E]:rl,error:"S3 Outposts does not support FIPS",[h]:M},{[h]:C,[x]:[{[E]:mm,error:"S3 Outposts does not support S3 Accelerate",[h]:M},{[h]:C,[x]:[{[E]:[{[m]:zt,[p]:[{[m]:Ne,[p]:[Pt,"resourceId[4]"]}]}],error:"Invalid Arn: Outpost Access Point ARN contains sub resources",[h]:M},{[h]:C,[x]:[{[E]:[{[m]:Ne,[p]:Y3,[Ze]:Cm}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:PR,[h]:C,[x]:[{[h]:C,[x]:[am,{[h]:C,[x]:[{[E]:ym,[h]:C,[x]:[{[h]:C,[x]:[{[E]:Js,[h]:C,[x]:[{[h]:C,[x]:[{[E]:UR,[h]:C,[x]:[{[h]:C,[x]:[{[E]:gm,[h]:C,[x]:[{[h]:C,[x]:[{[E]:Em,[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:Ne,[p]:X3,[Ze]:z0}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:Ne,[p]:[Pt,"resourceId[3]"],[Ze]:Rm}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:[{[m]:F,[p]:[{[b]:z0},YR]}],[h]:C,[x]:[{[h]:C,[x]:[{[E]:Ka,endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.{url#authority}",[D]:gR,[B]:je},[h]:_},{endpoint:{[I]:"https://{accessPointName}-{bucketArn#accountId}.{outpostId}.s3-outposts.{bucketArn#region}.{bucketPartition#dnsSuffix}",[D]:gR,[B]:je},[h]:_}]}]},{error:"Expected an outpost type `accesspoint`, found {outpostType}",[h]:M}]}]},{error:"Invalid ARN: expected an access point name",[h]:M}]}]},{error:"Invalid ARN: Expected a 4-component resource",[h]:M}]}]},dm]}]},lm]}]},um]}]},Zs]}]},{error:"Could not load partition for ARN region {bucketArn#region}",[h]:M}]}]}]},{error:"Invalid ARN: The outpost Id may only contain a-z, A-Z, 0-9 and `-`. Found: `{outpostId}`",[h]:M}]}]},{error:"Invalid ARN: The Outpost Id was not set",[h]:M}]}]}]}]}]},{error:"Invalid ARN: Unrecognized format: {Bucket} (type: {arnType})",[h]:M}]}]},{error:"Invalid ARN: No ARN type specified",[h]:M}]},{[E]:[{[m]:qa,[p]:[Lr,0,4,!1],[Ze]:$0},{[m]:F,[p]:[{[b]:$0},"arn:"]},{[m]:Oe,[p]:[{[m]:zt,[p]:DR}]}],error:"Invalid ARN: `{Bucket}` was not a valid ARN",[h]:M},G0]}]},{[E]:[{[m]:zt,[p]:[ER]},{[m]:N,[p]:[ER,!0]}],[h]:C,[x]:[{[E]:Js,[h]:C,[x]:[{[h]:C,[x]:[{[E]:$R,[h]:C,[x]:[{[h]:C,[x]:[cR,{[h]:C,[x]:[dR,{[h]:C,[x]:[nm,{[h]:C,[x]:[{[E]:Ka,endpoint:{[I]:to,[D]:fm,[B]:je},[h]:_},{[E]:rl,endpoint:{[I]:"https://s3-object-lambda-fips.{Region}.{partitionResult#dnsSuffix}",[D]:fm,[B]:je},[h]:_},{endpoint:{[I]:"https://s3-object-lambda.{Region}.{partitionResult#dnsSuffix}",[D]:fm,[B]:je},[h]:_}]}]}]}]}]},tl]}]},Zs]},{[E]:[{[m]:Oe,[p]:IR}],[h]:C,[x]:[{[E]:Js,[h]:C,[x]:[{[h]:C,[x]:[{[E]:$R,[h]:C,[x]:[{[h]:C,[x]:[nm,{[h]:C,[x]:[xR,xR,{[E]:[Re,xe,se,ge,ce,ut],[h]:C,[x]:xm},{[E]:[Re,xe,se,ge,ce,ft],endpoint:Ga,[h]:_},CR,CR,{[E]:[Re,xe,W,ce,ut],[h]:C,[x]:[{endpoint:SR,[h]:_}]},{[E]:[Re,xe,W,ce,ft],endpoint:SR,[h]:_},wR,wR,{[E]:[Re,he,se,ge,ce,ut],[h]:C,[x]:xm},{[E]:[Re,he,se,ge,ce,ft],endpoint:Ga,[h]:_},bR,bR,{[E]:[Re,he,W,ce,ut],[h]:C,[x]:[{endpoint:_R,[h]:_}]},{[E]:[Re,he,W,ce,ft],endpoint:_R,[h]:_},RR,RR,{[E]:[oe,xe,se,ge,ce,ut],[h]:C,[x]:xm},{[E]:[oe,xe,se,ge,ce,ft],endpoint:Ga,[h]:_},AR,AR,{[E]:[oe,xe,W,ce,ut],[h]:C,[x]:[{endpoint:kR,[h]:_}]},{[E]:[oe,xe,W,ce,ft],endpoint:kR,[h]:_},TR,TR,{[E]:[oe,he,se,ge,ce,ut],[h]:C,[x]:[{[E]:Ai,endpoint:Ga,[h]:_},eA]},{[E]:[oe,he,se,ge,ce,ft],endpoint:Ga,[h]:_},NR,NR,{[E]:[oe,he,W,ce,ut],[h]:C,[x]:[{[E]:Ai,endpoint:{[I]:XR,[D]:ht,[B]:je},[h]:_},{endpoint:vR,[h]:_}]},{[E]:[oe,he,W,ce,ft],endpoint:vR,[h]:_}]}]}]},tl]}]},Zs]}]}]},{error:"A region must be set when sending requests to S3.",[h]:M}]}]},tA=Q3;var rA=(e,t={})=>ss(tA,{endpointParams:e,logger:t.logger});var nA=e=>({apiVersion:"2006-03-01",base64Decoder:(e==null?void 0:e.base64Decoder)??ls,base64Encoder:(e==null?void 0:e.base64Encoder)??us,disableHostPrefix:(e==null?void 0:e.disableHostPrefix)??!1,endpointProvider:(e==null?void 0:e.endpointProvider)??rA,logger:(e==null?void 0:e.logger)??new Sr,serviceId:(e==null?void 0:e.serviceId)??"S3",signerConstructor:(e==null?void 0:e.signerConstructor)??Zd,signingEscapePath:(e==null?void 0:e.signingEscapePath)??!1,urlParser:(e==null?void 0:e.urlParser)??Rt,useArnRegion:(e==null?void 0:e.useArnRegion)??!1,utf8Decoder:(e==null?void 0:e.utf8Decoder)??Rr,utf8Encoder:(e==null?void 0:e.utf8Encoder)??qn});var sA=e=>{Fn(process.version);let t=fs(e),r=()=>t().then(Ln),n=nA(e);return{...n,...e,runtime:"node",defaultsMode:t,bodyLengthChecker:(e==null?void 0:e.bodyLengthChecker)??cs,credentialDefaultProvider:(e==null?void 0:e.credentialDefaultProvider)??p0(Vd),defaultUserAgentProvider:(e==null?void 0:e.defaultUserAgentProvider)??ds({serviceId:n.serviceId,clientVersion:Aw.version}),eventStreamSerdeProvider:(e==null?void 0:e.eventStreamSerdeProvider)??k0,getAwsChunkedEncodingStream:(e==null?void 0:e.getAwsChunkedEncodingStream)??O0,maxAttempts:(e==null?void 0:e.maxAttempts)??ie(Qn),md5:(e==null?void 0:e.md5)??rr.bind(null,"md5"),region:(e==null?void 0:e.region)??ie(kr,Gn),requestHandler:(e==null?void 0:e.requestHandler)??new Pr(r),retryMode:(e==null?void 0:e.retryMode)??ie({...Jn,default:async()=>(await r()).retryMode||Nr}),sdkStreamMixin:(e==null?void 0:e.sdkStreamMixin)??B0,sha1:(e==null?void 0:e.sha1)??rr.bind(null,"sha1"),sha256:(e==null?void 0:e.sha256)??rr.bind(null,"sha256"),streamCollector:(e==null?void 0:e.streamCollector)??Or,streamHasher:(e==null?void 0:e.streamHasher)??N0,useArnRegion:(e==null?void 0:e.useArnRegion)??ie(v0),useDualstackEndpoint:(e==null?void 0:e.useDualstackEndpoint)??ie(Hn),useFipsEndpoint:(e==null?void 0:e.useFipsEndpoint)??ie(jn)}};var ol=class extends wr{constructor(t){let r=sA(t),n=Rw(r),s=Kn(n),o=Dn(s),i=Zn(o),a=i,c=hd(a),d=UC(c),l=rs(d),f=SS(l);super(f),this.config=f,this.middlewareStack.use(es(this.config)),this.middlewareStack.use(Vn(this.config)),this.middlewareStack.use(Wn(this.config)),this.middlewareStack.use(Yn(this.config)),this.middlewareStack.use(Xn(this.config)),this.middlewareStack.use(pd(this.config)),this.middlewareStack.use(qC(this.config)),this.middlewareStack.use(bS(this.config)),this.middlewareStack.use(os(this.config))}destroy(){super.destroy()}};var il=class{constructor(){this.onabort=null,this._aborted=!1,Object.defineProperty(this,"_aborted",{value:!1,writable:!0})}get aborted(){return this._aborted}abort(){this._aborted=!0,this.onabort&&(this.onabort(this),this.onabort=null)}};var al=class{constructor(){this.signal=new il}abort(){this.signal.abort()}};var ll=require("events");var iA=require("fs");var oA={lstatSync:()=>{}};var aA={...oA,runtime:"node",lstatSync:iA.lstatSync};var cl=e=>{if(e==null)return 0;if(typeof e=="string"&&(e=Buffer.from(e)),typeof e.byteLength=="number")return e.byteLength;if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size;if(typeof e.path=="string")try{return aA.lstatSync(e.path).size}catch{return}};var Om=require("buffer"),uA=require("stream");async function*Nm(e,t){let r=1,n=0,s=t;for(;s<e.byteLength;)yield{partNumber:r,data:e.slice(n,s)},r+=1,n=s,s=n+t;yield{partNumber:r,data:e.slice(n),lastPart:!0}}var vm=require("buffer");async function*dl(e,t,r){let n=1,s={chunks:[],length:0};for await(let o of r(e))for(s.chunks.push(o),s.length+=o.length;s.length>=t;){let i=s.chunks.length>1?vm.Buffer.concat(s.chunks):s.chunks[0];yield{partNumber:n,data:i.slice(0,t)},s.chunks=[i.slice(t)],s.length=s.chunks[0].length,n+=1}yield{partNumber:n,data:vm.Buffer.concat(s.chunks),lastPart:!0}}var cA=require("buffer");async function*dA(e){for await(let t of e)yield cA.Buffer.from(t)}var lA=require("buffer");async function*Pm(e){let t=e.getReader();try{for(;;){let{done:r,value:n}=await t.read();if(r)return;yield lA.Buffer.from(n)}}catch(r){throw r}finally{t.releaseLock()}}var fA=(e,t)=>{if(e instanceof Om.Buffer)return Nm(e,t);if(e instanceof uA.Readable)return dl(e,t,dA);if(e instanceof String||typeof e=="string"||e instanceof Uint8Array)return Nm(Om.Buffer.from(e),t);if(typeof e.stream=="function")return dl(e.stream(),t,Pm);if(e instanceof ReadableStream)return dl(e,t,Pm);throw new Error("Body Data is unsupported format, expected data to be one of: string | Uint8Array | Buffer | Readable | ReadableStream | Blob;.")};var Im=1024*1024*5,ul=class extends ll.EventEmitter{constructor(t){super(),this.MAX_PARTS=1e4,this.queueSize=4,this.partSize=Im,this.leavePartsOnError=!1,this.tags=[],this.concurrentUploaders=[],this.uploadedParts=[],this.isMultiPart=!0,this.queueSize=t.queueSize||this.queueSize,this.partSize=t.partSize||this.partSize,this.leavePartsOnError=t.leavePartsOnError||this.leavePartsOnError,this.tags=t.tags||this.tags,this.client=t.client,this.params=t.params,this.__validateInput(),this.totalBytes=cl(this.params.Body),this.bytesUploadedSoFar=0,this.abortController=t.abortController??new al}async abort(){this.abortController.abort()}async done(){return await Promise.race([this.__doMultipartUpload(),this.__abortTimeout(this.abortController.signal)])}on(t,r){return this.uploadEvent=t,super.on(t,r)}async __uploadUsingPut(t){var y;this.isMultiPart=!1;let r={...this.params,Body:t.data},n=this.client.config,s=n.requestHandler,o=s instanceof ll.EventEmitter?s:null,i=S=>{this.bytesUploadedSoFar=S.loaded,this.totalBytes=S.total,this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:t.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})};o!==null&&o.on("xhr.upload.progress",i);let a=await Promise.all([this.client.send(new Hs(r)),(y=n==null?void 0:n.endpoint)==null?void 0:y.call(n)]),c=a[0],d=a[1];if(d||(d=Lc(await Mc(r,Hs,{...n}))),!d)throw new Error('Could not resolve endpoint from S3 "client.config.endpoint()" nor EndpointsV2.');o!==null&&o.off("xhr.upload.progress",i);let l=this.params.Key.split("/").map(S=>Zr(S)).join("/"),f=Zr(this.params.Bucket),u=(()=>{let S=d.hostname.startsWith(`${f}.`);return this.client.config.forcePathStyle?`${d.protocol}//${d.hostname}/${f}/${l}`:S?`${d.protocol}//${d.hostname}/${l}`:`${d.protocol}//${f}.${d.hostname}/${l}`})();this.singleUploadResult={...c,Bucket:this.params.Bucket,Key:this.params.Key,Location:u};let g=cl(t.data);this.__notifyProgress({loaded:g,total:g,part:1,Key:this.params.Key,Bucket:this.params.Bucket})}async __createMultipartUpload(){if(!this.createMultiPartPromise){let r={...this.params,Body:void 0};this.createMultiPartPromise=this.client.send(new Fo(r))}let t=await this.createMultiPartPromise;this.uploadId=t.UploadId}async __doConcurrentUpload(t){for await(let r of t){if(this.uploadedParts.length>this.MAX_PARTS)throw new Error(`Exceeded ${this.MAX_PARTS} as part of the upload to ${this.params.Key} and ${this.params.Bucket}.`);try{if(this.abortController.signal.aborted)return;if(r.partNumber===1&&r.lastPart)return await this.__uploadUsingPut(r);if(!this.uploadId&&(await this.__createMultipartUpload(),this.abortController.signal.aborted))return;let n=cl(r.data)||0,s=this.client.config.requestHandler,o=s instanceof ll.EventEmitter?s:null,i=0,a=(d,l)=>{(Number(l.query.partNumber)||-1)===r.partNumber&&(d.total&&n&&(this.bytesUploadedSoFar+=d.loaded-i,i=d.loaded),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:r.partNumber,Key:this.params.Key,Bucket:this.params.Bucket}))};o!==null&&o.on("xhr.upload.progress",a);let c=await this.client.send(new jo({...this.params,UploadId:this.uploadId,Body:r.data,PartNumber:r.partNumber}));if(o!==null&&o.off("xhr.upload.progress",a),this.abortController.signal.aborted)return;if(!c.ETag)throw new Error(`Part ${r.partNumber} is missing ETag in UploadPart response. Missing Bucket CORS configuration for ETag header?`);this.uploadedParts.push({PartNumber:r.partNumber,ETag:c.ETag,...c.ChecksumCRC32&&{ChecksumCRC32:c.ChecksumCRC32},...c.ChecksumCRC32C&&{ChecksumCRC32C:c.ChecksumCRC32C},...c.ChecksumSHA1&&{ChecksumSHA1:c.ChecksumSHA1},...c.ChecksumSHA256&&{ChecksumSHA256:c.ChecksumSHA256}}),o===null&&(this.bytesUploadedSoFar+=n),this.__notifyProgress({loaded:this.bytesUploadedSoFar,total:this.totalBytes,part:r.partNumber,Key:this.params.Key,Bucket:this.params.Bucket})}catch(n){if(!this.uploadId||this.leavePartsOnError)throw n}}}async __doMultipartUpload(){let t=fA(this.params.Body,this.partSize);for(let n=0;n<this.queueSize;n++){let s=this.__doConcurrentUpload(t);this.concurrentUploaders.push(s)}if(await Promise.all(this.concurrentUploaders),this.abortController.signal.aborted)throw Object.assign(new Error("Upload aborted."),{name:"AbortError"});let r;if(this.isMultiPart){this.uploadedParts.sort((s,o)=>s.PartNumber-o.PartNumber);let n={...this.params,Body:void 0,UploadId:this.uploadId,MultipartUpload:{Parts:this.uploadedParts}};r=await this.client.send(new Lo(n))}else r=this.singleUploadResult;return this.tags.length&&await this.client.send(new Ho({...this.params,Tagging:{TagSet:this.tags}})),r}__notifyProgress(t){this.uploadEvent&&this.emit(this.uploadEvent,t)}async __abortTimeout(t){return new Promise((r,n)=>{t.onabort=()=>{let s=new Error("Upload aborted.");s.name="AbortError",n(s)}})}__validateInput(){if(!this.params)throw new Error("InputError: Upload requires params to be passed to upload.");if(!this.client)throw new Error("InputError: Upload requires a AWS client to do uploads with.");if(this.partSize<Im)throw new Error(`EntityTooSmall: Your proposed upload partsize [${this.partSize}] is smaller than the minimum allowed size [${Im}] (5MB)`);if(this.queueSize<1)throw new Error("Queue size: Must have at least one uploading queue.")}};var IO=Vt(lN()),DO=Vt(vO());async function pG(){try{let e=(0,Xr.getInput)("bucket",{required:!0}),t=(0,Xr.getInput)("name",{required:!0}),r=(0,Xr.getMultilineInput)("path",{required:!0}),n=(0,Xr.getInput)("prefix"),s=(0,Xr.getBooleanInput)("gzip"),i=(await(0,DO.default)(r,{onlyFiles:!1,markDirectories:!0})).filter((g,y,S)=>g.at(-1)!=="/"||!S.some((R,O)=>y!==O&&R.startsWith(g)&&R.length>g.length)),a=(0,IO.create)({gzip:s},i).pipe(new OO.PassThrough);console.info("Uploading...");let c=setInterval(()=>console.info("Still uploading..."),5e3),d=new ol({}),l=PO.posix.join(n,t);await new ul({client:d,params:{Bucket:e,Key:l,Body:a}}).done();let{ObjectSize:u}=await d.send(new qo({Bucket:e,Key:l,ObjectAttributes:["ObjectSize"]}));clearInterval(c),console.info("Upload complete."),u&&console.info(`Size of uploaded archive: ${Intl.NumberFormat("en").format(u)} bytes`)}catch(e){console.info("Upload failed."),e instanceof Error&&(0,Xr.setFailed)(e)}}pG();
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

is-extglob/index.js:
  (*!
   * is-extglob <https://github.com/jonschlinkert/is-extglob>
   *
   * Copyright (c) 2014-2016, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

is-glob/index.js:
  (*!
   * is-glob <https://github.com/jonschlinkert/is-glob>
   *
   * Copyright (c) 2014-2017, Jon Schlinkert.
   * Released under the MIT License.
   *)

is-number/index.js:
  (*!
   * is-number <https://github.com/jonschlinkert/is-number>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

to-regex-range/index.js:
  (*!
   * to-regex-range <https://github.com/micromatch/to-regex-range>
   *
   * Copyright (c) 2015-present, Jon Schlinkert.
   * Released under the MIT License.
   *)

fill-range/index.js:
  (*!
   * fill-range <https://github.com/jonschlinkert/fill-range>
   *
   * Copyright (c) 2014-present, Jon Schlinkert.
   * Licensed under the MIT License.
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel/index.js:
  (*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
